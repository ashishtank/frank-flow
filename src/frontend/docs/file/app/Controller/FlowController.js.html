<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">app/Controller/FlowController.js | Frank!Flow</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="dev tool to work with the Frank framework"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Frank!Flow"><meta property="twitter:description" content="dev tool to work with the Frank framework"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#controller">Controller</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Controller/CodeController.js~CodeController.html">CodeController</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Controller/FlowController.js~FlowController.html">FlowController</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Controller/PipeInfoController.js~PipeInfoController.html">PipeInfoController</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#converter">Converter</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Converter/ConfigurationConverter.js~ConfigurationConverter.html">ConfigurationConverter</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#facade">Facade</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Facade/CodeFacade.js~CodeFacade.html">CodeFacade</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#model">Model</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Model/FileModel.js~FileModel.html">FileModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Model/FlowModel.js~FlowModel.html">FlowModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Model/IbisdocModel.js~IbisdocModel.html">IbisdocModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Model/PipeModel.js~PipeModel.html">PipeModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/Model/XsdModel.js~XsdModel.html">XsdModel</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-codeview">View/codeView</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/CodeView.js~CodeView.html">CodeView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/FileTreeView.js~FileTreeView.html">FileTreeView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/ToBeautifulSyntax.js~ToBeautifulSyntax.html">ToBeautifulSyntax</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/ValidateConfigurationView.js~ValidateConfigurationView.html">ValidateConfigurationView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-logColor">logColor</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-codeview-codecompletion">View/codeView/codeCompletion</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeCompletion/XSDCodeCompletionView.js~XSDCodeCompletionView.html">XSDCodeCompletionView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-codeview-codeeditviews">View/codeView/codeEditViews</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/CodeAttributesView.js~CodeAttributesView.html">CodeAttributesView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/CodeEditView.js~CodeEditView.html">CodeEditView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/CodeParametersView.js~CodeParametersView.html">CodeParametersView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/CodePipeView.js~CodePipeView.html">CodePipeView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/CodeTypesView.js~CodeTypesView.html">CodeTypesView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/ExitPipeView.js~ExitPipeView.html">ExitPipeView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/codeView/codeEditViews/OptionView.js~OptionView.html">OptionView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-flowview">View/flowView</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/DescriptionView.js~DescriptionView.html">DescriptionView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/FlowView.js~FlowView.html">FlowView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/TypeImageView.js~TypeImageView.html">TypeImageView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-flowview-flowgeneration">View/flowView/flowGeneration</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/flowGeneration/CustomElementGenerator.js~CustomElementGenerator.html">CustomElementGenerator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/flowGeneration/FlowGenerator.js~FlowGenerator.html">FlowGenerator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/flowGeneration/ForwardGenerator.js~ForwardGenerator.html">ForwardGenerator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/flowGeneration/PipeGenerator.js~PipeGenerator.html">PipeGenerator</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-flowview-pipe">View/flowView/pipe</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/pipe/ActivityPipeView.js~ActivityPipeView.html">ActivityPipeView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/pipe/PipeBuilder.js~PipeBuilder.html">PipeBuilder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/flowView/pipe/PipeView.js~PipeView.html">PipeView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-paletteview">View/paletteView</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/paletteView/PaletteView.js~PaletteView.html">PaletteView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-pipeinfoview">View/pipeInfoView</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/pipeInfoView/PipeInfoView.js~PipeInfoView.html">PipeInfoView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-pipeinfoview-specialpipes">View/pipeInfoView/SpecialPipes</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/pipeInfoView/SpecialPipes/XsltInfoView.js~XsltInfoView.html">XsltInfoView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-pipeinfoview-attributes">View/pipeInfoView/attributes</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/pipeInfoView/attributes/GenerateInfoAttributesView.js~GenerateInfoAttributesView.html">GenerateInfoAttributesView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#view-pipeinfoview-parameters">View/pipeInfoView/parameters</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/View/pipeInfoView/parameters/GenerateInfoParametersView.js~GenerateInfoParametersView.html">GenerateInfoParametersView</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#services">services</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/FileService.js~FileService.html">FileService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/IbisdocService.js~IbisdocService.html">IbisdocService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/PipeService.js~PipeService.html">PipeService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/app/services/XsdService.js~XsdService.html">XsdService</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">app/Controller/FlowController.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import FlowView from &apos;../View/flowView/FlowView.js&apos;;
import PaletteView from &apos;../View/paletteView/PaletteView.js&apos;;

export default class FlowController {

  constructor(mainController, flowModel) {
    this.canvasMarginX = 0;
    this.canvasMarginY = 0;

    this.mainController = mainController;
    this.flowModel = flowModel;
    this.flowView = new FlowView(flowModel);
    this.flowView.addListener(this);
    this.paletteView = new PaletteView(this);
    this.paletteView.addListener(this);
    this.hoverSourceWindow = false;
    this.initHandlers();


    localStorage.setItem(&quot;activityMode&quot;, false);
  }

  //_______________Observer_______________
  
  notify(data) {
    if (data == null) {
      return;
    };
    switch (data.type) {
      case &quot;convertConfiguration&quot;:
        this.flowModel.setTransformedXml(this.mainController.convertConfiguration());
        break;
      case &quot;getTypes&quot;:
        this.flowView.types = this.mainController.modifyCode(&quot;getTypes&quot;);
        break;
      case &quot;changeName&quot;:
        this.mainController.modifyCode(&quot;changeName&quot;, data);
        console.log(&quot;name changer&quot;)
        break;
      case &quot;changeAddPipe&quot;:
        this.mainController.modifyCode(&quot;changeAddPipe&quot;, data);
        break;
      case &quot;changeAddForward&quot;:
        this.mainController.modifyCode(&quot;changeAddForward&quot;, data);
        break;
      case &quot;drag&quot;:
        this.mainController.modifyCode(&quot;changePossition&quot;, data);
        break;
      case &quot;dragExit&quot;:
        this.mainController.modifyCode(&quot;changeExitPossition&quot;, data);
        break;
      case &quot;delete&quot;:
        this.mainController.modifyCode(&quot;deleteForward&quot;, data);
        break;
        case &quot;getPipeAttributes&quot;:
        let attr = this.mainController.modifyCode(&quot;getAttributes&quot;, data);
        data.pipeModel.attributes = attr;
        break;
    }
  }

  //_______________Methods to be called from handlers_______________

  toggleHorizontal() {
    let horizontalBuild = this.flowView.horizontalBuild;
    if (!horizontalBuild) {
      this.flowView.horizontalBuild = true;
      $(&apos;#toggleH&apos;).addClass(&apos;selectedItem&apos;);
    } else {
      this.flowView.horizontalBuild = false;
      $(&apos;#toggleH&apos;).removeClass(&apos;selectedItem&apos;);
    }
    this.flowView.generateFlow(this.flowView);
  }

  setFullFlow() {
    $(&apos;#flowContainer&apos;).addClass(&apos;fullFlowContainer&apos;);
    $(&apos;#flowContainer&apos;).css(&apos;display&apos;, &apos;flex&apos;);
    $(&apos;#monacoContainer&apos;).css(&apos;display&apos;, &apos;none&apos;);
    $(&apos;#palette&apos;).css(&apos;display&apos;, &apos;flex&apos;);
    $(&apos;.monaco-flow-wrapper&apos;).css(&apos;justify-content&apos;, &apos;flex-end&apos;);
    this.flowView.customWidth = true;
  }

  setFullEditor() {
    $(&apos;#monacoContainer&apos;).addClass(&apos;fullMonacoContainer&apos;);
    $(&apos;#monacoContainer&apos;).css(&apos;display&apos;, &apos;flex&apos;);
    $(&apos;#flowContainer&apos;).css(&apos;display&apos;, &apos;none&apos;);
    $(&apos;#palette&apos;).css(&apos;display&apos;, &apos;none&apos;);
  }

  setHybrid() {
    $(&apos;#monacoContainer&apos;).removeClass(&apos;fullMonacoContainer&apos;);
    $(&apos;#flowContainer&apos;).removeClass(&apos;fullFlowContainer&apos;);
    $(&apos;#palette&apos;).css(&apos;display&apos;, &apos;flex&apos;);
    $(&apos;#monacoContainer&apos;).css(&apos;display&apos;, &apos;flex&apos;);
    $(&apos;#flowContainer&apos;).css(&apos;display&apos;, &apos;flex&apos;);
  }

  setTheme() {
    let theme = prompt(&apos;choose your theme!&apos;);
    if (theme.match(/theme/gi) == null) return;

    if (this.currentTheme !== null) {
      $(&apos;#canvas&apos;).removeClass(this.currentTheme);
    }
    this.currentTheme = theme;
    $(&apos;#canvas&apos;).addClass(theme);
  }

  //_______________Event handlers_______________

  initHandlers() {
    let cur = this;
    let fullscreen = true;
    let themeSwitch = false;
    let $panzoom = $(&apos;#canvas&apos;).panzoom({
      minScale: 0.5,
      increment: 0.2
    });




    $.contextMenu({
      selector: &apos;.context-menu-one&apos;,
      zIndex: 3001,
      callback: function (key, options) {
        var m = &quot;clicked: &quot; + key;
        window.console &amp;&amp; console.log(m) || alert(m);
      },
      items: {
        &quot;flow&quot;: {
          name: &quot;Toggle editor&quot;, icon: &quot;fas fa-compress&quot;,
          callback: function () {
            if(fullscreen) {
              cur.setHybrid();
            } else {
              cur.setFullFlow();
            }
            fullscreen = !fullscreen;
          }
        },
        &quot;sep1&quot;: &quot;---------&quot;,
        &quot;ActivityMode&quot;: {
          name: &quot;Toggle activity mode&quot;, icon: &quot;fas fa-globe-americas&quot;,
          callback: function () {
            if (localStorage.getItem(&quot;activityMode&quot;) == &quot;false&quot;) {
              localStorage.setItem(&quot;activityMode&quot;, &quot;true&quot;);
            } else {
              localStorage.setItem(&quot;activityMode&quot;, &quot;false&quot;);
            }
            cur.mainController.generateFlow();
            return true;
          }
        },
        &quot;realign&quot;: {
          name: &apos;Realign flow&apos;, icon: &quot;fas fa-outdent&quot;,
          callback: function() {
            cur.flowView.realignFlow();
          }
        },
        &quot;curve&quot;: {
          name: &quot;Toggle curve&quot;, icon: &quot;fas fa-ruler-combined&quot;,
          callback: function () {
            cur.flowView.toggleConnectorType(cur.flowView);
            return true;
          }
        },
        &quot;horizontal&quot;: {
          name: &quot;Toggle flow direction&quot;, icon: &quot;fas fa-ruler-horizontal&quot;,
          callback: function () {
            cur.toggleHorizontal();
            cur.flowView.realignFlow();
            return true;
          }
        },
        &quot;download&quot;: {
          name: &quot;Export SVG&quot;, icon: &quot;fas fa-file-export&quot;,
          callback: function () {
            $panzoom.panzoom(&apos;pan&apos;, 0, 0);
            $panzoom.panzoom(&apos;zoom&apos;, 0, 0);
            cur.flowView.getImage();
            return true;
          }
        },
        // &quot;editor&quot;: {name: &quot;Editor&quot;, icon: &quot;fas fa-file-code&quot;,
        //   callback: function() {
        //     cur.setFullEditor();
        //   }} 
      }
    });


    jsPlumb.on($(&apos;#canvas&apos;), &quot;mouseover&quot;, &quot;.sourceWindow, .description&quot;, function () {
      $panzoom.panzoom(&quot;disable&quot;);
    });

    jsPlumb.on($(&apos;#canvas&apos;), &quot;mouseout&quot;, &quot;.sourceWindow, .description&quot;, function () {
      $panzoom.panzoom(&quot;enable&quot;);
      $(&apos;#flowContainer&apos;).attr(&apos;style&apos;, &apos;&apos;);
    });

    $(&apos;#canvas&apos;).on(&quot;click&quot;, &quot;.sourceWindow&quot;, function (e) {
      e.preventDefault();
      cur.mainController.modifyCode(&quot;undoDecorations&quot;);
      cur.mainController.modifyCode(&quot;selectPipe&quot;, {
        name: this.lastElementChild.firstElementChild.innerHTML,
        type: this.firstElementChild.lastElementChild.innerHTML
      })
    })


    //make the bottom container draggable with mouseover
    jsPlumb.on($(&apos;#canvas&apos;), &quot;mouseover&quot;, &quot;.bottomContainer&quot;, function () {
      let sourceDiv = this.parentElement;
      let dragData = {
        disabled: false,
        containment: &apos;#canvas&apos;,
        drag: function () {
          cur.flowView.moving = true;
          let dragObj = {
            x: $(sourceDiv).css(&apos;left&apos;),
            y: $(sourceDiv).css(&apos;top&apos;),
            name: sourceDiv.lastElementChild.firstElementChild.innerHTML
          }
          if ($(sourceDiv).hasClass(&apos;exit&apos;)) {
            cur.flowView.modifyFlow(&apos;dragExit&apos;, dragObj);
          } else {
            cur.flowView.modifyFlow(&apos;drag&apos;, dragObj);
          }
        },
        stop: function (event, ui) {
          cur.flowView.moving = false;
        }
      }
      instance.draggable(sourceDiv, dragData);
      if (instance.isSourceEnabled(sourceDiv)) {
        instance.toggleSourceEnabled(sourceDiv);
      }
      $(this).addClass(&quot;element-disabled&quot;);
    });


    //when leaving container not draggable
    jsPlumb.on($(&apos;#canvas&apos;), &quot;mouseout&quot;, &quot;.bottomContainer&quot;, function () {
      let sourceDiv = this.parentElement;
      instance.draggable(sourceDiv, {
        disabled: true
      });
      if (!instance.isSourceEnabled(sourceDiv)) {
        instance.toggleSourceEnabled(sourceDiv);
      }
      $(this).removeClass(&quot;element-disabled&quot;);
    });

    //set canvas bounded to container.
    var minScaleX = $(&apos;#flowContainer&apos;).innerWidth();
    var minScaleY = $(&apos;#flowContainer&apos;).innerHeight();


    //make sure panzoom doesn&apos;t leave the container.
    $panzoom.on(&apos;panzoomend&apos;, function (e) {
      var current_pullY = parseInt($(&apos;#canvas&apos;).css(&apos;transform&apos;).split(&apos;,&apos;)[5]);
      var current_pullX = parseInt($(&apos;#canvas&apos;).css(&apos;transform&apos;).split(&apos;,&apos;)[4]);
      if (current_pullX &gt;= 0) {
        $panzoom.panzoom(&apos;pan&apos;, 0, current_pullY);
      }
      if (current_pullY &lt;= -Math.abs($(&apos;#canvas&apos;).css(&apos;height&apos;).replace(&apos;px&apos;, &apos;&apos;)) + 1000) {
        $panzoom.panzoom(&apos;pan&apos;, current_pullX, -Math.abs($(&apos;#canvas&apos;).css(&apos;height&apos;).replace(&apos;px&apos;, &apos;&apos;)) + 1000);
        console.log(&apos;y&lt; 1000&apos;);
      }
      if (current_pullX &lt;= -1540) {
        $panzoom.panzoom(&apos;pan&apos;, -1540, current_pullY);
        console.log(&apos;x&lt; 1540&apos;);
      }
      if (current_pullY &gt;= 0) {
        $panzoom.panzoom(&apos;pan&apos;, current_pullX, 0);
        console.log(&apos;y&gt; 0&apos;);
      }
      $(&apos;#flowContainer&apos;).attr(&apos;style&apos;, &apos;&apos;);
    });

    /*
    save canvas size and update positions in generation.


    int canvasSizeX = 0;
    int canvasSizeY = 0;

    canvasSizeX = 500;
    canvasSizeY = 200;

    left += canvasSizeX;
    top += cansSizeY;

    */

    function calculateCanvasBorder(direction) {
      $(&apos;#canvas&apos;).css(&apos;min-width&apos;, &apos;+=500&apos;);
      let centerX = parseInt($(&apos;#canvas&apos;).css(&apos;min-width&apos;).replace(&apos;px&apos;, &apos;&apos;)) / 2;
      console.log(&apos;centerX: &apos; + centerX);

      $(&apos;.sourceWindow&apos;).each((index, element) =&gt; {

        
        $(element).css(&apos;left&apos;, &apos;+=250&apos;)
        let pipe = {
          x: $(element).css(&apos;left&apos;),
          y: $(element).css(&apos;top&apos;),
          name: element.lastElementChild.firstElementChild.innerHTML
        }
        if ($(element).hasClass(&apos;exit&apos;)) {
          cur.flowView.modifyFlow(&apos;dragExit&apos;, pipe);
        } else {
          cur.flowView.modifyFlow(&apos;drag&apos;, pipe);
        }
      });
      console.log(&apos;x&gt; 0&apos;, $(&apos;#canvas&apos;).css(&apos;min-width&apos;));
    }

    //make zoom possible
    $panzoom.parent().on(&apos;mousewheel.focal&apos;, function (e) {
      if (!e.shiftKey) return;
      e.preventDefault();
      var delta = e.delta || e.originalEvent.wheelDelta;
      var zoomOut = delta ? delta &lt; 0 : e.originalEvent.deltaY &gt; 0;
      $panzoom.panzoom(&apos;zoom&apos;, zoomOut, {
        increment: 0.1,
        focal: e
      });
    });
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
