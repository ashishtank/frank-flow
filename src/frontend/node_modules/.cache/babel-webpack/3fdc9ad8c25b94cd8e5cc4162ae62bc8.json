{"ast":null,"code":"export class Caretaker {\n  constructor(originator) {\n    this.mementos = [];\n    this.redoMementos = [];\n    this.originator = originator;\n  }\n\n  save() {\n    const memento = this.originator.save();\n    this.mementos.push(memento);\n  }\n\n  redo() {\n    const undoMemento = this.redoMementos.pop();\n\n    if (undoMemento) {\n      this.originator.restore(undoMemento);\n    }\n  }\n\n  clearRedoList() {\n    this.redoMementos = [];\n  }\n\n  clearMementoList() {\n    this.mementos = [];\n  }\n\n  undo() {\n    if (!this.mementos.length) {\n      return;\n    }\n\n    const currentMemento = this.mementos.pop();\n    const previousMemento = this.mementos.pop();\n\n    if (previousMemento) {\n      this.originator.restore(previousMemento);\n\n      if (currentMemento) {\n        this.redoMementos.push(currentMemento);\n      }\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}