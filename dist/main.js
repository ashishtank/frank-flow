!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class i{convertConfiguration(e){let t=e.getValue();t=t.replace(/<[^\/][\S]*?[^"\/]Pipe/g,"<pipe"),t=t.replace(/<[\/][\S]*?[^"\/]Pipe/g,"</pipe").replace(/&/g,""),t=t.replace(/<!--[^]*?-->/g,"");let n=(new DOMParser).parseFromString(t,"text/xml"),i=JSON.parse(this.xml2json(n).replace("undefined",""));return null==i.Configuration.Module&&null!=i.Configuration.Adapter?i.Adapter=i.Configuration.Adapter:i.Configuration.Module.forEach((function(e,t){Array.isArray(e.Adapter)?e.Adapter.forEach((function(e,t){null!=e["@name"]&&e["@name"]==localStorage.getItem("currentAdapter")&&(i.Adapter=e)})):null!=e.Adapter&&null!=e.Adapter["@name"]&&e.Adapter["@name"]==localStorage.getItem("currentAdapter")&&(i=e)})),i}domParse(e){return(new DOMParser).parseFromString(e,"text/xml")}xml2json(e,t){var n={toObj:function(e){var t={};if(1==e.nodeType){if(e.attributes.length)for(var i=0;i<e.attributes.length;i++)t["@"+e.attributes[i].nodeName]=(e.attributes[i].nodeValue||"").toString();if(e.firstChild){for(var a=0,o=0,r=!1,s=e.firstChild;s;s=s.nextSibling)1==s.nodeType?r=!0:3==s.nodeType&&s.nodeValue.match(/[^ \f\n\r\t\v]/)?a++:4==s.nodeType&&o++;if(r)if(a<2&&o<2){n.removeWhite(e);for(s=e.firstChild;s;s=s.nextSibling)3==s.nodeType?t["#text"]=n.escape(s.nodeValue):4==s.nodeType?t["#cdata"]=n.escape(s.nodeValue):t[s.nodeName]?t[s.nodeName]instanceof Array?t[s.nodeName][t[s.nodeName].length]=n.toObj(s):t[s.nodeName]=[t[s.nodeName],n.toObj(s)]:t[s.nodeName]=n.toObj(s)}else e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(a)e.attributes.length?t["#text"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(o)if(o>1)t=n.escape(n.innerXml(e));else for(s=e.firstChild;s;s=s.nextSibling)t["#cdata"]=n.escape(s.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType&&(t=n.toObj(e.documentElement));return t},toJson:function(e,t,i){var a=t?'"'+t+'"':"";if(e instanceof Array){for(var o=0,r=e.length;o<r;o++)e[o]=n.toJson(e[o],"",i+"\t");a+=(t?":[":"[")+(e.length>1?"\n"+i+"\t"+e.join(",\n"+i+"\t")+"\n"+i:e.join(""))+"]"}else if(null==e)a+=(t&&":")+"null";else if("object"==typeof e){var s=[];for(var l in e)s[s.length]=n.toJson(e[l],l,i+"\t");a+=(t?":{":"{")+(s.length>1?"\n"+i+"\t"+s.join(",\n"+i+"\t")+"\n"+i:s.join(""))+"}"}else a+="string"==typeof e?(t&&":")+'"'+e.toString()+'"':(t&&":")+e.toString();return a},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var n=function(e){var t="";if(1==e.nodeType){t+="<"+e.nodeName;for(var i=0;i<e.attributes.length;i++)t+=" "+e.attributes[i].nodeName+'="'+(e.attributes[i].nodeValue||"").toString()+'"';if(e.firstChild){t+=">";for(var a=e.firstChild;a;a=a.nextSibling)t+=n(a);t+="</"+e.nodeName+">"}else t+="/>"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+="<![CDATA["+e.nodeValue+"]]>");return t},i=e.firstChild;i;i=i.nextSibling)t+=n(i);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1==t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var i=n.toJson(n.toObj(n.removeWhite(e)),e.nodeName,"\t");return"{\n"+t+(t?i.replace(/\t/g,t):i.replace(/\t|\n/g,""))+"\n}"}}class a{constructor(){this.initAdapter()}initAdapter(){this.adapter=["<Adapter",'\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','\txsi:noNamespaceSchemaLocation="https://ibis4example.ibissource.org/rest/ibisdoc/ibisdoc.xsd"','\tname="HelloWorld" ','\tdescription="Voorbeeld adapter">','\t<Receiver name="HelloWorld">','\t\t<ApiListener name="HelloWorld"','\t\t\turiPattern="helloworld/{inputString}"','\t\t\tmethod = "get"',"\t\t/>","\t</Receiver>",'\t<Pipeline firstPipe="SwitchInput">','\t\t<XmlSwitchPipe name="SwitchInput"','\t\t\tgetInputFromFixedValue="&lt;dummy/&gt;"','\t\t\txpathExpression="$input" x="436" y="131">','\t\t\t<Param name="input" sessionKey="inputString"></Param>',"\t\t</XmlSwitchPipe>\n\n","\t\t<FixedResultPipe",'\t\t\tname="NFHelloWorld"','\t\t\treturnString="Hallo Ricardo !"','\t\t \tx="863" y="228">','\t\t\t<Forward name="success" path="Exit"/>',"\t\t</FixedResultPipe>\n",'\t\t<Exit path="ServerError" state="error" code="500"/>','\t\t<Exit path="Exit" state="success" code="201"/>',"\t</Pipeline>","</Adapter>"]}}class o{constructor(e){this.editor=e}validateConfiguration(){return xmllint.validateXML({xml:this.editor.getValue().replace(/\sx=".*?"/g,"").replace(/\sy=".*?"/g,""),schema:localStorage.getItem("ibisdocXsd"),TOTAL_MEMORY:16777217})}decorateLine(e){this.decorations=this.editor.deltaDecorations([],[{range:new monaco.Range(e,1,e,1),options:{glyphMarginClassName:"myGlyphMarginClass"}}])}undoDecorations(){this.decorations=this.editor.deltaDecorations(this.editor.getModel().getAllDecorations(),[{range:new monaco.Range(1,1,1,1),options:{}}]),this.editor.getModel().setValue(this.editor.getModel().getValue())}}class r{constructor(e){this.codeView=e}initProvider(){this.schemaNode=this.stringToXml(localStorage.getItem("ibisdocXsd").replace(/xs\:/g,"")).childNodes[0],console.log(this.schemaNode,"hoi"),monaco.languages.registerCompletionItemProvider("xml",this.getXmlCompletionProvider(monaco))}stringToXml(e){var t;window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e));return t}getLastOpenedTag(e){var t=e.match(/<\/*(?=\S*)([a-zA-Z-]+)/g);if(t)for(var n=[],i=t.length-1;i>=0;i--)if(0===t[i].indexOf("</"))n.push(t[i].substring("</".length));else{var a=e.lastIndexOf(t[i]),o=t[i].substring("<".length);if(-1===e.indexOf("/>",a)){if(!n.length||n[n.length-1]!==o)return{tagName:o,isAttributeSearch:(e=e.substring(a)).indexOf("<")>e.indexOf(">")};n.splice(n.length-1,1)}e=e.substring(0,a)}}getAreaInfo(e){var t=['"',"'","\x3c!--","<![CDATA["],n=!0;e=e.replace(/"([^"\\]*(\\.[^"\\]*)*)"|\'([^\'\\]*(\\.[^\'\\]*)*)\'|<!--([\s\S])*?-->|<!\[CDATA\[(.*?)\]\]>/g,"");for(var i=0;i<t.length;i++){var a=e.indexOf(t[i]);a>-1&&(e=e.substring(0,a),n=!1)}return console.log("completion available: ",n,e),{isCompletionAvailable:n,clearedText:e}}shouldSkipLevel(e){return"complexType"===e||"all"===e||"sequence"===e}findElements(e,t){for(var n=0;n<e.length;n++)if("annotation"!==e[n].tagName&&"attribute"!==e[n].tagName)if(this.shouldSkipLevel(e[n].tagName)){var i=this.findElements(e[n].children,t);if(i)return i}else{if(!t)return e;if(this.getElementAttributes(e[n]).name===t)return e[n]}}findAttributes(e){for(var t=[],n=0;n<e.length;n++)if("complexType"===e[n].tagName){var i=this.findAttributes(e[n].children);if(i)return i}else"attribute"===e[n].tagName&&t.push(e[n]);return t}getElementAttributes(e){for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;return t}getItemDocumentation(e){for(var t=0;t<e.children.length;t++){if("annotation"===e.children[t].tagName)return this.getItemDocumentation(e.children[0]);if("documentation"===e.children[t].tagName)return e.children[t].textContent}}isItemAvailable(e,t,n){if((t=t||"1")&&"unbounded"===t)return!0;for(var i=0,a=0;a<n.length;a++)n[a]===e&&i++;return 0===i||parseInt(t)>i}getAvailableElements(e,t,n){for(var i,a=[],o=0;o<t.length;o++)"annotation"!==t[o].tagName&&(i=this.findElements([t[o]]));if(!i)return[];for(o=0;o<i.length;o++){let t=this.getElementAttributes(i[o]);this.isItemAvailable(t.name,t.maxOccurs,n)&&a.push({label:t.name,kind:e.languages.CompletionItemKind.Field,detail:t.type,documentation:this.getItemDocumentation(i[o])})}return a}getAvailableAttribute(e,t,n){for(var i,a=[],o=0;o<t.length;o++)"annotation"!==t[o].tagName&&(i=this.findAttributes([t[o]]));if(!i)return[];for(o=0;o<i.length;o++){var r=this.getElementAttributes(i[o]);this.isItemAvailable(r.name,r.maxOccurs,n)&&a.push({label:r.name,kind:e.languages.CompletionItemKind.Property,detail:r.type,documentation:this.getItemDocumentation(i[o])})}return a}getXmlCompletionProvider(e){let t=this;return{triggerCharacters:["<"],provideCompletionItems:function(n,i){var a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}),o=t.getAreaInfo(a);if(console.log("position: ",o),!o.isCompletionAvailable)return[];var r=t.getLastOpenedTag(o.clearedText);console.log("last opened tag: ",r);var s=[],l=[],c=r&&r.isAttributeSearch;if(r){var d=t.stringToXml(n.getValue()),h=d.lastElementChild;for(console.log(d);h;){if(s.push(h.tagName),h.tagName===r.tagName){if(r.isAttributeSearch)for(var g=h.attributes,p=0;p<g.length;p++)l.push(g[p].nodeName);else{var u=h.children;for(p=0;p<u.length;p++)l.push(u[p].tagName)}break}h=h.lastElementChild}}var m=this.schemaNode;for(p=0;p<s.length;p++)m&&(m=t.findElements(m.children,s[p]));return c?m?t.getAvailableAttribute(e,m.children,l):[]:m?t.getAvailableElements(e,m.children,l):[]}}}}class s{constructor(){this.listeners=[],this.ibisdocJson=null,this.decorations=null,this.decorations=null,this.validateConfigurationView,this.CodeCompletionView=new r(this)}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}makeEditor(e){this.editor=monaco.editor.create(document.getElementById("monacoContainer"),{value:e,language:"xml",theme:"vs-dark",glyphMargin:!0,automaticLayout:!0}),this.selectPipe("SwitchInput"),this.validateConfigurationView=new o(this.editor)}edit(e,t){this.editor.executeEdits("monacoContainer",[{range:e,text:t}])}addOptions(e){let t,n,i=$("#adapterSelect");e.forEach((function(e,a){n=e.match(/<Configuration[^]*?name=".*?"/g),null!=n&&(n=n[0].match(/".*?"/g)[0].replace(/"/g,""),t=$("<option></option>").attr("value",a).text(n),$(i).append(t))})),this.editor.setValue(localStorage.getItem("0"))}selectPipe(e){let t=this,n=null;if(this.editor.getModel().findMatches('<[\\S]*?[^"/][pP]ipe[\\s\\t\\n][^]*?>[^]*?<[/][\\S]*?[^"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){null!==t.editor.getModel().getValueInRange(i.range).match('name="'+e+'"',"g")&&(n=i.range)})),null==n)return n;this.decorations=this.editor.deltaDecorations([],[{range:n,options:{inlineClassName:"myContentClass"}}])}changeName(e,t){this.changeNameCode('<[\\S]*?[^"/][pP]ipe(\\n\\t*)?\\s?name="\\w*"',e,t)&&this.changeNameCode('<forward(\\n\\t*)?(\\s\\w*="(\\s?\\S)*"(\\n\\t*)?)*\\/>',e,t)}changePossition(e,t,n){let i=this,a=this.editor.getModel().findMatches('<[\\S]*?[^"/][pP]ipe[\\s\\t\\n][^]*?>|Receiver[\\s\\t\\n][^]*?>',!1,!0,!1,!1);e=e.replace("(receiver): ",""),a.forEach((function(a,o){let r=i.editor.getModel().getValueInRange(a.range);if(r.split('"').find(t=>t===e)){if(r.split(/[\s=]/).find(e=>"x"==e))r=r.replace(new RegExp('x="[0-9]*"',"g"),'x="'+t+'"'),r=r.replace(new RegExp('y="[0-9]*"',"g"),'y="'+n+'"');else{let e=' x="'+t+'" y="'+n+'"';r=-1!=r.indexOf("/>")?r.slice(0,r.indexOf("/"))+e+r.slice(r.indexOf("/")):r.slice(0,r.indexOf(">"))+e+r.slice(r.indexOf(">"))}i.edit(a.range,r)}}))}changeExitPossition(e,t,n){let i=this,a=($("#canvas").text().match(/Adapter:\s.*?\s/g)[0].replace(/Adapter:\s/g,"").replace(" ",""),'<Adapter name="'+localStorage.getItem("currentAdapter")+'"[\\s\\S\\n]*?<Exit [^]*?\\/>');this.editor.getModel().findMatches(a,!1,!0,!1,!1).forEach((function(a,o){let r=i.editor.getModel().getValueInRange(a.range);if(r=r.match("<Exit [^]*?\\/>")[0],-1!=r.indexOf('path="'+e+'"')){if(-1!=r.indexOf('x="'))r="\t\t"+r.replace(/x="[0-9]*?"/g,'x="'+t+'"').replace(/y="[0-9]*?"/g,'y="'+n+'"');else{let e=' x="'+t+'" y="'+n+'"';r="\t\t"+r.slice(0,r.indexOf("/"))+e+r.slice(r.indexOf("/"))}a.range.startLineNumber=a.range.endLineNumber,i.edit(a.range,r)}}))}changeNameCode(e,t,n){let i=this,a=this.editor,o=!1,r=e;return a.getModel().findMatches(r,!1,!0,!1,!1).forEach((function(e,r){let s=a.getModel().getValueInRange(e.range);if(s.split('"').find(e=>e===t)){let a=s.replace(new RegExp(t,"g"),n);o=!0,i.edit(e.range,a)}})),o}changeAddForward(e,t){let n=this;this.editor.getModel().findMatches('<[\\S]*?[^"/][pP]ipe[\\s\\t\\n][^]*?>[^]*?<[/][\\S]*?[^"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){let o=n.editor.getModel().getValueInRange(i.range);if(o.split(/[\s>]/).find(t=>t==='name="'+e+'"')){o=o.slice(0,o.search(/<[/][\S]*?[^"/]Pipe/))+'\t<Forward name="success" path="'+t+'"/>';let e={endColumn:1,endLineNumber:i.range.endLineNumber,startColumn:1,startLineNumber:i.range.endLineNumber};n.edit(e,"\n"),n.edit(i.range,o)}}))}deleteForward(e,t){let n=this;this.editor.getModel().findMatches('<[\\S]*?[^"/][pP]ipe[\\s\\t\\n][^]*?>[^]*?<[/][\\S]*?[^"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){let o=n.editor.getModel().getValueInRange(i.range);if(o.split(/[\s>]/).find(t=>t==='name="'+e+'"')){t="exit"==t.toLowerCase()?"Exit":t;let e=o.replace(new RegExp('<Forward[^/]*?path="'+t+'"[^]*?/>',"gi"),"");n.edit(i.range,e)}}))}changeAddPipe(e,t,n="customPipe"){let i=this,a=($("#canvas").text().match(/Adapter:\s.*?\s/g)[0].replace(/Adapter:\s/g,"").replace(" ",""),'<Adapter name="'+localStorage.getItem("currentAdapter")+'"[\\s\\S\\n]*?<Exit');this.editor.getModel().getValue().match(a);this.editor.getModel().findMatches(a,!1,!0,!1,!1).some((function(a,o){let r=a.range;r.startColumn=1,r.endColumn=1,r.startLineNumber=r.endLineNumber,i.edit(r,"\n");let s="\t\t\t<"+n+' name="'+e+'" x="'+t.x+'" y="'+t.y+'">\n\n\t\t\t</'+n+">\n";return i.edit(r,s),!0}))}getTypes(){let e,t={},n=this.editor.getValue(),i=n.split(/[<>]/),a=null,o=n.match(/<Receiver[^]*?name=".*?"[^]*?>/g);return o=null!=o?o[0].match(/".*?"/g)[0].replace(/"/g,""):"NO_RECEIVER_FOUND",t['"receiver" '+o]="Receiver",i.forEach((function(n,i){if(n.search(/[^/][\S]*?[^"/]Pipe[^]*?name=".*?"/)>-1&&"/"!=n.charAt(0)){let i=n.slice(n.search(/[^/][\S]*?[^"/]Pipe[^]*?name=".*?"/));null!=i.match(/name=".*?"/)&&(e=i.match(/name=".*?"/)[0].match(/".*?"/)[0].replace(/"/g,"")),null!=i.match(/[^]*?Pipe/)&&(a=i.match(/[^]*?Pipe/)[0]),null!==a&&null!==e&&(t[e]=a)}})),t}}class l{constructor(){}toBeautifulSyntax(e){let t,n=e.match(/<pipe(\n\t*)?(\s\w*="(\s?\S)*"(\n\t*)?)*>[^]*?<\/pipe>/g),i=e;return null==n?e:(n.forEach((function(e,t){let n=e,a="",o=n.match(/className=".*?"/)[0].match(/\.[^.]*?"/)[0].replace(/[".]/g,"");null==o.match(/.*?Pipe/)&&(o+="Pipe"),a=n.replace(/className=".*?"/g,""),a=a.replace(/<pipe/g,"<"+o).replace(/<\/pipe>/,"</"+o+">"),i=i.replace(n,a)})),i=i.replace(/<listener[^]*?className=".*?"[^]*?\/>/g,(function(e){let t=e.match(/className=".*?"/)[0].match(/\.[^.]*?"/)[0].replace(/[".]/g,"");return e="<"+(e=e.replace(/className=".*?"/g,"")).replace(/<.*? /g,t+" ")})).replace(/<[\/]?[a-zA-Z]/g,(function(e){return e.toUpperCase()})),t=i.match(/<Exits>[^]*?<\/Exits>/)[0].replace(/<\/?Exits>/g,"").replace(/\t/,""),i=i.replace(/<Exits>[^]*?<\/Exits>/g,"").replace(/<\/Pipeline>/g,t+"\n \t\t</Pipeline>").replace(/className=".*?"/g,""),i)}}class c{constructor(e){this.mainController=e,this.codeModel=new a,this.codeView=new s,this.codeView.addListener(this),this.toBeautiful=new l,this.notify({type:"getData"}),this.notify({type:"setEditor"}),this.editor=this.codeView.editor,this.initListeners()}notify(e){switch(e.type){case"getData":this.getXsd(),this.getIbisdoc(),this.getConfigurations();break;case"setEditor":this.codeView.makeEditor()}}initListeners(){let e=this;$("#adapterSelect").on("change",(function(t){let n=$("#adapterSelect").val();e.editor.getModel().setValue(localStorage.getItem(n))})),$("#adapterSelect").on("click",(function(t){let n=$("#adapterSelect").val();localStorage.setItem(n,e.editor.getModel().getValue())})),$("#beautify").click((function(){let t=beautify.xml(e.editor.getValue(),4);e.editor.getModel().setValue(t)})),e.editor.onMouseDown((function(t){t.target.range.startLineNumber=1,t.target.range.startColumn=1;let n=e.editor.getModel().getValueInRange(t.target.range).match(/<Adapter[^]*?name=".*?">/g);if(null!=n){let t=n[n.length-1].match(/name="[^]*?"/g)[0].match(/"[^]*?"/g)[0].replace(/"/g,"");localStorage.setItem("currentAdapter",t),e.mainController.generateFlow()}})),this.editor.getModel().onDidChangeContent((function(t){if(!e.mainController.flowController.flowView.moving&&!e.mainController.flowController.flowView.adding)try{$("#canvas").css("display","block"),$(".customErrorMessage").remove(),e.mainController.generateFlow()}catch(t){console.log("error",t),e.mainController.flowController.flowView.modifyFlow("error",t)}})),$("#runXsd").click((function(){let t=e.validateConfiguration(),n=0;e.undoDecorations(),null!==t.errors&&(console.log(t.errors),t.errors.forEach((function(t,i){n=t.match(/:.*?:/)[0].replace(/:/g,""),e.decorateLine(n)})))}))}selectPipe(e){this.codeView.selectPipe(e)}getTypes(){return this.codeView.getTypes()}validateConfiguration(){return this.codeView.validateConfigurationView.validateConfiguration()}decorateLine(e){this.codeView.validateConfigurationView.decorateLine(e)}undoDecorations(){this.codeView.validateConfigurationView.undoDecorations()}changeName(e,t){this.codeView.changeName(e,t)}changePossition(e,t,n){this.codeView.changePossition(e,t,n)}changeExitPossition(e,t,n){this.codeView.changeExitPossition(e,t,n)}changeAddForward(e,t){this.codeView.changeAddForward(e,t)}deleteForward(e,t){this.codeView.deleteForward(e,t)}changeAddPipe(e,t,n){this.codeView.changeAddPipe(e,t,n)}getPipes(){return this.codeView.ibisdocJson}getIbisdoc(){let e=this;fetch("../rest/ibisdoc/ibisdoc.json",{method:"GET"}).then(e=>e.json()).then(t=>{e.codeView.ibisdocJson=t,e.mainController.setPipes(t)}).catch(e=>{console.log(e),this.getDefaultIbisdoc()})}getDefaultIbisdoc(){let e=this;fetch("https://cors-anywhere.herokuapp.com/https://ibis4example.ibissource.org/rest/ibisdoc/ibisdoc.json",{method:"GET"}).then(e=>e.json()).then(t=>{e.codeView.ibisdocJson=t,e.mainController.setPipes(t)}).catch(e=>{console.log(e)})}getXsd(){fetch("../rest/ibisdoc/ibisdoc.xsd",{method:"GET"}).then(e=>e.text()).then(e=>{localStorage.setItem("ibisdocXsd",e),console.log("xsd is loaded!, here")}).catch(e=>{console.log("not loaded xsd",e),this.getDefaultXsd()})}getDefaultXsd(){fetch("https://cors-anywhere.herokuapp.com/https://ibis4example.ibissource.org/rest/ibisdoc/ibisdoc.xsd",{method:"GET"}).then(e=>e.text()).then(e=>{localStorage.setItem("ibisdocXsd",e),console.log("xsd is loaded!, here")}).catch(e=>{console.log("not loaded xsd",e)})}getConfigurations(e){let t=this,n="../iaf/api/configurations";e&&(n="../"+n),fetch(n,{method:"GET"}).then(e=>e.text()).then(e=>{let t=[];return e.match(/<[cC]onfiguration[^]*?>[^]*?<\/[cC]onfiguration>/g).forEach((function(e,n){t.push(e)})),t}).then(e=>(e.forEach((function(n,i){null==n.match(/<Configuration/g)?(e[i]=t.toBeautiful.toBeautifulSyntax(n),localStorage.setItem(i,t.toBeautiful.toBeautifulSyntax(n))):localStorage.setItem(i,n)})),e)).then(e=>{t.codeView.addOptions(e)}).catch(n=>{e?console.log("couldnt load configurations",n):(console.log("configurations path was incorrect, trying other path now..."),t.getConfigurations(!0))})}}class d{constructor(){}addDescription(e,t,n){let i=$("#canvas"),a=$("<div></div>").addClass("description").attr("id","description"+n),o=$("<p></p>").text(e);a.append(o),console.log("desc Text:"+e,t),t.x=parseInt(t.x)+300,$(a).css("left",t.x+"px"),$(a).css("top",t.y+"px"),i.append(a)}}class h{constructor(e){this.flowView=e,this.descriptionView=new d}addPipe(e,t,n,i,a){let o=this.flowView,r=o.windows+=1,s=$("#canvas"),l=$("<div></div>").addClass("window sourceWindow").attr("id","sourceWindow"+r),c=$("<strong></strong>").attr("id","strong").text(o.getTypes()[e]),d=$("<div></div>").addClass("typeWindow").append(this.getTypeImage(e),c),h=$("<div></div>").addClass("bottomContainer"),g=$("<strong></strong>").attr("id","strong").text(e),p=$("<hr>"),u=$("<strong></strong>").attr("id","strong").text(n);return i?h.append(g,u):h.append(g,p,u),l.append(d,h),null!=t&&($(l).css("left",t.x+"px"),$(l).css("top",t.y+"px"),a&&this.descriptionView.addDescription(a,t,r)),i&&$(l).addClass("exit"),instance.makeSource(l,{filter:".enableDisableSource",filterExclude:!0,maxConnections:-1,endpoint:["Dot",{radius:7,cssClass:"small-blue"}],anchor:o.sourceAnchors,connector:[o.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]}),instance.makeTarget(l,{dropOptions:{hoverClass:"hover"},anchor:["Left","Top","Right"],endpoint:["Dot",{radius:11,cssClass:"large-green"}]}),s.append(l),a&&instance.connect({source:"sourceWindow"+r,target:"description"+r}),e}getTypeImage(e,t){let n,i,a=this.flowView.getTypes(),o=new Image;if(i=t?"media/"+e+".png":"media/"+a[e]+".png",null!=i)return n=$("<img></img>").attr({src:i,alt:a[e],title:a[e]}).addClass("typeImg"),o.src=i,o.onerror=function(){n.attr("src","media/basicPipe.png")},n}}class g{constructor(e){this.flowView=e,this.pipeView=new h(e)}addPipe(e="pipe"+this.flowView.windows,t,n="",i,a){return this.pipeView.addPipe(e,t,n,i,a)}generateFlow(e,t){this.flowView.resetWindows();let n=null,i=e;if(null!=i&&null!=i.Adapter&&null!=i.Adapter.Pipeline){if(instance.reset(),$("#canvas").empty(),null!=i.Adapter.Pipeline.pipe){$("#canvas").text("Adapter: "+i.Adapter["@name"]+" ");let e=i.Adapter.Pipeline.pipe,t=[];if(Array.isArray(e))for(let i in e){let a=e[i]["@name"],o=e[i]["@x"],r=e[i]["@y"],s="",l=null;if(n=this.checkPossitions(o,r),null!=e[i]["@xpathExpression"]?s=e[i]["@xpathExpression"].slice(0,15)+"...":null!=e[i].FixedQuerySender&&null!=e[i].FixedQuerySender["@query"]&&(s=e[i].FixedQuerySender["@query"].slice(0,15)+"..."),null!=e[i].description&&(console.log(e[i].description),l=e[i].description),this.addPipe(a,n,s,null,l),null!=e[i].Forward){let n=null;Array.isArray(e[i].Forward)?e[i].Forward.forEach((function(e,i){n={sourcePipe:a,targetPipe:e["@path"],name:e["@name"]},t.push(n)})):(n={sourcePipe:a,targetPipe:e[i].Forward["@path"],name:e[i].Forward["@name"]},t.push(n))}else{let n=parseInt(i)+1;if(null!=e[n]){let i={sourcePipe:a,targetPipe:e[n]["@name"],name:"success"};t.push(i)}}}else{let n=e["@name"];if(this.addPipe(n),null!=e.Forward){let i=null;Array.isArray(e.Forward)?e.Forward.forEach((function(e,a){i={sourcePipe:n,targetPipe:e["@path"],name:e["@name"]},t.push(i)})):(i={sourcePipe:n,targetPipe:e.Forward["@path"],name:e.Forward["@name"]},t.push(i))}}if(this.addExits(i.Adapter.Pipeline.Exit),null===n?this.flowView.setOffsets(!1):this.flowView.setOffsets(!0),null!=i.Adapter.Receiver){let e=this.addReceiver(i,t[0].sourcePipe);t.push(e)}this.generateForwards(t)}}else this.flowView.displayError(i)}checkPossitions(e,t){return null==e&&null!=t?e=t:null==t&&null!=e&&(t=e),null!=e&&null!=t?{x:e,y:t}:null}addReceiver(e,t){return this.addPipe("(receiver): "+e.Adapter.Receiver["@name"],{x:"600",y:"400"}),{sourcePipe:"(receiver): "+e.Adapter.Receiver["@name"],targetPipe:t,name:"request"}}addExits(e){let t,n,i,a,o=e;if(null!=o)if(Array.isArray(o)){let e=this;o.forEach((function(r,s){n=o[s]["@path"],a=o[s]["@x"],i=o[s]["@y"],null!=a&&null!=i&&(t={x:a,y:i}),e.addPipe(n,t,"",!0)}))}else n=o["@path"],a=o["@x"],i=o["@y"],null!=a&&null!=i&&(t={x:a,y:i}),this.addPipe(n,t,"",!0)}generateForwards(e){let t=!0,n=this;instance.bind("connection",(function(e,i){let a=0;instance.getAllConnections().forEach((function(t){t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId&&a<2&&a++}));let o=e.sourceEndpoint.element.lastChild.firstElementChild.textContent,r=e.targetEndpoint.element.lastChild.firstElementChild.textContent;e.connection.bind("dblclick",(function(e){instance.deleteConnection(e),n.flowView.modifyFlow("delete",{name:o,target:r})})),a>1?instance.getAllConnections().some((function(t){if(t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId)return instance.deleteConnection(t),!0})):t||n.flowView.modifyFlow("connection",{source:o,target:r})}));let i="",a="";t=!0,$(e).each((function(e,t){i="",a="",null==t.targetPipe&&(t.targetPipe=t.name),$(".sourceWindow").each((function(e,n){var o=$(n)[0];let r=o.lastChild.firstChild.innerHTML;r==t.sourcePipe?i=$(o).attr("id"):r==t.targetPipe&&(a=$(o).attr("id"))}));let n={stroke:"#000000",strokeWidth:3};"failure"==t.name||"exception"==t.name?n.stroke="#FF0000":"success"==t.name?n.stroke="#22bb33":"request"!=t.name&&"response"!=t.name||(n.dashstyle="2 4"),""!=i&&""!=a&&instance.connect({source:i,target:a,paintStyle:n,overlays:[["Label",{label:t.name,id:"label",location:.1,padding:100}]],connector:[this.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]})})),t=!1}}class p{constructor(){this.transformedXml=null,this.types=[],this.listeners=[],this.windows=0,this.moving=!1,this.adding=!1,this.connectorType="Flowchart",this.horizontalBuild=!1,this.flowGenerator=new g(this),this.getInstance()}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}getImage(){var e=document.getElementById("canvas");domtoimage.toSvg(e).then((function(e){var t=document.createElement("a");t.download="lol.svg",t.href=e,t.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))}resetWindows(){this.windows=0}getInstance(){this.sourceAnchors=["Top","Right","Left",[.25,1,0,1],[.5,1,0,1],[.75,1,0,1],[1,1,0,1]],this.instance=window.instance=jsPlumb.getInstance({DragOptions:{cursor:"pointer",zIndex:2e3},PaintStyle:{stroke:"#000000",strokeWidth:3},ConnectionOverlays:[["Arrow",{location:1,visible:!0,id:"ARROW",zIndex:1e3}]],Container:"canvas"});this.instance.registerConnectionType("basic",{connector:["StateMachine",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}]})}modifyFlow(e,t){switch(e){case"generate":this.generateFlow();break;case"add":this.notifyListeners(this.addCustomPipe(t.name,t.className));break;case"edit":this.notifyListeners(this.editTitle(t));break;case"connection":this.adding=!0,t.type="changeAddForward",this.notifyListeners(t),this.adding=!1;break;case"drag":(t=this.cleanPossitions(t)).type="drag",this.notifyListeners(t);break;case"dragExit":(t=this.cleanPossitions(t)).type="dragExit",this.notifyListeners(t);break;case"delete":t.type="delete",this.notifyListeners(t);break;case"error":this.displayError(t)}}cleanPossitions(e){return e.x=e.x.replace(/px/,""),e.y=e.y.replace(/px/,""),e}editTitle(e){let t=e.innerHTML,n=prompt("What is the new Title?",t);return null!=n?(e.innerHTML=n,{oldTitle:t,newTitle:n}):null}addCustomPipe(e,t){return{type:"changeAddPipe",name:this.addPipe(e,{x:100,y:100}),possitions:{x:100,y:100},className:t}}toggleConnectorType(e){"Flowchart"===e.connectorType?e.connectorType="StateMachine":e.connectorType="Flowchart",e.generateFlow()}addPipe(e,t,n,i){return this.flowGenerator.addPipe(e,t,n,i)}getTypes(){return this.notifyListeners({type:"getTypes"}),this.types}setOffsets(e){let t=0;this.moving=!0;for(let n=1;n<=this.windows;n++){if(t+=250,!e){let e=$("#sourceWindow"+n);this.horizontalBuild?(e.css("top","100px"),e.css("left",t+"px")):e.css("top",t+"px"),this.modifyFlow("drag",{name:e[0].lastChild.firstElementChild.textContent,x:e.css("left"),y:e.css("top")})}let i,a;this.horizontalBuild?(i=t+(64*n-1e3),a=parseInt($("#canvas").css("width").replace("px","")),i>a&&$("#canvas").css("width",i)):(i=t+(64*n-1450),a=parseInt($("#canvas").css("height").replace("px","")),i>a&&$("#canvas").css("height",i))}this.moving=!1}generateFlow(){this.notifyListeners({type:"convertConfiguration"}),this.flowGenerator.generateFlow(this.transformedXml,this.windows)}displayError(e){instance.reset(),$("#canvas").empty(),$("#canvas").css("display","none"),$(".customErrorMessage").remove(),$("#flowContainer").append($("<h1></h1>").text("Error"+e).addClass("customErrorMessage"))}}class u{constructor(e){this.listeners=[],this.pipes=null,this.flowView=e.flowView}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}generatePalettePipes(e){let t=new h(this.flowView),n=$("#palette");e.forEach((function(e,i){$("<strong></strong>").text(e.name);let a,o=$("<button></button>").attr("type","button").addClass("collapsible listItem"),r=$("<div></div>").addClass("content"),s=$("<span></span>").addClass("buttonText").text(e.name);a=t.getTypeImage(e.name,!0).attr("id",e.name),o.append(s),r.append(a),n.append(o,r)})),this.setHandlers()}setHandlers(){let e=this;var t,n=document.getElementsByClassName("collapsible");for(t=0;t<n.length;t++)n[t].addEventListener("click",(function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}));$("#canvas").on("dragover",(function(e){e.preventDefault(),e.stopPropagation()})),$("#canvas").on("drop",(function(t){t.preventDefault(),t.stopPropagation();let n=localStorage.getItem("dropPipe");e.flowView.modifyFlow("add",{name:"new"+n,className:n})})),$(".typeImg").on("dragstart",(function(e){console.log("drag"),localStorage.setItem("dropPipe",e.target.id)}))}}class m{constructor(e){this.mainController=e,this.flowView=new p,this.flowView.addListener(this),this.paletteView=new u(this),this.paletteView.addListener(this),this.notify({type:"getPipes"}),this.hoverSourceWindow=!1,this.initHandlers()}notify(e){if(null!=e)switch(e.type){case"convertConfiguration":this.flowView.transformedXml=this.mainController.convertConfiguration();break;case"getTypes":this.flowView.types=this.mainController.modifyCode("getTypes");break;case"changeName":this.mainController.modifyCode("changeName",e);break;case"changeAddPipe":this.mainController.modifyCode("changeAddPipe",e);break;case"changeAddForward":this.mainController.modifyCode("changeAddForward",e);break;case"drag":this.mainController.modifyCode("changePossition",e);break;case"dragExit":this.mainController.modifyCode("changeExitPossition",e);break;case"delete":this.mainController.modifyCode("deleteForward",e)}}initHandlers(){let e=this;$("#addPipe").click((function(){e.flowView.modifyFlow("add",{name:"newPipe",className:"customPipe"})})),$("#downloadLink").click((function(){e.flowView.getImage()})),$("#setData").click((function(){e.flowView.generateFlow(e.flowView)})),$("#lineChanges").click((function(){e.flowView.toggleConnectorType(e.flowView)})),$("#toggleH").click((function(){e.flowView.horizontalBuild?(e.flowView.horizontalBuild=!1,$("#toggleH").removeClass("selectedItem")):(e.flowView.horizontalBuild=!0,$("#toggleH").addClass("selectedItem")),e.flowView.generateFlow(e.flowView)})),$("#canvas").on("dblclick","#strong",(function(t){t.stopPropagation(),console.log("dblclick!"),"EXIT"!==this.innerHTML&&e.flowView.modifyFlow("edit",this)})),jsPlumb.on($("#canvas"),"mouseover",".sourceWindow",(function(){t.panzoom("disable")})),jsPlumb.on($("#canvas"),"mouseout",".sourceWindow",(function(){t.panzoom("enable"),$("#flowContainer").attr("style","")})),$("#canvas").on("click",".sourceWindow",(function(t){t.preventDefault(),e.mainController.modifyCode("undoDecorations"),e.mainController.modifyCode("selectPipe",{name:this.lastElementChild.firstElementChild.innerHTML})})),jsPlumb.on($("#canvas"),"mouseover",".bottomContainer",(function(){let t=this.parentElement,n={disabled:!1,containment:"#canvas",drag:function(){e.flowView.moving=!0;let n={x:$(t).css("left"),y:$(t).css("top"),name:t.lastElementChild.firstElementChild.innerHTML};$(t).hasClass("exit")?e.flowView.modifyFlow("dragExit",n):e.flowView.modifyFlow("drag",n)},stop:function(t,n){e.flowView.moving=!1}};instance.draggable(t,n),instance.isSourceEnabled(t)&&instance.toggleSourceEnabled(t),$(this).addClass("element-disabled")})),jsPlumb.on($("#canvas"),"mouseout",".bottomContainer",(function(){let e=this.parentElement;instance.draggable(e,{disabled:!0}),instance.isSourceEnabled(e)||instance.toggleSourceEnabled(e),$(this).removeClass("element-disabled")}));$("#flowContainer").innerWidth(),$("#flowContainer").innerHeight();let t=$("#canvas").panzoom({minScale:.5,increment:.2});t.on("panzoomend",(function(e){var n=parseInt($("#canvas").css("transform").split(",")[5]),i=parseInt($("#canvas").css("transform").split(",")[4]);i>=0&&t.panzoom("pan",0,n),n<=1e3-Math.abs($("#canvas").css("height").replace("px",""))&&t.panzoom("pan",i,1e3-Math.abs($("#canvas").css("height").replace("px",""))),i<=-1540&&t.panzoom("pan",-1540,n),n>=0&&t.panzoom("pan",i,0),$("#flowContainer").attr("style","")})),t.parent().on("mousewheel.focal",(function(e){if(e.shiftKey){e.preventDefault();var n=e.delta||e.originalEvent.wheelDelta,i=n?n<0:e.originalEvent.deltaY>0;t.panzoom("zoom",i,{increment:.1,focal:e})}}))}}new class{constructor(){this.configurationConverter=new i,this.codeController=new c(this),this.flowController=new m(this)}convertConfiguration(){return this.configurationConverter.convertConfiguration(this.codeController.codeView.editor)}generateFlow(){this.flowController.flowView.modifyFlow("generate")}setPipes(e){this.flowController.paletteView.generatePalettePipes(e[2].classes)}modifyCode(e,t){let n=this.codeController;switch(e){case"getTypes":return n.getTypes();case"validateConfiguration":return n.validateConfiguration();case"decorateLine":n.decorateLine(t.line);break;case"undoDecorations":n.undoDecorations();break;case"changeName":n.changeName(t.oldTitle,t.newTitle);break;case"changePossition":n.changePossition(t.name,t.x,t.y);break;case"changeExitPossition":n.changeExitPossition(t.name,t.x,t.y);break;case"changeAddForward":n.changeAddForward(t.source,t.target);break;case"deleteForward":n.deleteForward(t.name,t.target);break;case"changeAddPipe":n.changeAddPipe(t.name,t.possitions,t.className);break;case"selectPipe":n.selectPipe(t.name)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXBwL01vZGVsL0NvbmZpZ3VyYXRpb25Db252ZXJ0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL01vZGVsL0NvZGVNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9jb2RlVmlldy9WYWxpZGF0ZUNvbmZpZ3VyYXRpb25WaWV3LmpzIiwid2VicGFjazovLy8uL2FwcC9WaWV3L2NvZGVWaWV3L0NvZGVDb21wbGV0aW9uVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9jb2RlVmlldy9Db2RlVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9jb2RlVmlldy9Ub0JlYXV0aWZ1bFN5bnRheC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvQ29udHJvbGxlci9Db2RlQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9mbG93Vmlldy9EZXNjcmlwdGlvblZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL1ZpZXcvZmxvd1ZpZXcvUGlwZVZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vYXBwL1ZpZXcvZmxvd1ZpZXcvRmxvd0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9mbG93Vmlldy9GbG93Vmlldy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvVmlldy9mbG93Vmlldy9QYWxldHRlVmlldy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvQ29udHJvbGxlci9GbG93Q29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvQ29udHJvbGxlci9NYWluQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbmZpZ3VyYXRpb25Db252ZXJ0ZXIiLCJlZGl0b3IiLCJnZXRWYWx1ZSIsInJlcGxhY2UiLCJ4bWwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJ0cmFuc2Zvcm1lZFhtbCIsIkpTT04iLCJwYXJzZSIsInRoaXMiLCJ4bWwyanNvbiIsIkNvbmZpZ3VyYXRpb24iLCJNb2R1bGUiLCJBZGFwdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsIkFycmF5IiwiaXNBcnJheSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0YWIiLCJYIiwidG9PYmoiLCJub2RlVHlwZSIsImF0dHJpYnV0ZXMiLCJsZW5ndGgiLCJub2RlTmFtZSIsIm5vZGVWYWx1ZSIsInRvU3RyaW5nIiwiZmlyc3RDaGlsZCIsInRleHRDaGlsZCIsImNkYXRhQ2hpbGQiLCJoYXNFbGVtZW50Q2hpbGQiLCJuZXh0U2libGluZyIsIm1hdGNoIiwicmVtb3ZlV2hpdGUiLCJlc2NhcGUiLCJpbm5lclhtbCIsImRvY3VtZW50RWxlbWVudCIsInRvSnNvbiIsImluZCIsImpzb24iLCJqb2luIiwiYXJyIiwibm9kZSIsImlubmVySFRNTCIsImFzWG1sIiwidHh0IiwiZSIsIm5vcm1hbGl6ZSIsIm54dCIsInJlbW92ZUNoaWxkIiwiQ29kZU1vZGVsIiwiaW5pdEFkYXB0ZXIiLCJhZGFwdGVyIiwiVmFsaWRhdGVDb25maWd1cmF0aW9uVmlldyIsInhtbGxpbnQiLCJ2YWxpZGF0ZVhNTCIsInNjaGVtYSIsIlRPVEFMX01FTU9SWSIsImxpbmVOdW1iZXIiLCJkZWNvcmF0aW9ucyIsImRlbHRhRGVjb3JhdGlvbnMiLCJyYW5nZSIsIm1vbmFjbyIsIlJhbmdlIiwib3B0aW9ucyIsImdseXBoTWFyZ2luQ2xhc3NOYW1lIiwiZ2V0TW9kZWwiLCJnZXRBbGxEZWNvcmF0aW9ucyIsInNldFZhbHVlIiwiQ29kZUNvbXBsZXRpb25WaWV3IiwiY29kZVZpZXciLCJzY2hlbWFOb2RlIiwic3RyaW5nVG9YbWwiLCJjaGlsZE5vZGVzIiwiY29uc29sZSIsImxvZyIsImxhbmd1YWdlcyIsInJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlciIsImdldFhtbENvbXBsZXRpb25Qcm92aWRlciIsInRleHQiLCJ4bWxEb2MiLCJ3aW5kb3ciLCJBY3RpdmVYT2JqZWN0IiwiYXN5bmMiLCJsb2FkWE1MIiwidGFncyIsImNsb3NpbmdUYWdzIiwiaW5kZXhPZiIsInB1c2giLCJzdWJzdHJpbmciLCJ0YWdQb3NpdGlvbiIsImxhc3RJbmRleE9mIiwidGFnIiwidGFnTmFtZSIsImlzQXR0cmlidXRlU2VhcmNoIiwic3BsaWNlIiwiaXRlbXMiLCJpc0NvbXBsZXRpb25BdmFpbGFibGUiLCJpdGVtSWR4IiwiY2xlYXJlZFRleHQiLCJlbGVtZW50cyIsImVsZW1lbnROYW1lIiwic2hvdWxkU2tpcExldmVsIiwiY2hpbGQiLCJmaW5kRWxlbWVudHMiLCJjaGlsZHJlbiIsImdldEVsZW1lbnRBdHRyaWJ1dGVzIiwiYXR0cnMiLCJmaW5kQXR0cmlidXRlcyIsImVsZW1lbnQiLCJnZXRJdGVtRG9jdW1lbnRhdGlvbiIsInRleHRDb250ZW50IiwiaXRlbU5hbWUiLCJtYXhPY2N1cnMiLCJjb3VudCIsInBhcnNlSW50IiwidXNlZEl0ZW1zIiwiYXZhaWxhYmxlSXRlbXMiLCJlbGVtZW50QXR0cnMiLCJpc0l0ZW1BdmFpbGFibGUiLCJsYWJlbCIsImtpbmQiLCJDb21wbGV0aW9uSXRlbUtpbmQiLCJGaWVsZCIsImRldGFpbCIsInR5cGUiLCJkb2N1bWVudGF0aW9uIiwidXNlZENoaWxkVGFncyIsIlByb3BlcnR5IiwiY3VyIiwidHJpZ2dlckNoYXJhY3RlcnMiLCJwcm92aWRlQ29tcGxldGlvbkl0ZW1zIiwibW9kZWwiLCJwb3NpdGlvbiIsInRleHRVbnRpbFBvc2l0aW9uIiwiZ2V0VmFsdWVJblJhbmdlIiwic3RhcnRMaW5lTnVtYmVyIiwic3RhcnRDb2x1bW4iLCJlbmRMaW5lTnVtYmVyIiwiZW5kQ29sdW1uIiwiY29sdW1uIiwiYXJlYVVudGlsUG9zaXRpb25JbmZvIiwiZ2V0QXJlYUluZm8iLCJsYXN0T3BlbmVkVGFnIiwiZ2V0TGFzdE9wZW5lZFRhZyIsIm9wZW5lZFRhZ3MiLCJsYXN0Q2hpbGQiLCJsYXN0RWxlbWVudENoaWxkIiwiY3VycmVudEl0ZW0iLCJnZXRBdmFpbGFibGVBdHRyaWJ1dGUiLCJnZXRBdmFpbGFibGVFbGVtZW50cyIsImxpc3RlbmVycyIsImliaXNkb2NKc29uIiwidmFsaWRhdGVDb25maWd1cmF0aW9uVmlldyIsImxpc3RlbmVyIiwiZGF0YSIsIm5vdGlmeSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsYW5ndWFnZSIsInRoZW1lIiwiZ2x5cGhNYXJnaW4iLCJhdXRvbWF0aWNMYXlvdXQiLCJzZWxlY3RQaXBlIiwiZXhlY3V0ZUVkaXRzIiwiYWRhcHRlcnMiLCJvcHRpb24iLCJzZWxlY3QiLCIkIiwiYXR0ciIsImFwcGVuZCIsImZpbmRNYXRjaGVzIiwiaW5saW5lQ2xhc3NOYW1lIiwib2xkV29yZCIsIm5ld1dvcmQiLCJjaGFuZ2VOYW1lQ29kZSIsIm5ld1giLCJuZXdZIiwibWF0Y2hlcyIsInBpcGUiLCJzcGxpdCIsImZpbmQiLCJ3b3JkIiwiUmVnRXhwIiwic3RyIiwic2xpY2UiLCJlZGl0IiwiYXR0cmlidXRlT2JqZWN0UmVnZXgiLCJleGl0IiwicmVnIiwiY2hhbmdlZCIsIm5ld1BpcGUiLCJwYXRoIiwic2VhcmNoIiwibmV3TGluZVJhbmdlIiwidG9Mb3dlckNhc2UiLCJwb3NzaXRpb25zIiwiY2xhc3NOYW1lIiwic29tZSIsIngiLCJ5IiwidHlwZXMiLCJvY2N1cmVuY2VzIiwicmVjZWl2ZXIiLCJjaGFyQXQiLCJUb0JlYXV0aWZ1bFN5bnRheCIsImV4aXRzIiwiZG9jIiwib2xkUGlwZSIsInRvVXBwZXJDYXNlIiwibWFpbkNvbnRyb2xsZXIiLCJjb2RlTW9kZWwiLCJhZGRMaXN0ZW5lciIsInRvQmVhdXRpZnVsIiwiaW5pdExpc3RlbmVycyIsImdldFhzZCIsImdldEliaXNkb2MiLCJnZXRDb25maWd1cmF0aW9ucyIsIm1ha2VFZGl0b3IiLCJvbiIsInZhbCIsInNldEl0ZW0iLCJjbGljayIsInByZXR0eVhNTCIsImJlYXV0aWZ5Iiwib25Nb3VzZURvd24iLCJ0YXJnZXQiLCJhZGFwdGVyTmFtZSIsImdlbmVyYXRlRmxvdyIsIm9uRGlkQ2hhbmdlQ29udGVudCIsImZsb3dDb250cm9sbGVyIiwiZmxvd1ZpZXciLCJtb3ZpbmciLCJhZGRpbmciLCJjc3MiLCJyZW1vdmUiLCJlcnJvciIsIm1vZGlmeUZsb3ciLCJ2YWxpZGF0ZSIsInZhbGlkYXRlQ29uZmlndXJhdGlvbiIsInVuZG9EZWNvcmF0aW9ucyIsImVycm9ycyIsImRlY29yYXRlTGluZSIsImdldFR5cGVzIiwiY2hhbmdlTmFtZSIsImNoYW5nZVBvc3NpdGlvbiIsImNoYW5nZUV4aXRQb3NzaXRpb24iLCJjaGFuZ2VBZGRGb3J3YXJkIiwiZGVsZXRlRm9yd2FyZCIsImNoYW5nZUFkZFBpcGUiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXNwb25zZSIsInNldFBpcGVzIiwiY2F0Y2giLCJlcnIiLCJnZXREZWZhdWx0SWJpc2RvYyIsImdldERlZmF1bHRYc2QiLCJzZWNvbmRUcnkiLCJjb25maWd1cmF0aW9ucyIsInRvQmVhdXRpZnVsU3ludGF4IiwiYWRkT3B0aW9ucyIsIkRlc2NyaXB0aW9uVmlldyIsImlkIiwiY2FudmFzIiwiZWwiLCJhZGRDbGFzcyIsImRlc2NyaXB0aW9uVGV4dCIsImRlc2NyaXB0aW9uVmlldyIsImV4dHJhIiwiaXNFeGl0IiwiZGVzY1RleHQiLCJ3aW5kb3dzIiwidHlwZVRleHQiLCJ0eXBlV2luZG93IiwiZ2V0VHlwZUltYWdlIiwiYm90dG9tQ29udGFpbmVyIiwibmFtZVRleHQiLCJociIsImV4dHJhVGV4dCIsImFkZERlc2NyaXB0aW9uIiwiaW5zdGFuY2UiLCJtYWtlU291cmNlIiwiZmlsdGVyIiwiZmlsdGVyRXhjbHVkZSIsIm1heENvbm5lY3Rpb25zIiwiZW5kcG9pbnQiLCJyYWRpdXMiLCJjc3NDbGFzcyIsImFuY2hvciIsInNvdXJjZUFuY2hvcnMiLCJjb25uZWN0b3IiLCJjb25uZWN0b3JUeXBlIiwic3R1YiIsImdhcCIsImNvcm5lclJhZGl1cyIsImFsd2F5c1Jlc3BlY3RTdHVicyIsIm1pZHBvaW50IiwibWFrZVRhcmdldCIsImRyb3BPcHRpb25zIiwiaG92ZXJDbGFzcyIsImNvbm5lY3QiLCJzb3VyY2UiLCJwYWxldHRlSW1nIiwiaW1nIiwidXJsIiwidGVzdEltYWdlIiwiSW1hZ2UiLCJzcmMiLCJhbHQiLCJ0aXRsZSIsIm9uZXJyb3IiLCJwaXBlVmlldyIsImFkZFBpcGUiLCJyZXNldFdpbmRvd3MiLCJQaXBlbGluZSIsInJlc2V0IiwiZW1wdHkiLCJmb3J3YXJkcyIsInhwb3MiLCJ5cG9zIiwiY2hlY2tQb3NzaXRpb25zIiwiRml4ZWRRdWVyeVNlbmRlciIsImRlc2NyaXB0aW9uIiwiRm9yd2FyZCIsImZvcndhcmREYXRhIiwic291cmNlUGlwZSIsInRhcmdldFBpcGUiLCJuZXh0UGlwZSIsImFkZEV4aXRzIiwiRXhpdCIsInNldE9mZnNldHMiLCJSZWNlaXZlciIsImFkZFJlY2VpdmVyIiwiZ2VuZXJhdGVGb3J3YXJkcyIsImRpc3BsYXlFcnJvciIsImdlbmVyYXRlZCIsImNvdW50ZXIiLCJnZXRBbGxDb25uZWN0aW9ucyIsImNvbm4iLCJzb3VyY2VJZCIsImNvbm5lY3Rpb24iLCJ0YXJnZXRJZCIsInNvdXJjZUVuZHBvaW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ0YXJnZXRFbmRwb2ludCIsImRlbGV0ZUNvbm5lY3Rpb24iLCJlYWNoIiwiZiIsIiRlbGVtZW50IiwicmVmYWN0b3JlZFRleHQiLCJwYWludFN0eWxlIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJkYXNoc3R5bGUiLCJvdmVybGF5cyIsImxvY2F0aW9uIiwicGFkZGluZyIsImhvcml6b250YWxCdWlsZCIsImZsb3dHZW5lcmF0b3IiLCJnZXRJbnN0YW5jZSIsImRvbXRvaW1hZ2UiLCJ0b1N2ZyIsImRhdGFVcmwiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsImpzUGx1bWIiLCJEcmFnT3B0aW9ucyIsImN1cnNvciIsInpJbmRleCIsIlBhaW50U3R5bGUiLCJDb25uZWN0aW9uT3ZlcmxheXMiLCJ2aXNpYmxlIiwiQ29udGFpbmVyIiwicmVnaXN0ZXJDb25uZWN0aW9uVHlwZSIsImNoYW5nZSIsIm9iaiIsIm5vdGlmeUxpc3RlbmVycyIsImFkZEN1c3RvbVBpcGUiLCJlZGl0VGl0bGUiLCJjbGVhblBvc3NpdGlvbnMiLCJvbGRUaXRsZSIsIm5ld1RpdGxlIiwicHJvbXB0IiwiYm94T2Zmc2V0IiwiYm94IiwidG90YWxMZW5ndGgiLCJ3aW5kb3dMZW5ndGgiLCJwaXBlcyIsInBhbGV0dGUiLCJidXR0b24iLCJjb2xsYXBzQm94IiwiYnV0dG9uVGV4dCIsInNldEhhbmRsZXJzIiwiY29sbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29udGVudCIsIm5leHRFbGVtZW50U2libGluZyIsInN0eWxlIiwiZGlzcGxheSIsImV2IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJwYWxldHRlVmlldyIsImhvdmVyU291cmNlV2luZG93IiwiaW5pdEhhbmRsZXJzIiwiY29udmVydENvbmZpZ3VyYXRpb24iLCJtb2RpZnlDb2RlIiwiZ2V0SW1hZ2UiLCJ0b2dnbGVDb25uZWN0b3JUeXBlIiwicmVtb3ZlQ2xhc3MiLCIkcGFuem9vbSIsInBhbnpvb20iLCJzb3VyY2VEaXYiLCJwYXJlbnRFbGVtZW50IiwiZHJhZ0RhdGEiLCJkaXNhYmxlZCIsImNvbnRhaW5tZW50IiwiZHJhZyIsImRyYWdPYmoiLCJoYXNDbGFzcyIsInN0b3AiLCJldmVudCIsInVpIiwiZHJhZ2dhYmxlIiwiaXNTb3VyY2VFbmFibGVkIiwidG9nZ2xlU291cmNlRW5hYmxlZCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm1pblNjYWxlIiwiaW5jcmVtZW50IiwiY3VycmVudF9wdWxsWSIsImN1cnJlbnRfcHVsbFgiLCJNYXRoIiwiYWJzIiwicGFyZW50Iiwic2hpZnRLZXkiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiem9vbU91dCIsImRlbHRhWSIsImZvY2FsIiwiY29uZmlndXJhdGlvbkNvbnZlcnRlciIsImNvZGVDb250cm9sbGVyIiwiZ2VuZXJhdGVQYWxldHRlUGlwZXMiLCJjbGFzc2VzIiwibGluZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFB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QVN6RSxRQUd2RixlQUNFUyxLQUFLZ08sZUFBZUMsU0FBU00sV0FBVyxZQUUxQyxTQUFTbEYsR0FDUHJKLEtBQUtnTyxlQUFlbUwsWUFBWTBDLHFCQUFxQnhTLEVBQUssR0FBR3lTLFNBRy9ELFdBQVd2VSxFQUFNOFAsR0FDZixJQUFJdUUsRUFBaUI1YixLQUFLNGIsZUFDMUIsT0FBUXJVLEdBQ04sSUFBSyxXQUNILE9BQU9xVSxFQUFlL00sV0FFeEIsSUFBSyx3QkFDSCxPQUFPK00sRUFBZW5OLHdCQUV4QixJQUFLLGVBQ0htTixFQUFlaE4sYUFBYXlJLEVBQUkwRSxNQUNoQyxNQUNGLElBQUssa0JBQ0hILEVBQWVsTixrQkFDZixNQUNGLElBQUssYUFDSGtOLEVBQWU5TSxXQUFXdUksRUFBSUssU0FBVUwsRUFBSU0sVUFDNUMsTUFDRixJQUFLLGtCQUNIaUUsRUFBZTdNLGdCQUFnQnNJLEVBQUl4WixLQUFNd1osRUFBSXBMLEVBQUdvTCxFQUFJbkwsR0FDcEQsTUFDRixJQUFLLHNCQUNIMFAsRUFBZTVNLG9CQUFvQnFJLEVBQUl4WixLQUFNd1osRUFBSXBMLEVBQUdvTCxFQUFJbkwsR0FDeEQsTUFDRixJQUFLLG1CQUNIMFAsRUFBZTNNLGlCQUFpQm9JLEVBQUk1RSxPQUFRNEUsRUFBSXpKLFFBQ2hELE1BQ0YsSUFBSyxnQkFDSGdPLEVBQWUxTSxjQUFjbUksRUFBSXhaLEtBQU13WixFQUFJekosUUFDM0MsTUFDRixJQUFLLGdCQUNIZ08sRUFBZXpNLGNBQWNrSSxFQUFJeFosS0FBTXdaLEVBQUl2TCxXQUFZdUwsRUFBSXRMLFdBQzNELE1BQ0YsSUFBSyxhQUNINlAsRUFBZS9SLFdBQVd3TixFQUFJeFoiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZ3VyYXRpb25Db252ZXJ0ZXIge1xyXG5cclxuICAvLyBhIGZ1bmN0aW9uIHRoYXQgY29udmVydHMgdGhlIHhtbCB0byBhIHJlYWRhYmxlIGpzb24gZm9ybWF0IGFuZCB0aGVuIGdlbmVyYXRlcyBhIGZsb3dcclxuICBjb252ZXJ0Q29uZmlndXJhdGlvbihlZGl0b3IpIHtcclxuICAgIGxldCB2YWx1ZSA9IGVkaXRvci5nZXRWYWx1ZSgpO1xyXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88W15cXC9dW1xcU10qP1teXCJcXC9dUGlwZS9nLCBcIjxwaXBlXCIpO1xyXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88W1xcL11bXFxTXSo/W15cIlxcL11QaXBlL2csIFwiPC9waXBlXCIpLnJlcGxhY2UoLyYvZywgJycpO1xyXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC88IS0tW15dKj8tLT4vZywgJycpXHJcbiAgICB2YXIgZ2V0WG1sID0gbmV3IERPTVBhcnNlcigpO1xyXG4gICAgbGV0IHhtbCA9IGdldFhtbC5wYXJzZUZyb21TdHJpbmcodmFsdWUsIFwidGV4dC94bWxcIik7XHJcbiAgICBsZXQgdHJhbnNmb3JtZWRYbWwgPSBKU09OLnBhcnNlKHRoaXMueG1sMmpzb24oeG1sKS5yZXBsYWNlKCd1bmRlZmluZWQnLCAnJykpO1xyXG5cclxuICAgIGlmICh0cmFuc2Zvcm1lZFhtbC5Db25maWd1cmF0aW9uLk1vZHVsZSA9PSBudWxsICYmIHRyYW5zZm9ybWVkWG1sLkNvbmZpZ3VyYXRpb24uQWRhcHRlciAhPSBudWxsKSB7XHJcbiAgICAgIHRyYW5zZm9ybWVkWG1sLkFkYXB0ZXIgPSB0cmFuc2Zvcm1lZFhtbC5Db25maWd1cmF0aW9uLkFkYXB0ZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0cmFuc2Zvcm1lZFhtbC5Db25maWd1cmF0aW9uLk1vZHVsZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5BZGFwdGVyKSkge1xyXG4gICAgICAgICAgaXRlbS5BZGFwdGVyLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW1bXCJAbmFtZVwiXSAhPSBudWxsICYmIGl0ZW1bXCJAbmFtZVwiXSA9PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImN1cnJlbnRBZGFwdGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgdHJhbnNmb3JtZWRYbWwuQWRhcHRlciA9IGl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChpdGVtLkFkYXB0ZXIgIT0gbnVsbCAmJiBpdGVtLkFkYXB0ZXJbXCJAbmFtZVwiXSAhPSBudWxsICYmIGl0ZW0uQWRhcHRlcltcIkBuYW1lXCJdID09IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudEFkYXB0ZXJcIikpIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtZWRYbWwgPSBpdGVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJhbnNmb3JtZWRYbWw7XHJcbiAgfVxyXG5cclxuICBkb21QYXJzZSh4bWwpIHtcclxuICAgIHZhciBnZXRYbWwgPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICBsZXQgZG9tWG1sID0gZ2V0WG1sLnBhcnNlRnJvbVN0cmluZyh4bWwsIFwidGV4dC94bWxcIik7XHJcbiAgICByZXR1cm4gZG9tWG1sO1xyXG4gIH1cclxuXHJcbiAgLypcdFRoaXMgd29yayBpcyBsaWNlbnNlZCB1bmRlciBDcmVhdGl2ZSBDb21tb25zIEdOVSBMR1BMIExpY2Vuc2UuXHJcblxyXG4gIExpY2Vuc2U6IGh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL0xHUEwvMi4xL1xyXG4gICBWZXJzaW9uOiAwLjlcclxuICBBdXRob3I6ICBTdGVmYW4gR29lc3NuZXIvMjAwNlxyXG4gIFdlYjogICAgIGh0dHA6Ly9nb2Vzc25lci5uZXQvXHJcbiAgKi9cclxuICB4bWwyanNvbih4bWwsIHRhYikge1xyXG4gICAgdmFyIFggPSB7XHJcbiAgICAgIHRvT2JqOiBmdW5jdGlvbih4bWwpIHtcclxuICAgICAgICB2YXIgbyA9IHt9O1xyXG4gICAgICAgIGlmICh4bWwubm9kZVR5cGUgPT0gMSkgeyAvLyBlbGVtZW50IG5vZGUgLi5cclxuICAgICAgICAgIGlmICh4bWwuYXR0cmlidXRlcy5sZW5ndGgpIC8vIGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGVzICAuLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhtbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgIG9bXCJAXCIgKyB4bWwuYXR0cmlidXRlc1tpXS5ub2RlTmFtZV0gPSAoeG1sLmF0dHJpYnV0ZXNbaV0ubm9kZVZhbHVlIHx8IFwiXCIpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBpZiAoeG1sLmZpcnN0Q2hpbGQpIHsgLy8gZWxlbWVudCBoYXMgY2hpbGQgbm9kZXMgLi5cclxuICAgICAgICAgICAgdmFyIHRleHRDaGlsZCA9IDAsXHJcbiAgICAgICAgICAgICAgY2RhdGFDaGlsZCA9IDAsXHJcbiAgICAgICAgICAgICAgaGFzRWxlbWVudENoaWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSB4bWwuZmlyc3RDaGlsZDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICBpZiAobi5ub2RlVHlwZSA9PSAxKSBoYXNFbGVtZW50Q2hpbGQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGVsc2UgaWYgKG4ubm9kZVR5cGUgPT0gMyAmJiBuLm5vZGVWYWx1ZS5tYXRjaCgvW14gXFxmXFxuXFxyXFx0XFx2XS8pKSB0ZXh0Q2hpbGQrKzsgLy8gbm9uLXdoaXRlc3BhY2UgdGV4dFxyXG4gICAgICAgICAgICAgIGVsc2UgaWYgKG4ubm9kZVR5cGUgPT0gNCkgY2RhdGFDaGlsZCsrOyAvLyBjZGF0YSBzZWN0aW9uIG5vZGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRWxlbWVudENoaWxkKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHRleHRDaGlsZCA8IDIgJiYgY2RhdGFDaGlsZCA8IDIpIHsgLy8gc3RydWN0dXJlZCBlbGVtZW50IHdpdGggZXZ0bC4gYSBzaW5nbGUgdGV4dCBvci9hbmQgY2RhdGEgbm9kZSAuLlxyXG4gICAgICAgICAgICAgICAgWC5yZW1vdmVXaGl0ZSh4bWwpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IHhtbC5maXJzdENoaWxkOyBuOyBuID0gbi5uZXh0U2libGluZykge1xyXG4gICAgICAgICAgICAgICAgICBpZiAobi5ub2RlVHlwZSA9PSAzKSAvLyB0ZXh0IG5vZGVcclxuICAgICAgICAgICAgICAgICAgICBvW1wiI3RleHRcIl0gPSBYLmVzY2FwZShuLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG4ubm9kZVR5cGUgPT0gNCkgLy8gY2RhdGEgbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIG9bXCIjY2RhdGFcIl0gPSBYLmVzY2FwZShuLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9bbi5ub2RlTmFtZV0pIHsgLy8gbXVsdGlwbGUgb2NjdXJlbmNlIG9mIGVsZW1lbnQgLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob1tuLm5vZGVOYW1lXSBpbnN0YW5jZW9mIEFycmF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgb1tuLm5vZGVOYW1lXVtvW24ubm9kZU5hbWVdLmxlbmd0aF0gPSBYLnRvT2JqKG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgIG9bbi5ub2RlTmFtZV0gPSBbb1tuLm5vZGVOYW1lXSwgWC50b09iaihuKV07XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSAvLyBmaXJzdCBvY2N1cmVuY2Ugb2YgZWxlbWVudC4uXHJcbiAgICAgICAgICAgICAgICAgICAgb1tuLm5vZGVOYW1lXSA9IFgudG9PYmoobik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gbWl4ZWQgY29udGVudFxyXG4gICAgICAgICAgICAgICAgaWYgKCF4bWwuYXR0cmlidXRlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgIG8gPSBYLmVzY2FwZShYLmlubmVyWG1sKHhtbCkpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICBvW1wiI3RleHRcIl0gPSBYLmVzY2FwZShYLmlubmVyWG1sKHhtbCkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0Q2hpbGQpIHsgLy8gcHVyZSB0ZXh0XHJcbiAgICAgICAgICAgICAgaWYgKCF4bWwuYXR0cmlidXRlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICBvID0gWC5lc2NhcGUoWC5pbm5lclhtbCh4bWwpKTtcclxuICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBvW1wiI3RleHRcIl0gPSBYLmVzY2FwZShYLmlubmVyWG1sKHhtbCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNkYXRhQ2hpbGQpIHsgLy8gY2RhdGFcclxuICAgICAgICAgICAgICBpZiAoY2RhdGFDaGlsZCA+IDEpXHJcbiAgICAgICAgICAgICAgICBvID0gWC5lc2NhcGUoWC5pbm5lclhtbCh4bWwpKTtcclxuICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0geG1sLmZpcnN0Q2hpbGQ7IG47IG4gPSBuLm5leHRTaWJsaW5nKVxyXG4gICAgICAgICAgICAgICAgICBvW1wiI2NkYXRhXCJdID0gWC5lc2NhcGUobi5ub2RlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoIXhtbC5hdHRyaWJ1dGVzLmxlbmd0aCAmJiAheG1sLmZpcnN0Q2hpbGQpIG8gPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoeG1sLm5vZGVUeXBlID09IDkpIHsgLy8gZG9jdW1lbnQubm9kZVxyXG4gICAgICAgICAgbyA9IFgudG9PYmooeG1sLmRvY3VtZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgICB9LFxyXG4gICAgICB0b0pzb246IGZ1bmN0aW9uKG8sIG5hbWUsIGluZCkge1xyXG4gICAgICAgIHZhciBqc29uID0gbmFtZSA/IChcIlxcXCJcIiArIG5hbWUgKyBcIlxcXCJcIikgOiBcIlwiO1xyXG4gICAgICAgIGlmIChvIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gby5sZW5ndGg7IGkgPCBuOyBpKyspXHJcbiAgICAgICAgICAgIG9baV0gPSBYLnRvSnNvbihvW2ldLCBcIlwiLCBpbmQgKyBcIlxcdFwiKTtcclxuICAgICAgICAgIGpzb24gKz0gKG5hbWUgPyBcIjpbXCIgOiBcIltcIikgKyAoby5sZW5ndGggPiAxID8gKFwiXFxuXCIgKyBpbmQgKyBcIlxcdFwiICsgby5qb2luKFwiLFxcblwiICsgaW5kICsgXCJcXHRcIikgKyBcIlxcblwiICsgaW5kKSA6IG8uam9pbihcIlwiKSkgKyBcIl1cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKG8gPT0gbnVsbClcclxuICAgICAgICAgIGpzb24gKz0gKG5hbWUgJiYgXCI6XCIpICsgXCJudWxsXCI7XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mKG8pID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICAgIGZvciAodmFyIG0gaW4gbylcclxuICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gWC50b0pzb24ob1ttXSwgbSwgaW5kICsgXCJcXHRcIik7XHJcbiAgICAgICAgICBqc29uICs9IChuYW1lID8gXCI6e1wiIDogXCJ7XCIpICsgKGFyci5sZW5ndGggPiAxID8gKFwiXFxuXCIgKyBpbmQgKyBcIlxcdFwiICsgYXJyLmpvaW4oXCIsXFxuXCIgKyBpbmQgKyBcIlxcdFwiKSArIFwiXFxuXCIgKyBpbmQpIDogYXJyLmpvaW4oXCJcIikpICsgXCJ9XCI7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobykgPT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgIGpzb24gKz0gKG5hbWUgJiYgXCI6XCIpICsgXCJcXFwiXCIgKyBvLnRvU3RyaW5nKCkgKyBcIlxcXCJcIjtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICBqc29uICs9IChuYW1lICYmIFwiOlwiKSArIG8udG9TdHJpbmcoKTtcclxuICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgfSxcclxuICAgICAgaW5uZXJYbWw6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICB2YXIgcyA9IFwiXCJcclxuICAgICAgICBpZiAoXCJpbm5lckhUTUxcIiBpbiBub2RlKVxyXG4gICAgICAgICAgcyA9IG5vZGUuaW5uZXJIVE1MO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGFzWG1sID0gZnVuY3Rpb24obikge1xyXG4gICAgICAgICAgICB2YXIgcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmIChuLm5vZGVUeXBlID09IDEpIHtcclxuICAgICAgICAgICAgICBzICs9IFwiPFwiICsgbi5ub2RlTmFtZTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4uYXR0cmlidXRlcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHMgKz0gXCIgXCIgKyBuLmF0dHJpYnV0ZXNbaV0ubm9kZU5hbWUgKyBcIj1cXFwiXCIgKyAobi5hdHRyaWJ1dGVzW2ldLm5vZGVWYWx1ZSB8fCBcIlwiKS50b1N0cmluZygpICsgXCJcXFwiXCI7XHJcbiAgICAgICAgICAgICAgaWYgKG4uZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgcyArPSBcIj5cIjtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGMgPSBuLmZpcnN0Q2hpbGQ7IGM7IGMgPSBjLm5leHRTaWJsaW5nKVxyXG4gICAgICAgICAgICAgICAgICBzICs9IGFzWG1sKGMpO1xyXG4gICAgICAgICAgICAgICAgcyArPSBcIjwvXCIgKyBuLm5vZGVOYW1lICsgXCI+XCI7XHJcbiAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICBzICs9IFwiLz5cIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChuLm5vZGVUeXBlID09IDMpXHJcbiAgICAgICAgICAgICAgcyArPSBuLm5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgZWxzZSBpZiAobi5ub2RlVHlwZSA9PSA0KVxyXG4gICAgICAgICAgICAgIHMgKz0gXCI8IVtDREFUQVtcIiArIG4ubm9kZVZhbHVlICsgXCJdXT5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZm9yICh2YXIgYyA9IG5vZGUuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpXHJcbiAgICAgICAgICAgIHMgKz0gYXNYbWwoYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgICB9LFxyXG4gICAgICBlc2NhcGU6IGZ1bmN0aW9uKHR4dCkge1xyXG4gICAgICAgIHJldHVybiB0eHQucmVwbGFjZSgvW1xcXFxdL2csIFwiXFxcXFxcXFxcIilcclxuICAgICAgICAgIC5yZXBsYWNlKC9bXFxcIl0vZywgJ1xcXFxcIicpXHJcbiAgICAgICAgICAucmVwbGFjZSgvW1xcbl0vZywgJ1xcXFxuJylcclxuICAgICAgICAgIC5yZXBsYWNlKC9bXFxyXS9nLCAnXFxcXHInKTtcclxuICAgICAgfSxcclxuICAgICAgcmVtb3ZlV2hpdGU6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIGZvciAodmFyIG4gPSBlLmZpcnN0Q2hpbGQ7IG47KSB7XHJcbiAgICAgICAgICBpZiAobi5ub2RlVHlwZSA9PSAzKSB7IC8vIHRleHQgbm9kZVxyXG4gICAgICAgICAgICBpZiAoIW4ubm9kZVZhbHVlLm1hdGNoKC9bXiBcXGZcXG5cXHJcXHRcXHZdLykpIHsgLy8gcHVyZSB3aGl0ZXNwYWNlIHRleHQgbm9kZVxyXG4gICAgICAgICAgICAgIHZhciBueHQgPSBuLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgIGUucmVtb3ZlQ2hpbGQobik7XHJcbiAgICAgICAgICAgICAgbiA9IG54dDtcclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgbiA9IG4ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKG4ubm9kZVR5cGUgPT0gMSkgeyAvLyBlbGVtZW50IG5vZGVcclxuICAgICAgICAgICAgWC5yZW1vdmVXaGl0ZShuKTtcclxuICAgICAgICAgICAgbiA9IG4ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICB9IGVsc2UgLy8gYW55IG90aGVyIG5vZGVcclxuICAgICAgICAgICAgbiA9IG4ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKHhtbC5ub2RlVHlwZSA9PSA5KSAvLyBkb2N1bWVudCBub2RlXHJcbiAgICAgIHhtbCA9IHhtbC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICB2YXIganNvbiA9IFgudG9Kc29uKFgudG9PYmooWC5yZW1vdmVXaGl0ZSh4bWwpKSwgeG1sLm5vZGVOYW1lLCBcIlxcdFwiKTtcclxuICAgIHJldHVybiBcIntcXG5cIiArIHRhYiArICh0YWIgPyBqc29uLnJlcGxhY2UoL1xcdC9nLCB0YWIpIDoganNvbi5yZXBsYWNlKC9cXHR8XFxuL2csIFwiXCIpKSArIFwiXFxufVwiO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb2RlTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5pbml0QWRhcHRlcigpO1xyXG4gIH1cclxuXHJcbiAgaW5pdEFkYXB0ZXIoKSB7XHJcbiAgICB0aGlzLmFkYXB0ZXIgPSBbXHJcbiAgICAgICc8QWRhcHRlcicsXHJcbiAgICAgICdcdHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCInLFxyXG4gICAgICAnXHR4c2k6bm9OYW1lc3BhY2VTY2hlbWFMb2NhdGlvbj1cImh0dHBzOi8vaWJpczRleGFtcGxlLmliaXNzb3VyY2Uub3JnL3Jlc3QvaWJpc2RvYy9pYmlzZG9jLnhzZFwiJyxcclxuICAgICAgJ1x0bmFtZT1cIkhlbGxvV29ybGRcIiAnLFxyXG4gICAgICAnXHRkZXNjcmlwdGlvbj1cIlZvb3JiZWVsZCBhZGFwdGVyXCI+JyxcclxuXHJcbiAgICAgICdcdDxSZWNlaXZlciBuYW1lPVwiSGVsbG9Xb3JsZFwiPicsXHJcbiAgICAgICdcdFx0PEFwaUxpc3RlbmVyIG5hbWU9XCJIZWxsb1dvcmxkXCInLFxyXG4gICAgICAnXHRcdFx0dXJpUGF0dGVybj1cImhlbGxvd29ybGQve2lucHV0U3RyaW5nfVwiJyxcclxuICAgICAgJ1x0XHRcdG1ldGhvZCA9IFwiZ2V0XCInLFxyXG4gICAgICAnXHRcdC8+JyxcclxuICAgICAgJ1x0PC9SZWNlaXZlcj4nLFxyXG5cclxuICAgICAgJ1x0PFBpcGVsaW5lIGZpcnN0UGlwZT1cIlN3aXRjaElucHV0XCI+JyxcclxuICAgICAgJ1x0XHQ8WG1sU3dpdGNoUGlwZSBuYW1lPVwiU3dpdGNoSW5wdXRcIicsXHJcbiAgICAgICdcdFx0XHRnZXRJbnB1dEZyb21GaXhlZFZhbHVlPVwiJmx0O2R1bW15LyZndDtcIicsXHJcbiAgICAgICdcdFx0XHR4cGF0aEV4cHJlc3Npb249XCIkaW5wdXRcIiB4PVwiNDM2XCIgeT1cIjEzMVwiPicsXHJcbiAgICAgICdcdFx0XHQ8UGFyYW0gbmFtZT1cImlucHV0XCIgc2Vzc2lvbktleT1cImlucHV0U3RyaW5nXCI+PC9QYXJhbT4nLFxyXG4gICAgICAnXHRcdDwvWG1sU3dpdGNoUGlwZT5cXG5cXG4nLFxyXG4gICAgICAnXHRcdDxGaXhlZFJlc3VsdFBpcGUnLFxyXG4gICAgICAnXHRcdFx0bmFtZT1cIk5GSGVsbG9Xb3JsZFwiJyxcclxuICAgICAgJ1x0XHRcdHJldHVyblN0cmluZz1cIkhhbGxvIFJpY2FyZG8gIVwiJyxcclxuICAgICAgJ1x0XHQgXHR4PVwiODYzXCIgeT1cIjIyOFwiPicsXHJcbiAgICAgICdcdFx0XHQ8Rm9yd2FyZCBuYW1lPVwic3VjY2Vzc1wiIHBhdGg9XCJFeGl0XCIvPicsXHJcbiAgICAgICdcdFx0PC9GaXhlZFJlc3VsdFBpcGU+XFxuJyxcclxuXHJcbiAgICAgICdcdFx0PEV4aXQgcGF0aD1cIlNlcnZlckVycm9yXCIgc3RhdGU9XCJlcnJvclwiIGNvZGU9XCI1MDBcIi8+JyxcclxuICAgICAgJ1x0XHQ8RXhpdCBwYXRoPVwiRXhpdFwiIHN0YXRlPVwic3VjY2Vzc1wiIGNvZGU9XCIyMDFcIi8+JyxcclxuICAgICAgJ1x0PC9QaXBlbGluZT4nLFxyXG4gICAgICAnPC9BZGFwdGVyPidcclxuICAgIF07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcge1xyXG5cclxuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcclxuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yXHJcbiAgfVxyXG4gIC8vdmFsaWRhdGUgdGhlIGNvbmZpZ3VyYXRpb24uXHJcbiAgdmFsaWRhdGVDb25maWd1cmF0aW9uKCkge1xyXG4gICAgbGV0IGN1ciA9IHRoaXM7XHJcbiAgICBsZXQgdmFsaWRhdGUgPSB4bWxsaW50LnZhbGlkYXRlWE1MKHtcclxuICAgICAgeG1sOiBjdXIuZWRpdG9yLmdldFZhbHVlKCkucmVwbGFjZSgvXFxzeD1cIi4qP1wiL2csICcnKS5yZXBsYWNlKC9cXHN5PVwiLio/XCIvZywgJycpLFxyXG4gICAgICBzY2hlbWE6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaWJpc2RvY1hzZFwiKSxcclxuICAgICAgVE9UQUxfTUVNT1JZOiAxNjc3NzIxN1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsaWRhdGU7XHJcbiAgfVxyXG5cclxuICBkZWNvcmF0ZUxpbmUobGluZU51bWJlcikge1xyXG4gICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZWRpdG9yLmRlbHRhRGVjb3JhdGlvbnMoW10sIFt7XHJcbiAgICAgIHJhbmdlOiBuZXcgbW9uYWNvLlJhbmdlKGxpbmVOdW1iZXIsIDEsIGxpbmVOdW1iZXIsIDEpLFxyXG4gICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgZ2x5cGhNYXJnaW5DbGFzc05hbWU6ICdteUdseXBoTWFyZ2luQ2xhc3MnXHJcbiAgICAgIH1cclxuICAgIH1dKTtcclxuICB9XHJcblxyXG4gIC8vdW5kbyBhbGwgZGVjb3JhdGlvbnMuXHJcbiAgdW5kb0RlY29yYXRpb25zKCkge1xyXG4gICAgdGhpcy5kZWNvcmF0aW9ucyA9IHRoaXMuZWRpdG9yLmRlbHRhRGVjb3JhdGlvbnModGhpcy5lZGl0b3IuZ2V0TW9kZWwoKS5nZXRBbGxEZWNvcmF0aW9ucygpLCBbe1xyXG4gICAgICByYW5nZTogbmV3IG1vbmFjby5SYW5nZSgxLCAxLCAxLCAxKSxcclxuICAgICAgb3B0aW9uczoge31cclxuICAgIH1dKTtcclxuICAgIHRoaXMuZWRpdG9yLmdldE1vZGVsKCkuc2V0VmFsdWUodGhpcy5lZGl0b3IuZ2V0TW9kZWwoKS5nZXRWYWx1ZSgpKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29kZUNvbXBsZXRpb25WaWV3IHtcclxuXHJcbiAgY29uc3RydWN0b3IoY29kZVZpZXcpIHtcclxuICAgIHRoaXMuY29kZVZpZXcgPSBjb2RlVmlldztcclxuICAgIC8vdGhpcy5pbml0UHJvdmlkZXIoKTtcclxuICB9XHJcblxyXG4gIC8vIC8vc2V0dXAgdGhlIGF1dG9jb21wbGV0ZS5cclxuICAvLyBpbml0UHJvdmlkZXIoKSB7XHJcbiAgLy8gICBsZXQgY3VyID0gdGhpcyxcclxuICAvLyAgICAgc3VnZ2VzdGlvbnM7XHJcbiAgLy8gICBjb25zb2xlLmxvZygnYXV0b2NvbXBsZXRlIHdvcmtpbmcnKTtcclxuICAvLyAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJDb21wbGV0aW9uSXRlbVByb3ZpZGVyKCd4bWwnLCB7XHJcbiAgLy8gICAgIHByb3ZpZGVDb21wbGV0aW9uSXRlbXM6IGZ1bmN0aW9uKG1vZGVsLCBwb3NpdGlvbikge1xyXG4gIC8vICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBjb21wbGV0aW5nIGEgcHJvcGVydHkgaW4gdGhlICdkZXBlbmRlbmNpZXMnIG9iamVjdC5cclxuICAvLyAgICAgICB2YXIgdGV4dFVudGlsUG9zaXRpb24gPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2Uoe1xyXG4gIC8vICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiAxLFxyXG4gIC8vICAgICAgICAgc3RhcnRDb2x1bW46IDEsXHJcbiAgLy8gICAgICAgICBlbmRMaW5lTnVtYmVyOiBwb3NpdGlvbi5saW5lTnVtYmVyLFxyXG4gIC8vICAgICAgICAgZW5kQ29sdW1uOiBwb3NpdGlvbi5jb2x1bW5cclxuICAvLyAgICAgICB9KTtcclxuICAvLyAgICAgICBsZXQgZGVzaXJlZFBpcGUgPSB0ZXh0VW50aWxQb3NpdGlvbi5tYXRjaCgvPFteXCJcXC9dW1xcU10qP1twUF1pcGUvZyk7XHJcbiAgLy8gICAgICAgdmFyIG1hdGNoID0gbW9kZWwuZ2V0VmFsdWUoKS5tYXRjaCgvPFtcXFNdKj9bXlwiL11bcFBdaXBlW1xcc1xcdFxcbl1bXl0qPz5bXl0qPzxbL11bXFxTXSo/W15cIi9dUGlwZT4vZyk7XHJcbiAgLy8gICAgICAgaWYgKG1hdGNoID09IG51bGwgfHwgZGVzaXJlZFBpcGUgPT0gbnVsbCkge1xyXG4gIC8vICAgICAgICAgcmV0dXJuO1xyXG4gIC8vICAgICAgIH1cclxuICAvLyAgICAgICBkZXNpcmVkUGlwZSA9IGRlc2lyZWRQaXBlW2Rlc2lyZWRQaXBlLmxlbmd0aCAtIDFdLnJlcGxhY2UoLzwvZywgJycpO1xyXG4gIC8vICAgICAgIG1hdGNoLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAvLyAgICAgICAgIGxldCBsaW5lID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQocG9zaXRpb24ubGluZU51bWJlciAtIDEpO1xyXG4gIC8vICAgICAgICAgaWYgKGl0ZW0uaW5kZXhPZihsaW5lKSAhPSAtMSkge1xyXG4gIC8vICAgICAgICAgICBzdWdnZXN0aW9ucyA9IGN1ci5jcmVhdGVQaXBlQXV0b0NvbXBsZXRlKCk7XHJcbiAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgICAgICBzdWdnZXN0aW9ucyA9IGN1ci5jcmVhdGVBdHRyaWJ1dGVBdXRvY29tcGxldGUoZGVzaXJlZFBpcGUpO1xyXG4gIC8vICAgICAgICAgfVxyXG4gIC8vICAgICAgIH0pO1xyXG4gIC8vICAgICAgIHJldHVybiB7XHJcbiAgLy8gICAgICAgICBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnNcclxuICAvLyAgICAgICB9O1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9KTtcclxuICAvLyB9XHJcbiAgLy9cclxuICAvLyBjcmVhdGVQaXBlQXV0b0NvbXBsZXRlKCkge1xyXG4gIC8vICAgbGV0IHBpcGUsIG9iaiA9IG51bGw7XHJcbiAgLy8gICBsZXQgYXJyID0gW107XHJcbiAgLy9cclxuICAvLyAgIGlmICh0aGlzLmNvZGVWaWV3LmliaXNkb2NKc29uICE9IG51bGwpIHtcclxuICAvLyAgICAgdGhpcy5pYmlzZG9jSnNvbiA9IHRoaXMuY29kZVZpZXcuaWJpc2RvY0pzb247XHJcbiAgLy8gICAgIHRoaXMuaWJpc2RvY0pzb25bMl0uY2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgLy8gICAgICAgcGlwZSA9IGl0ZW07XHJcbiAgLy8gICAgICAgb2JqID0ge1xyXG4gIC8vICAgICAgICAgbGFiZWw6IHBpcGUubmFtZS5yZXBsYWNlKC9eKCg/IVBpcGUpLikqJC8sIHBpcGUubmFtZSArIFwiUGlwZVwiKSxcclxuICAvLyAgICAgICAgIGtpbmQ6IG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZ1bmN0aW9uLFxyXG4gIC8vICAgICAgICAgZG9jdW1lbnRhdGlvbjogcGlwZS5wYWNrYWdlTmFtZSxcclxuICAvLyAgICAgICAgIGluc2VydFRleHQ6ICc8JyArIHBpcGUubmFtZSArICcgbmFtZT1cInlvdXJQaXBlXCI+IFxcbiA8LycgKyBwaXBlLm5hbWUgKyAnPidcclxuICAvLyAgICAgICB9XHJcbiAgLy8gICAgICAgYXJyLnB1c2gob2JqKTtcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy9cclxuICAvLyAgIG9iaiA9IHtcclxuICAvLyAgICAgbGFiZWw6ICdGb3J3YXJkJyxcclxuICAvLyAgICAga2luZDogbW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb24sXHJcbiAgLy8gICAgIGRvY3VtZW50YXRpb246IFwiYSBmb3J3YXJkXCIsXHJcbiAgLy8gICAgIGluc2VydFRleHQ6ICc8Rm9yd2FyZCBuYW1lPVwiZm9yd2FyZE5hbWVcIiBwYXRoPVwibmV3UGF0aFwiIC8+J1xyXG4gIC8vICAgfVxyXG4gIC8vICAgYXJyLnB1c2gob2JqKTtcclxuICAvLyAgIHJldHVybiBhcnI7XHJcbiAgLy8gfVxyXG4gIC8vIGNyZWF0ZUF0dHJpYnV0ZUF1dG9jb21wbGV0ZShzZWxlY3RQaXBlKSB7XHJcbiAgLy8gICBsZXQgYXJyID0gW10sXHJcbiAgLy8gICAgIG9iajtcclxuICAvLyAgIGlmICh0aGlzLmNvZGVWaWV3LmliaXNkb2NKc29uICE9IG51bGwpIHtcclxuICAvLyAgICAgdGhpcy5pYmlzZG9jSnNvbiA9IHRoaXMuY29kZVZpZXcuaWJpc2RvY0pzb247XHJcbiAgLy8gICAgIHRoaXMuaWJpc2RvY0pzb25bMl0uY2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKHBpcGUsIGluZGV4KSB7XHJcbiAgLy8gICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocGlwZS5uYW1lLmxlbmd0aCwgcGlwZS5uYW1lLCBzZWxlY3RQaXBlLmxlbmd0aCk7XHJcbiAgLy8gICAgICAgaWYgKHBpcGUubmFtZSA9PSBzZWxlY3RQaXBlKSB7XHJcbiAgLy8gICAgICAgICBwaXBlLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihhdHRyLCBpbmRleCkge1xyXG4gIC8vICAgICAgICAgICBvYmogPSB7XHJcbiAgLy8gICAgICAgICAgICAgbGFiZWw6IGF0dHIubmFtZSxcclxuICAvLyAgICAgICAgICAgICBraW5kOiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GdW5jdGlvbixcclxuICAvLyAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiBhdHRyLmRlc2NyaXB0aW9uLFxyXG4gIC8vICAgICAgICAgICAgIGluc2VydFRleHQ6IGF0dHIubmFtZSArICc9XCInICsgYXR0ci5kZWZhdWx0VmFsdWUgKyAnXCInXHJcbiAgLy8gICAgICAgICAgIH1cclxuICAvLyAgICAgICAgICAgYXJyLnB1c2gob2JqKTtcclxuICAvLyAgICAgICAgIH0pO1xyXG4gIC8vICAgICAgIH1cclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gICByZXR1cm4gYXJyO1xyXG4gIC8vIH1cclxuXHJcbiAgaW5pdFByb3ZpZGVyKCkge1xyXG5cclxuICAgIHRoaXMuc2NoZW1hTm9kZSA9IHRoaXMuc3RyaW5nVG9YbWwobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2liaXNkb2NYc2QnKS5yZXBsYWNlKC94c1xcOi9nLCAnJykpLmNoaWxkTm9kZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLnNjaGVtYU5vZGUsIFwiaG9pXCIpO1xyXG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIoJ3htbCcsIHRoaXMuZ2V0WG1sQ29tcGxldGlvblByb3ZpZGVyKG1vbmFjbykpO1xyXG4gIH1cclxuXHJcbiAgc3RyaW5nVG9YbWwodGV4dCkge1xyXG4gICAgdmFyIHhtbERvYztcclxuXHJcbiAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xyXG4gICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xyXG4gICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeG1sRG9jID0gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxET00nKTtcclxuICAgICAgeG1sRG9jLmFzeW5jID0gZmFsc2U7XHJcbiAgICAgIHhtbERvYy5sb2FkWE1MKHRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHhtbERvYztcclxuICB9XHJcblxyXG4gIGdldExhc3RPcGVuZWRUYWcodGV4dCkge1xyXG4gICAgLy8gZ2V0IGFsbCB0YWdzIGluc2lkZSBvZiB0aGUgY29udGVudFxyXG4gICAgdmFyIHRhZ3MgPSB0ZXh0Lm1hdGNoKC88XFwvKig/PVxcUyopKFthLXpBLVotXSspL2cpO1xyXG4gICAgaWYgKCF0YWdzKSB7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICAvLyB3ZSBuZWVkIHRvIGtub3cgd2hpY2ggdGFncyBhcmUgY2xvc2VkXHJcbiAgICB2YXIgY2xvc2luZ1RhZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSB0YWdzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgIGlmICh0YWdzW2ldLmluZGV4T2YoJzwvJykgPT09IDApIHtcclxuICAgICAgICBjbG9zaW5nVGFncy5wdXNoKHRhZ3NbaV0uc3Vic3RyaW5nKCc8LycubGVuZ3RoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBsYXN0IHBvc2l0aW9uIG9mIHRoZSB0YWdcclxuICAgICAgICB2YXIgdGFnUG9zaXRpb24gPSB0ZXh0Lmxhc3RJbmRleE9mKHRhZ3NbaV0pO1xyXG4gICAgICAgIHZhciB0YWcgPSB0YWdzW2ldLnN1YnN0cmluZygnPCcubGVuZ3RoKTtcclxuICAgICAgICB2YXIgY2xvc2luZ0JyYWNrZXRJZHggPSB0ZXh0LmluZGV4T2YoJy8+JywgdGFnUG9zaXRpb24pO1xyXG4gICAgICAgIC8vIGlmIHRoZSB0YWcgd2Fzbid0IGNsb3NlZFxyXG4gICAgICAgIGlmIChjbG9zaW5nQnJhY2tldElkeCA9PT0gLTEpIHtcclxuICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyBjbG9zaW5nIHRhZ3Mgb3IgdGhlIGN1cnJlbnQgdGFnIHdhc24ndCBjbG9zZWRcclxuICAgICAgICAgIGlmICghY2xvc2luZ1RhZ3MubGVuZ3RoIHx8IGNsb3NpbmdUYWdzW2Nsb3NpbmdUYWdzLmxlbmd0aCAtIDFdICE9PSB0YWcpIHtcclxuICAgICAgICAgICAgLy8gd2UgZm91bmQgb3VyIHRhZywgYnV0IGxldCdzIGdldCB0aGUgaW5mb3JtYXRpb24gaWYgd2UgYXJlIGxvb2tpbmcgZm9yXHJcbiAgICAgICAgICAgIC8vIGEgY2hpbGQgZWxlbWVudCBvciBhbiBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKHRhZ1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICB0YWdOYW1lOiB0YWcsXHJcbiAgICAgICAgICAgICAgaXNBdHRyaWJ1dGVTZWFyY2g6IHRleHQuaW5kZXhPZignPCcpID4gdGV4dC5pbmRleE9mKCc+JylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBjbG9zZWQgdGFnXHJcbiAgICAgICAgICBjbG9zaW5nVGFncy5zcGxpY2UoY2xvc2luZ1RhZ3MubGVuZ3RoIC0gMSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBjaGVja2VkIHRhZyBhbmQgY29udGludWUgcHJvY2Vzc2luZyB0aGUgcmVzdCBvZiB0aGUgY29udGVudFxyXG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCB0YWdQb3NpdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEFyZWFJbmZvKHRleHQpIHtcclxuICAgIC8vIG9wZW5pbmcgZm9yIHN0cmluZ3MsIGNvbW1lbnRzIGFuZCBDREFUQVxyXG4gICAgdmFyIGl0ZW1zID0gWydcIicsICdcXCcnLCAnPCEtLScsICc8IVtDREFUQVsnXTtcclxuICAgIHZhciBpc0NvbXBsZXRpb25BdmFpbGFibGUgPSB0cnVlO1xyXG4gICAgLy8gcmVtb3ZlIGFsbCBjb21tZW50cywgc3RyaW5ncyBhbmQgQ0RBVEFcclxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1wiKFteXCJcXFxcXSooXFxcXC5bXlwiXFxcXF0qKSopXCJ8XFwnKFteXFwnXFxcXF0qKFxcXFwuW15cXCdcXFxcXSopKilcXCd8PCEtLShbXFxzXFxTXSkqPy0tPnw8IVxcW0NEQVRBXFxbKC4qPylcXF1cXF0+L2csICcnKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGl0ZW1JZHggPSB0ZXh0LmluZGV4T2YoaXRlbXNbaV0pO1xyXG4gICAgICBpZiAoaXRlbUlkeCA+IC0xKSB7XHJcbiAgICAgICAgLy8gd2UgYXJlIGluc2lkZSBvbmUgb2YgdW5hdmFpbGFibGUgYXJlYXMsIHNvIHdlIHJlbW90ZSB0aGF0IGFyZWFcclxuICAgICAgICAvLyBmcm9tIG91ciBjbGVhciB0ZXh0XHJcbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIGl0ZW1JZHgpO1xyXG4gICAgICAgIC8vIGFuZCB0aGUgY29tcGxldGlvbiBpcyBub3QgYXZhaWxhYmxlXHJcbiAgICAgICAgaXNDb21wbGV0aW9uQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiY29tcGxldGlvbiBhdmFpbGFibGU6IFwiLCBpc0NvbXBsZXRpb25BdmFpbGFibGUsIHRleHQpXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0NvbXBsZXRpb25BdmFpbGFibGU6IGlzQ29tcGxldGlvbkF2YWlsYWJsZSxcclxuICAgICAgY2xlYXJlZFRleHQ6IHRleHRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzaG91bGRTa2lwTGV2ZWwodGFnTmFtZSkge1xyXG4gICAgLy8gaWYgd2UgbG9vayBhdCB0aGUgWFNEIHNjaGVtYSwgdGhlc2Ugbm9kZXMgYXJlIGNvbnRhaW5lcnMgZm9yIGVsZW1lbnRzLFxyXG4gICAgLy8gc28gd2UgY2FuIHNraXAgdGhhdCBsZXZlbFxyXG4gICAgcmV0dXJuIHRhZ05hbWUgPT09ICdjb21wbGV4VHlwZScgfHwgdGFnTmFtZSA9PT0gJ2FsbCcgfHwgdGFnTmFtZSA9PT0gJ3NlcXVlbmNlJztcclxuICB9XHJcblxyXG4gIGZpbmRFbGVtZW50cyhlbGVtZW50cywgZWxlbWVudE5hbWUpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gd2UgYXJlIGxvb2tpbmcgZm9yIGVsZW1lbnRzLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHByb2Nlc3MgYW5ub3RhdGlvbnMgYW5kIGF0dHJpYnV0ZXNcclxuICAgICAgaWYgKGVsZW1lbnRzW2ldLnRhZ05hbWUgIT09ICdhbm5vdGF0aW9uJyAmJiBlbGVtZW50c1tpXS50YWdOYW1lICE9PSAnYXR0cmlidXRlJykge1xyXG4gICAgICAgIC8vIGlmIGl0IGlzIG9uZSBvZiB0aGUgbm9kZXMgdGhhdCBkbyBub3QgaGF2ZSB0aGUgaW5mbyB3ZSBuZWVkLCBza2lwIGl0XHJcbiAgICAgICAgLy8gYW5kIHByb2Nlc3MgdGhhdCBub2RlJ3MgY2hpbGQgaXRlbXNcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRTa2lwTGV2ZWwoZWxlbWVudHNbaV0udGFnTmFtZSkpIHtcclxuICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZmluZEVsZW1lbnRzKGVsZW1lbnRzW2ldLmNoaWxkcmVuLCBlbGVtZW50TmFtZSk7XHJcbiAgICAgICAgICAvLyBpZiBjaGlsZCBleGlzdHMsIHJldHVybiBpdFxyXG4gICAgICAgICAgaWYgKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZWxlbWVudE5hbWUsIHJldHVybiBhbGwgZWxlbWVudHMgKHdlJ2xsIGV4cGxhaW5cclxuICAgICAgICAvLyB0aGlzIGJpdCBsaXR0bGUgbGF0ZXJcclxuICAgICAgICBlbHNlIGlmICghZWxlbWVudE5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZmluZCBhbGwgdGhlIGVsZW1lbnQgYXR0cmlidXRlcywgYW5kIGlmIGlzJ3QgbmFtZSBpcyB0aGUgc2FtZVxyXG4gICAgICAgIC8vIGFzIHRoZSBlbGVtZW50IHdlJ3JlIGxvb2tpbmcgZm9yLCByZXR1cm4gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50c1tpXSkubmFtZSA9PT0gZWxlbWVudE5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50c1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZpbmRBdHRyaWJ1dGVzKGVsZW1lbnRzKSB7XHJcbiAgICB2YXIgYXR0cnMgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gc2tpcCBsZXZlbCBpZiBpdCBpcyBhICdjb21wbGV4VHlwZScgdGFnXHJcbiAgICAgIGlmIChlbGVtZW50c1tpXS50YWdOYW1lID09PSAnY29tcGxleFR5cGUnKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5maW5kQXR0cmlidXRlcyhlbGVtZW50c1tpXS5jaGlsZHJlbik7XHJcbiAgICAgICAgaWYgKGNoaWxkKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIHdlIG5lZWQgb25seSB0aG9zZSBYU0QgZWxlbWVudHMgdGhhdCBoYXZlIGFcclxuICAgICAgLy8gdGFnICdhdHRyaWJ1dGUnXHJcbiAgICAgIGVsc2UgaWYgKGVsZW1lbnRzW2ldLnRhZ05hbWUgPT09ICdhdHRyaWJ1dGUnKSB7XHJcbiAgICAgICAgYXR0cnMucHVzaChlbGVtZW50c1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhdHRycztcclxuICB9XHJcblxyXG4gIGdldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQpIHtcclxuICAgIHZhciBhdHRycyA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYXR0cnNbZWxlbWVudC5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gZWxlbWVudC5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgLy8gcmV0dXJuIGFsbCBhdHRyaWJ1dGVzIGFzIGFuIG9iamVjdFxyXG4gICAgcmV0dXJuIGF0dHJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXRlbURvY3VtZW50YXRpb24oZWxlbWVudCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIGFubm90YWlvbiBjb250YWlucyBkb2N1bWVudGF0aW9uLCBzbyBjYWxjdWxhdGUgdGhlXHJcbiAgICAgIC8vIGRvY3VtZW50YXRpb24gZnJvbSBpdCdzIGNoaWxkIGVsZW1lbnRzXHJcbiAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuW2ldLnRhZ05hbWUgPT09ICdhbm5vdGF0aW9uJykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEl0ZW1Eb2N1bWVudGF0aW9uKGVsZW1lbnQuY2hpbGRyZW5bMF0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGlmIGl0J3MgdGhlIGRvY3VtZW50YXRpb24gZWxlbWVudCwganVzdCBnZXQgdGhlIHZhbHVlXHJcbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQuY2hpbGRyZW5baV0udGFnTmFtZSA9PT0gJ2RvY3VtZW50YXRpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW5baV0udGV4dENvbnRlbnQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzSXRlbUF2YWlsYWJsZShpdGVtTmFtZSwgbWF4T2NjdXJzLCBpdGVtcykge1xyXG4gICAgLy8gdGhlIGRlZmF1bHQgZm9yICdtYXhPY2N1cnMnIGlzIDFcclxuICAgIG1heE9jY3VycyA9IG1heE9jY3VycyB8fCAnMSc7XHJcbiAgICAvLyB0aGUgZWxlbWVudCBjYW4gYXBwZXJlIGluZmluaXRlIHRpbWVzLCBzbyBpdCBpcyBhdmFpbGFiZWxcclxuICAgIGlmIChtYXhPY2N1cnMgJiYgbWF4T2NjdXJzID09PSAndW5ib3VuZGVkJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGNvdW50IGhvdyBtYW55IHRpbWVzIHRoZSBlbGVtZW50IGFwcGVyZWRcclxuICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChpdGVtc1tpXSA9PT0gaXRlbU5hbWUpIHtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBpZiBpdCBkaWRuJ3QgYXBwZWFyIHlldCwgb3IgaXQgY2FuIGFwcGVhciBhZ2FpbiwgdGhlbiBpdFxyXG4gICAgLy8gaXMgYXZhaWxhYmxlLCBvdGhlcndpc2UgaXQndCBub3RcclxuICAgIHJldHVybiBjb3VudCA9PT0gMCB8fCBwYXJzZUludChtYXhPY2N1cnMpID4gY291bnQ7XHJcbiAgfVxyXG5cclxuICBnZXRBdmFpbGFibGVFbGVtZW50cyhtb25hY28sIGVsZW1lbnRzLCB1c2VkSXRlbXMpIHtcclxuICAgIHZhciBhdmFpbGFibGVJdGVtcyA9IFtdO1xyXG4gICAgdmFyIGNoaWxkcmVuO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBhbm5vdGF0aW9uIGVsZW1lbnQgb25seSBjb250YWlucyBkb2N1bWVudGF0aW9uLFxyXG4gICAgICAvLyBzbyBubyBuZWVkIHRvIHByb2Nlc3MgaXQgaGVyZVxyXG4gICAgICBpZiAoZWxlbWVudHNbaV0udGFnTmFtZSAhPT0gJ2Fubm90YXRpb24nKSB7XHJcbiAgICAgICAgLy8gZ2V0IGFsbCBjaGlsZCBlbGVtZW50cyB0aGF0IGhhdmUgJ2VsZW1lbnQnIHRhZ1xyXG4gICAgICAgIGNoaWxkcmVuID0gdGhpcy5maW5kRWxlbWVudHMoW2VsZW1lbnRzW2ldXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHN1Y2ggZWxlbWVudHMsIHRoZW4gdGhlcmUgYXJlIG5vIHN1Z2dlc3Rpb25zXHJcbiAgICBpZiAoIWNoaWxkcmVuKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gZ2V0IGFsbCBlbGVtZW50IGF0dHJpYnV0ZXNcclxuICAgICAgbGV0IGVsZW1lbnRBdHRycyA9IHRoaXMuZ2V0RWxlbWVudEF0dHJpYnV0ZXMoY2hpbGRyZW5baV0pO1xyXG4gICAgICAvLyB0aGUgZWxlbWVudCBpcyBhIHN1Z2dlc3Rpb24gaWYgaXQncyBhdmFpbGFibGVcclxuICAgICAgaWYgKHRoaXMuaXNJdGVtQXZhaWxhYmxlKGVsZW1lbnRBdHRycy5uYW1lLCBlbGVtZW50QXR0cnMubWF4T2NjdXJzLCB1c2VkSXRlbXMpKSB7XHJcbiAgICAgICAgLy8gbWFyayBpdCBhcyBhICdmaWVsZCcsIGFuZCBnZXQgdGhlIGRvY3VtZW50YXRpb25cclxuICAgICAgICBhdmFpbGFibGVJdGVtcy5wdXNoKHtcclxuICAgICAgICAgIGxhYmVsOiBlbGVtZW50QXR0cnMubmFtZSxcclxuICAgICAgICAgIGtpbmQ6IG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkLFxyXG4gICAgICAgICAgZGV0YWlsOiBlbGVtZW50QXR0cnMudHlwZSxcclxuICAgICAgICAgIGRvY3VtZW50YXRpb246IHRoaXMuZ2V0SXRlbURvY3VtZW50YXRpb24oY2hpbGRyZW5baV0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHJldHVybiB0aGUgc3VnZ2VzdGlvbnMgd2UgZm91bmRcclxuICAgIHJldHVybiBhdmFpbGFibGVJdGVtcztcclxuICB9XHJcblxyXG4gIGdldEF2YWlsYWJsZUF0dHJpYnV0ZShtb25hY28sIGVsZW1lbnRzLCB1c2VkQ2hpbGRUYWdzKSB7XHJcbiAgICB2YXIgYXZhaWxhYmxlSXRlbXMgPSBbXTtcclxuICAgIHZhciBjaGlsZHJlbjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gYW5ub3RhdGlvbiBlbGVtZW50IG9ubHkgY29udGFpbnMgZG9jdW1lbnRhdGlvbixcclxuICAgICAgLy8gc28gbm8gbmVlZCB0byBwcm9jZXNzIGl0IGhlcmVcclxuICAgICAgaWYgKGVsZW1lbnRzW2ldLnRhZ05hbWUgIT09ICdhbm5vdGF0aW9uJykge1xyXG4gICAgICAgIC8vIGdldCBhbGwgY2hpbGQgZWxlbWVudHMgdGhhdCBoYXZlICdhdHRyaWJ1dGUnIHRhZ1xyXG4gICAgICAgIGNoaWxkcmVuID0gdGhpcy5maW5kQXR0cmlidXRlcyhbZWxlbWVudHNbaV1dKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gYXR0cmlidXRlcywgdGhlbiB0aGVyZSBhcmUgbm9cclxuICAgIC8vIHN1Z2dlc3Rpb25zIGF2YWlsYWJsZVxyXG4gICAgaWYgKCFjaGlsZHJlbikge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIGdldCBhbGwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnRcclxuICAgICAgdmFyIGF0dHJzID0gdGhpcy5nZXRFbGVtZW50QXR0cmlidXRlcyhjaGlsZHJlbltpXSk7XHJcbiAgICAgIC8vIGFjY2VwdCBpdCBpbiBhIHN1Z2dlc3Rpb24gbGlzdCBvbmx5IGlmIGl0IGlzIGF2YWlsYWJsZVxyXG4gICAgICBpZiAodGhpcy5pc0l0ZW1BdmFpbGFibGUoYXR0cnMubmFtZSwgYXR0cnMubWF4T2NjdXJzLCB1c2VkQ2hpbGRUYWdzKSkge1xyXG4gICAgICAgIC8vIG1hcmsgaXQgYXMgYSAncHJvcGVydHknLCBhbmQgZ2V0IGl0J3MgZG9jdW1lbnRhdGlvblxyXG4gICAgICAgIGF2YWlsYWJsZUl0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgbGFiZWw6IGF0dHJzLm5hbWUsXHJcbiAgICAgICAgICBraW5kOiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eSxcclxuICAgICAgICAgIGRldGFpbDogYXR0cnMudHlwZSxcclxuICAgICAgICAgIGRvY3VtZW50YXRpb246IHRoaXMuZ2V0SXRlbURvY3VtZW50YXRpb24oY2hpbGRyZW5baV0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHJldHVybiB0aGUgZWxlbWVudHMgd2UgZm91bmRcclxuICAgIHJldHVybiBhdmFpbGFibGVJdGVtcztcclxuICB9XHJcblxyXG4gIGdldFhtbENvbXBsZXRpb25Qcm92aWRlcihtb25hY28pIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHJpZ2dlckNoYXJhY3RlcnM6IFsnPCddLFxyXG4gICAgICBwcm92aWRlQ29tcGxldGlvbkl0ZW1zOiBmdW5jdGlvbihtb2RlbCwgcG9zaXRpb24pIHtcclxuICAgICAgICAvLyBnZXQgZWRpdG9yIGNvbnRlbnQgYmVmb3JlIHRoZSBwb2ludGVyXHJcbiAgICAgICAgdmFyIHRleHRVbnRpbFBvc2l0aW9uID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHtcclxuICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogMSxcclxuICAgICAgICAgIHN0YXJ0Q29sdW1uOiAxLFxyXG4gICAgICAgICAgZW5kTGluZU51bWJlcjogcG9zaXRpb24ubGluZU51bWJlcixcclxuICAgICAgICAgIGVuZENvbHVtbjogcG9zaXRpb24uY29sdW1uXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gZ2V0IGNvbnRlbnQgaW5mbyAtIGFyZSB3ZSBpbnNpZGUgb2YgdGhlIGFyZWEgd2hlcmUgd2UgZG9uJ3Qgd2FudCBzdWdnZXN0aW9ucywgd2hhdCBpcyB0aGUgY29udGVudCB3aXRob3V0IHRob3NlIGFyZWFzXHJcbiAgICAgICAgdmFyIGFyZWFVbnRpbFBvc2l0aW9uSW5mbyA9IGN1ci5nZXRBcmVhSW5mbyh0ZXh0VW50aWxQb3NpdGlvbik7IC8vIGlzQ29tcGxldGlvbkF2YWlsYWJsZSwgY2xlYXJlZFRleHRcclxuICAgICAgICBjb25zb2xlLmxvZyhcInBvc2l0aW9uOiBcIiwgYXJlYVVudGlsUG9zaXRpb25JbmZvKTtcclxuICAgICAgICAvLyBpZiB3ZSBkb24ndCB3YW50IGFueSBzdWdnZXN0aW9ucywgcmV0dXJuIGVtcHR5IGFycmF5XHJcbiAgICAgICAgaWYgKCFhcmVhVW50aWxQb3NpdGlvbkluZm8uaXNDb21wbGV0aW9uQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHdlIHdhbnQgc3VnZ2VzdGlvbnMsIGluc2lkZSBvZiB3aGljaCB0YWcgYXJlIHdlP1xyXG4gICAgICAgIHZhciBsYXN0T3BlbmVkVGFnID0gY3VyLmdldExhc3RPcGVuZWRUYWcoYXJlYVVudGlsUG9zaXRpb25JbmZvLmNsZWFyZWRUZXh0KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxhc3Qgb3BlbmVkIHRhZzogXCIsIGxhc3RPcGVuZWRUYWcpO1xyXG4gICAgICAgIC8vIGdldCBvcGVuZWQgdGFncyB0byBzZWUgd2hhdCB0YWcgd2Ugc2hvdWxkIGxvb2sgZm9yIGluIHRoZSBYU0Qgc2NoZW1hXHJcbiAgICAgICAgdmFyIG9wZW5lZFRhZ3MgPSBbXTtcclxuICAgICAgICAvLyBnZXQgdGhlIGVsZW1lbnRzL2F0dHJpYnV0ZXMgdGhhdCBhcmUgYWxyZWFkeSBtZW50aW9uZWQgaW4gdGhlIGVsZW1lbnQgd2UncmUgaW5cclxuICAgICAgICB2YXIgdXNlZEl0ZW1zID0gW107XHJcbiAgICAgICAgdmFyIGlzQXR0cmlidXRlU2VhcmNoID0gbGFzdE9wZW5lZFRhZyAmJiBsYXN0T3BlbmVkVGFnLmlzQXR0cmlidXRlU2VhcmNoO1xyXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gY2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBpbiB0aGUgWFNEIHNjaGVtYSBpZiB3ZSBhcmUgaW4gdGhlIHJvb3QgZWxlbWVudFxyXG4gICAgICAgIGlmIChsYXN0T3BlbmVkVGFnKSB7XHJcbiAgICAgICAgICAvLyBwYXJzZSB0aGUgY29udGVudCAobm90IGNsZWFyZWQgdGV4dCkgaW50byBhbiB4bWwgZG9jdW1lbnRcclxuICAgICAgICAgIHZhciB4bWxEb2MgPSBjdXIuc3RyaW5nVG9YbWwobW9kZWwuZ2V0VmFsdWUoKSk7XHJcbiAgICAgICAgICB2YXIgbGFzdENoaWxkID0geG1sRG9jLmxhc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyh4bWxEb2MpO1xyXG4gICAgICAgICAgd2hpbGUgKGxhc3RDaGlsZCkge1xyXG4gICAgICAgICAgICBvcGVuZWRUYWdzLnB1c2gobGFzdENoaWxkLnRhZ05hbWUpO1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBmb3VuZCBvdXIgbGFzdCBvcGVuZWQgdGFnXHJcbiAgICAgICAgICAgIGlmIChsYXN0Q2hpbGQudGFnTmFtZSA9PT0gbGFzdE9wZW5lZFRhZy50YWdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGxvb2tpbmcgZm9yIGF0dHJpYnV0ZXMsIHRoZW4gdXNlZCBpdGVtcyBzaG91bGRcclxuICAgICAgICAgICAgICAvLyBiZSB0aGUgYXR0cmlidXRlcyB3ZSBhbHJlYWR5IHVzZWRcclxuICAgICAgICAgICAgICBpZiAobGFzdE9wZW5lZFRhZy5pc0F0dHJpYnV0ZVNlYXJjaCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gbGFzdENoaWxkLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHVzZWRJdGVtcy5wdXNoKGF0dHJzW2ldLm5vZGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGxvb2tpbmcgZm9yIGNoaWxkIGVsZW1lbnRzLCB0aGVuIHVzZWQgaXRlbXNcclxuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBiZSB0aGUgZWxlbWVudHMgdGhhdCB3ZXJlIGFscmVhZHkgdXNlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbGFzdENoaWxkLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICB1c2VkSXRlbXMucHVzaChjaGlsZHJlbltpXS50YWdOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gd2UgaGF2ZW4ndCBmb3VuZCB0aGUgbGFzdCBvcGVuZWQgdGFnIHlldCwgc28gd2UgbW92ZSB0b1xyXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBlbGVtZW50XHJcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IGxhc3RDaGlsZC5sYXN0RWxlbWVudENoaWxkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmaW5kIHRoZSBsYXN0IG9wZW5lZCB0YWcgaW4gdGhlIHNjaGVtYSB0byBzZWUgd2hhdCBlbGVtZW50cy9hdHRyaWJ1dGVzIGl0IGNhbiBoYXZlXHJcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gdGhpcy5zY2hlbWFOb2RlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbmVkVGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGN1cnJlbnRJdGVtKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRJdGVtID0gY3VyLmZpbmRFbGVtZW50cyhjdXJyZW50SXRlbS5jaGlsZHJlbiwgb3BlbmVkVGFnc1tpXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZXR1cm4gYXZhaWxhYmxlIGVsZW1lbnRzL2F0dHJpYnV0ZXMgaWYgdGhlIHRhZyBleGlzdHMgaW4gdGhlIHNjaGVtYSwgb3IgYW4gZW1wdHlcclxuICAgICAgICAvLyBhcnJheSBpZiBpdCBkb2Vzbid0XHJcbiAgICAgICAgaWYgKGlzQXR0cmlidXRlU2VhcmNoKSB7XHJcbiAgICAgICAgICAvLyBnZXQgYXR0cmlidXRlcyBjb21wbGV0aW9uc1xyXG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRJdGVtID8gY3VyLmdldEF2YWlsYWJsZUF0dHJpYnV0ZShtb25hY28sIGN1cnJlbnRJdGVtLmNoaWxkcmVuLCB1c2VkSXRlbXMpIDogW107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGdldCBlbGVtZW50cyBjb21wbGV0aW9uc1xyXG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRJdGVtID8gY3VyLmdldEF2YWlsYWJsZUVsZW1lbnRzKG1vbmFjbywgY3VycmVudEl0ZW0uY2hpbGRyZW4sIHVzZWRJdGVtcykgOiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcgZnJvbSAnLi9WYWxpZGF0ZUNvbmZpZ3VyYXRpb25WaWV3LmpzJztcclxuaW1wb3J0IENvZGVDb21wbGV0aW9uVmlldyBmcm9tICcuL0NvZGVDb21wbGV0aW9uVmlldy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2RlVmlldyB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuaWJpc2RvY0pzb24gPSBudWxsO1xyXG4gICAgdGhpcy5kZWNvcmF0aW9ucyA9IG51bGw7XHJcbiAgICB0aGlzLmRlY29yYXRpb25zID0gbnVsbDtcclxuICAgIHRoaXMudmFsaWRhdGVDb25maWd1cmF0aW9uVmlldztcclxuICAgIHRoaXMuQ29kZUNvbXBsZXRpb25WaWV3ID0gbmV3IENvZGVDb21wbGV0aW9uVmlldyh0aGlzKTtcclxuICB9XHJcblxyXG4gIGFkZExpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGwgPT4gbC5ub3RpZnkoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgLy9tYWtlIHRoZSBlZGl0b3IuXHJcbiAgbWFrZUVkaXRvcihhZGFwdGVyKSB7XHJcbiAgICB0aGlzLmVkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb25hY29Db250YWluZXInKSwge1xyXG4gICAgICB2YWx1ZTogYWRhcHRlcixcclxuICAgICAgbGFuZ3VhZ2U6ICd4bWwnLFxyXG4gICAgICB0aGVtZTogXCJ2cy1kYXJrXCIsXHJcbiAgICAgIGdseXBoTWFyZ2luOiB0cnVlLFxyXG4gICAgICBhdXRvbWF0aWNMYXlvdXQ6IHRydWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zZWxlY3RQaXBlKFwiU3dpdGNoSW5wdXRcIik7XHJcbiAgICB0aGlzLnZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcgPSBuZXcgVmFsaWRhdGVDb25maWd1cmF0aW9uVmlldyh0aGlzLmVkaXRvcik7XHJcbiAgfVxyXG5cclxuICAvL2Z1bmN0aW9uIHRvIGVkaXQgdGhlIGNvZGUgaW4gdGhlIGVkaXRvci5cclxuICBlZGl0KHJhbmdlLCBuYW1lKSB7XHJcbiAgICB0aGlzLmVkaXRvci5leGVjdXRlRWRpdHMoXCJtb25hY29Db250YWluZXJcIiwgW3tcclxuICAgICAgcmFuZ2U6IHJhbmdlLFxyXG4gICAgICB0ZXh0OiBuYW1lXHJcbiAgICB9XSk7XHJcbiAgfVxyXG5cclxuICAvL2FkZCBvcHRpb25zIHRvIHRoZSBkcm9wZG93bi5cclxuICBhZGRPcHRpb25zKGFkYXB0ZXJzKSB7XHJcbiAgICBsZXQgc2VsZWN0ID0gJCgnI2FkYXB0ZXJTZWxlY3QnKSxcclxuICAgICAgb3B0aW9uLFxyXG4gICAgICBuYW1lO1xyXG4gICAgYWRhcHRlcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICBuYW1lID0gaXRlbS5tYXRjaCgvPENvbmZpZ3VyYXRpb25bXl0qP25hbWU9XCIuKj9cIi9nKTtcclxuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xyXG4gICAgICAgIG5hbWUgPSBuYW1lWzBdLm1hdGNoKC9cIi4qP1wiL2cpWzBdLnJlcGxhY2UoL1wiL2csICcnKTtcclxuICAgICAgICBvcHRpb24gPSAkKCc8b3B0aW9uPjwvb3B0aW9uPicpLmF0dHIoJ3ZhbHVlJywgaW5kZXgpLnRleHQobmFtZSk7XHJcbiAgICAgICAgJChzZWxlY3QpLmFwcGVuZChvcHRpb24pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiMFwiKSk7XHJcbiAgfVxyXG5cclxuICAvL3NlbGVjdCBhIHBpcGUuXHJcbiAgc2VsZWN0UGlwZShuYW1lKSB7XHJcbiAgICBsZXQgY3VyID0gdGhpcyxcclxuICAgICAgYXR0cmlidXRlT2JqZWN0UmVnZXggPSAnPFtcXFxcU10qP1teXCIvXVtwUF1pcGVbXFxcXHNcXFxcdFxcXFxuXVteXSo/PlteXSo/PFsvXVtcXFxcU10qP1teXCIvXVBpcGU+JyxcclxuICAgICAgc2VsZWN0UGlwZSA9IG51bGwsXHJcbiAgICAgIG1hdGNoZXMgPSB0aGlzLmVkaXRvci5nZXRNb2RlbCgpLmZpbmRNYXRjaGVzKGF0dHJpYnV0ZU9iamVjdFJlZ2V4LCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcbiAgICBtYXRjaGVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgbGV0IHBpcGUgPSBjdXIuZWRpdG9yLmdldE1vZGVsKCkuZ2V0VmFsdWVJblJhbmdlKGl0ZW0ucmFuZ2UpO1xyXG4gICAgICBpZiAocGlwZS5tYXRjaCgnbmFtZT1cIicgKyBuYW1lICsgJ1wiJywgJ2cnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHNlbGVjdFBpcGUgPSBpdGVtLnJhbmdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmIChzZWxlY3RQaXBlID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIHNlbGVjdFBpcGU7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5lZGl0b3IuZGVsdGFEZWNvcmF0aW9ucyhbXSwgW3tcclxuICAgICAgcmFuZ2U6IHNlbGVjdFBpcGUsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBpbmxpbmVDbGFzc05hbWU6ICdteUNvbnRlbnRDbGFzcydcclxuICAgICAgfVxyXG4gICAgfV0pO1xyXG4gIH1cclxuXHJcbiAgLy9jaGFuZ2UgdGhlIG5hbWUuXHJcbiAgY2hhbmdlTmFtZShvbGRXb3JkLCBuZXdXb3JkKSB7XHJcbiAgICBsZXQgY2hhbmdlZCA9IHRoaXMuY2hhbmdlTmFtZUNvZGUoJzxbXFxcXFNdKj9bXlwiL11bcFBdaXBlKFxcXFxuXFxcXHQqKT9cXFxccz9uYW1lPVwiXFxcXHcqXCInLCBvbGRXb3JkLCBuZXdXb3JkKTtcclxuICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlTmFtZUNvZGUoJzxmb3J3YXJkKFxcXFxuXFxcXHQqKT8oXFxcXHNcXFxcdyo9XCIoXFxcXHM/XFxcXFMpKlwiKFxcXFxuXFxcXHQqKT8pKlxcXFwvPicsIG9sZFdvcmQsIG5ld1dvcmQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9jaGFuZ2UgcG9zc2l0aW9uIGZvciBwaXBlc1xyXG4gIGNoYW5nZVBvc3NpdGlvbihuYW1lLCBuZXdYLCBuZXdZKSB7XHJcbiAgICBsZXQgY3VyID0gdGhpcztcclxuICAgIGxldCBhdHRyaWJ1dGVPYmplY3RSZWdleCA9ICc8W1xcXFxTXSo/W15cIi9dW3BQXWlwZVtcXFxcc1xcXFx0XFxcXG5dW15dKj8+fFJlY2VpdmVyW1xcXFxzXFxcXHRcXFxcbl1bXl0qPz4nO1xyXG4gICAgbGV0IG1hdGNoZXMgPSB0aGlzLmVkaXRvci5nZXRNb2RlbCgpLmZpbmRNYXRjaGVzKGF0dHJpYnV0ZU9iamVjdFJlZ2V4LCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoJyhyZWNlaXZlcik6ICcsICcnKTtcclxuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICBsZXQgcGlwZSA9IGN1ci5lZGl0b3IuZ2V0TW9kZWwoKS5nZXRWYWx1ZUluUmFuZ2UoaXRlbS5yYW5nZSk7XHJcbiAgICAgIGlmIChwaXBlLnNwbGl0KCdcIicpLmZpbmQod29yZCA9PiB3b3JkID09PSBuYW1lKSkge1xyXG4gICAgICAgIGxldCBuZXdQaXBlID0gXCJcIjtcclxuICAgICAgICBpZiAocGlwZS5zcGxpdCgvW1xccz1dLykuZmluZCh3b3JkID0+IHdvcmQgPT0gJ3gnKSkge1xyXG4gICAgICAgICAgcGlwZSA9IHBpcGUucmVwbGFjZShuZXcgUmVnRXhwKCd4PVwiWzAtOV0qXCInLCAnZycpLCAneD1cIicgKyBuZXdYICsgJ1wiJyk7XHJcbiAgICAgICAgICBwaXBlID0gcGlwZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ3k9XCJbMC05XSpcIicsICdnJyksICd5PVwiJyArIG5ld1kgKyAnXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHN0ciA9ICcgeD1cIicgKyBuZXdYICsgJ1wiIHk9XCInICsgbmV3WSArICdcIic7XHJcbiAgICAgICAgICBpZiAocGlwZS5pbmRleE9mKCcvPicpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHBpcGUgPSBwaXBlLnNsaWNlKDAsIHBpcGUuaW5kZXhPZignLycpKSArIHN0ciArIHBpcGUuc2xpY2UocGlwZS5pbmRleE9mKCcvJykpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGlwZSA9IHBpcGUuc2xpY2UoMCwgcGlwZS5pbmRleE9mKCc+JykpICsgc3RyICsgcGlwZS5zbGljZShwaXBlLmluZGV4T2YoJz4nKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1ci5lZGl0KGl0ZW0ucmFuZ2UsIHBpcGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vY2hhbmdlIHRoZSBwb3NzaXRpb25zIGZvciB0aGUgZXhpdHNcclxuICBjaGFuZ2VFeGl0UG9zc2l0aW9uKG5hbWUsIG5ld1gsIG5ld1kpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgbGV0IGFkYXB0ZXJOYW1lID0gJCgnI2NhbnZhcycpLnRleHQoKS5tYXRjaCgvQWRhcHRlcjpcXHMuKj9cXHMvZylbMF0ucmVwbGFjZSgvQWRhcHRlcjpcXHMvZywgJycpLnJlcGxhY2UoJyAnLCAnJyk7XHJcbiAgICBsZXQgYXR0cmlidXRlT2JqZWN0UmVnZXggPSAnPEFkYXB0ZXIgbmFtZT1cIicgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImN1cnJlbnRBZGFwdGVyXCIpICsgJ1wiW1xcXFxzXFxcXFNcXFxcbl0qPzxFeGl0IFteXSo/XFxcXC8+JztcclxuICAgIGxldCBtYXRjaGVzID0gdGhpcy5lZGl0b3IuZ2V0TW9kZWwoKS5maW5kTWF0Y2hlcyhhdHRyaWJ1dGVPYmplY3RSZWdleCwgZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG4gICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgIGxldCBleGl0ID0gY3VyLmVkaXRvci5nZXRNb2RlbCgpLmdldFZhbHVlSW5SYW5nZShpdGVtLnJhbmdlKTtcclxuICAgICAgZXhpdCA9IGV4aXQubWF0Y2goJzxFeGl0IFteXSo/XFxcXC8+JylbMF07XHJcbiAgICAgIGlmIChleGl0LmluZGV4T2YoJ3BhdGg9XCInICsgbmFtZSArICdcIicpICE9IC0xKSB7XHJcbiAgICAgICAgaWYgKGV4aXQuaW5kZXhPZigneD1cIicpICE9IC0xKSB7XHJcbiAgICAgICAgICBleGl0ID0gJ1xcdFxcdCcgKyBleGl0LnJlcGxhY2UoL3g9XCJbMC05XSo/XCIvZywgJ3g9XCInICsgbmV3WCArICdcIicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC95PVwiWzAtOV0qP1wiL2csICd5PVwiJyArIG5ld1kgKyAnXCInKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHN0ciA9ICcgeD1cIicgKyBuZXdYICsgJ1wiIHk9XCInICsgbmV3WSArICdcIidcclxuICAgICAgICAgIGV4aXQgPSAnXFx0XFx0JyArIGV4aXQuc2xpY2UoMCwgZXhpdC5pbmRleE9mKCcvJykpICsgc3RyICsgZXhpdC5zbGljZShleGl0LmluZGV4T2YoJy8nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGl0ZW0ucmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID0gaXRlbS5yYW5nZS5lbmRMaW5lTnVtYmVyO1xyXG4gICAgICAgIGN1ci5lZGl0KGl0ZW0ucmFuZ2UsIGV4aXQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vY2hhbmdlIHRoZSBuYW1lIG9mIGFuIHBpcGVcclxuICBjaGFuZ2VOYW1lQ29kZShyZWcsIG9sZFdvcmQsIG5ld1dvcmQpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgbGV0IGVkaXRvciA9IHRoaXMuZWRpdG9yO1xyXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcclxuICAgIGxldCBhdHRyaWJ1dGVPYmplY3RSZWdleCA9IHJlZztcclxuICAgIGxldCBtYXRjaGVzID0gZWRpdG9yLmdldE1vZGVsKCkuZmluZE1hdGNoZXMoYXR0cmlidXRlT2JqZWN0UmVnZXgsIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgIGxldCBwaXBlID0gZWRpdG9yLmdldE1vZGVsKCkuZ2V0VmFsdWVJblJhbmdlKGl0ZW0ucmFuZ2UpO1xyXG4gICAgICBpZiAocGlwZS5zcGxpdCgnXCInKS5maW5kKHdvcmQgPT4gd29yZCA9PT0gb2xkV29yZCkpIHtcclxuICAgICAgICBsZXQgbmV3UGlwZSA9IHBpcGUucmVwbGFjZShuZXcgUmVnRXhwKG9sZFdvcmQsICdnJyksIG5ld1dvcmQpO1xyXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIGN1ci5lZGl0KGl0ZW0ucmFuZ2UsIG5ld1BpcGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBjaGFuZ2VkO1xyXG4gIH1cclxuXHJcbiAgLy9hZGQgYSBmb3J3YXJkXHJcbiAgY2hhbmdlQWRkRm9yd2FyZChuYW1lLCBwYXRoKSB7XHJcbiAgICBsZXQgY3VyID0gdGhpcztcclxuICAgIGxldCBhdHRyaWJ1dGVPYmplY3RSZWdleCA9ICc8W1xcXFxTXSo/W15cIi9dW3BQXWlwZVtcXFxcc1xcXFx0XFxcXG5dW15dKj8+W15dKj88Wy9dW1xcXFxTXSo/W15cIi9dUGlwZT4nO1xyXG4gICAgbGV0IG1hdGNoZXMgPSB0aGlzLmVkaXRvci5nZXRNb2RlbCgpLmZpbmRNYXRjaGVzKGF0dHJpYnV0ZU9iamVjdFJlZ2V4LCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICBsZXQgcGlwZSA9IGN1ci5lZGl0b3IuZ2V0TW9kZWwoKS5nZXRWYWx1ZUluUmFuZ2UoaXRlbS5yYW5nZSk7XHJcbiAgICAgIGlmIChwaXBlLnNwbGl0KC9bXFxzPl0vKS5maW5kKHdvcmQgPT4gd29yZCA9PT0gJ25hbWU9XCInICsgbmFtZSArICdcIicpKSB7XHJcbiAgICAgICAgcGlwZSA9IHBpcGUuc2xpY2UoMCwgcGlwZS5zZWFyY2goLzxbL11bXFxTXSo/W15cIi9dUGlwZS8pKSArICdcXHQ8Rm9yd2FyZCBuYW1lPVwic3VjY2Vzc1wiIHBhdGg9XCInICsgcGF0aCArICdcIi8+JztcclxuICAgICAgICBsZXQgbmV3TGluZVJhbmdlID0ge1xyXG4gICAgICAgICAgZW5kQ29sdW1uOiAxLFxyXG4gICAgICAgICAgZW5kTGluZU51bWJlcjogaXRlbS5yYW5nZS5lbmRMaW5lTnVtYmVyLFxyXG4gICAgICAgICAgc3RhcnRDb2x1bW46IDEsXHJcbiAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IGl0ZW0ucmFuZ2UuZW5kTGluZU51bWJlclxyXG4gICAgICAgIH1cclxuICAgICAgICBjdXIuZWRpdChuZXdMaW5lUmFuZ2UsICdcXG4nKTtcclxuICAgICAgICBjdXIuZWRpdChpdGVtLnJhbmdlLCBwaXBlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL2RlbGV0ZSBhIGZvcndhcmQgdG8gYW4gcGlwZS5cclxuICBkZWxldGVGb3J3YXJkKG5hbWUsIHBhdGgpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgbGV0IGF0dHJpYnV0ZU9iamVjdFJlZ2V4ID0gJzxbXFxcXFNdKj9bXlwiL11bcFBdaXBlW1xcXFxzXFxcXHRcXFxcbl1bXl0qPz5bXl0qPzxbL11bXFxcXFNdKj9bXlwiL11QaXBlPic7XHJcbiAgICBsZXQgbWF0Y2hlcyA9IHRoaXMuZWRpdG9yLmdldE1vZGVsKCkuZmluZE1hdGNoZXMoYXR0cmlidXRlT2JqZWN0UmVnZXgsIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgIGxldCBwaXBlID0gY3VyLmVkaXRvci5nZXRNb2RlbCgpLmdldFZhbHVlSW5SYW5nZShpdGVtLnJhbmdlKTtcclxuICAgICAgaWYgKHBpcGUuc3BsaXQoL1tcXHM+XS8pLmZpbmQod29yZCA9PiB3b3JkID09PSAnbmFtZT1cIicgKyBuYW1lICsgJ1wiJykpIHtcclxuICAgICAgICBwYXRoLnRvTG93ZXJDYXNlKCkgPT0gXCJleGl0XCIgPyBwYXRoID0gXCJFeGl0XCIgOiBwYXRoID0gcGF0aDtcclxuICAgICAgICBsZXQgbmV3UGlwZSA9IHBpcGUucmVwbGFjZShuZXcgUmVnRXhwKCc8Rm9yd2FyZFteL10qP3BhdGg9XCInICsgcGF0aCArICdcIlteXSo/Lz4nLCAnZ2knKSwgXCJcIik7XHJcbiAgICAgICAgY3VyLmVkaXQoaXRlbS5yYW5nZSwgbmV3UGlwZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gYSBtZXRob2QgdG8gYWRkIGEgcGlwZSBieSBoYW5kLlxyXG4gIGNoYW5nZUFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgY2xhc3NOYW1lID0gXCJjdXN0b21QaXBlXCIpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgbGV0IGFkYXB0ZXJOYW1lID0gJCgnI2NhbnZhcycpLnRleHQoKS5tYXRjaCgvQWRhcHRlcjpcXHMuKj9cXHMvZylbMF0ucmVwbGFjZSgvQWRhcHRlcjpcXHMvZywgJycpLnJlcGxhY2UoJyAnLCAnJyk7XHJcbiAgICBsZXQgYXR0cmlidXRlT2JqZWN0UmVnZXggPSAnPEFkYXB0ZXIgbmFtZT1cIicgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImN1cnJlbnRBZGFwdGVyXCIpICsgJ1wiW1xcXFxzXFxcXFNcXFxcbl0qPzxFeGl0JztcclxuICAgIGxldCBtYXRjaFN0cmluZyA9IHRoaXMuZWRpdG9yLmdldE1vZGVsKCkuZ2V0VmFsdWUoKS5tYXRjaChhdHRyaWJ1dGVPYmplY3RSZWdleCk7XHJcblxyXG4gICAgLy8nPEV4aXQnO1xyXG4gICAgbGV0IG1hdGNoZXMgPSB0aGlzLmVkaXRvci5nZXRNb2RlbCgpLmZpbmRNYXRjaGVzKGF0dHJpYnV0ZU9iamVjdFJlZ2V4LCBmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgIG1hdGNoZXMuc29tZShmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICBsZXQgcmFuZ2UgPSBpdGVtLnJhbmdlO1xyXG4gICAgICByYW5nZS5zdGFydENvbHVtbiA9IDE7XHJcbiAgICAgIHJhbmdlLmVuZENvbHVtbiA9IDE7XHJcbiAgICAgIHJhbmdlLnN0YXJ0TGluZU51bWJlciA9IHJhbmdlLmVuZExpbmVOdW1iZXJcclxuICAgICAgY3VyLmVkaXQocmFuZ2UsICdcXG4nKTtcclxuXHJcbiAgICAgIGxldCBuZXdQaXBlID0gJ1xcdFxcdFxcdDwnICsgY2xhc3NOYW1lICsgJyBuYW1lPVwiJyArIG5hbWUgKyAnXCIgeD1cIicgKyBwb3NzaXRpb25zLnggKyAnXCIgeT1cIicgKyBwb3NzaXRpb25zLnkgKyAnXCI+XFxuXFxuXFx0XFx0XFx0PC8nICsgY2xhc3NOYW1lICsgJz5cXG4nO1xyXG4gICAgICBjdXIuZWRpdChyYW5nZSwgbmV3UGlwZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL2dpdmVzIGJhY2sgdGhlIHR5cGVzIG9mIHBpcGVzIHdpdGggdGhlIG5hbWUgb2YgdGhlIHBpcGUuXHJcbiAgZ2V0VHlwZXMoKSB7XHJcbiAgICBsZXQgdHlwZXMgPSB7fTtcclxuICAgIGxldCB2YWx1ZSA9IHRoaXMuZWRpdG9yLmdldFZhbHVlKCk7XHJcbiAgICBsZXQgb2NjdXJlbmNlcyA9IHZhbHVlLnNwbGl0KC9bPD5dLyk7XHJcbiAgICBsZXQgbmFtZSwgdHlwZSA9IG51bGw7XHJcbiAgICBsZXQgcmVjZWl2ZXIgPSB2YWx1ZS5tYXRjaCgvPFJlY2VpdmVyW15dKj9uYW1lPVwiLio/XCJbXl0qPz4vZyk7XHJcbiAgICBpZiAocmVjZWl2ZXIgIT0gbnVsbCkge1xyXG4gICAgICByZWNlaXZlciA9IHJlY2VpdmVyWzBdLm1hdGNoKC9cIi4qP1wiL2cpWzBdLnJlcGxhY2UoL1wiL2csICcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlY2VpdmVyID0gJ05PX1JFQ0VJVkVSX0ZPVU5EJ1xyXG4gICAgfVxyXG4gICAgdHlwZXNbJ1wicmVjZWl2ZXJcIiAnICsgcmVjZWl2ZXJdID0gXCJSZWNlaXZlclwiXHJcbiAgICBvY2N1cmVuY2VzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgaWYgKGl0ZW0uc2VhcmNoKC9bXi9dW1xcU10qP1teXCIvXVBpcGVbXl0qP25hbWU9XCIuKj9cIi8pID4gLTEpIHtcclxuICAgICAgICBpZiAoaXRlbS5jaGFyQXQoMCkgIT0gJy8nKSB7XHJcbiAgICAgICAgICBsZXQgdGFnID0gaXRlbS5zbGljZShpdGVtLnNlYXJjaCgvW14vXVtcXFNdKj9bXlwiL11QaXBlW15dKj9uYW1lPVwiLio/XCIvKSk7XHJcbiAgICAgICAgICBpZiAodGFnLm1hdGNoKC9uYW1lPVwiLio/XCIvKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSB0YWcubWF0Y2goL25hbWU9XCIuKj9cIi8pWzBdLm1hdGNoKC9cIi4qP1wiLylbMF0ucmVwbGFjZSgvXCIvZywgJycpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHRhZy5tYXRjaCgvW15dKj9QaXBlLykgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0eXBlID0gdGFnLm1hdGNoKC9bXl0qP1BpcGUvKVswXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0eXBlICE9PSBudWxsICYmIG5hbWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdHlwZXNbbmFtZV0gPSB0eXBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiB0eXBlcztcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9CZWF1dGlmdWxTeW50YXgge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICB9XHJcblxyXG4gIC8vY29udmVydCB1Z2x5IGliaXMgY29kZSB0byBiZWF1dGlmdWwgc3ludGF4LlxyXG4gIHRvQmVhdXRpZnVsU3ludGF4KHhtbCkge1xyXG4gICAgbGV0IG1hdGNoZXMgPSB4bWwubWF0Y2goLzxwaXBlKFxcblxcdCopPyhcXHNcXHcqPVwiKFxccz9cXFMpKlwiKFxcblxcdCopPykqPlteXSo/PFxcL3BpcGU+L2cpLFxyXG4gICAgICBkb2MgPSB4bWwsXHJcbiAgICAgIGV4aXRzO1xyXG4gICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkgcmV0dXJuIHhtbDtcclxuICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICBsZXQgb2xkUGlwZSA9IGl0ZW0sXHJcbiAgICAgICAgbmV3UGlwZSA9IFwiXCI7XHJcbiAgICAgIGxldCBjbGFzc05hbWUgPSBvbGRQaXBlLm1hdGNoKC9jbGFzc05hbWU9XCIuKj9cIi8pWzBdLm1hdGNoKC9cXC5bXi5dKj9cIi8pWzBdLnJlcGxhY2UoL1tcIi5dL2csICcnKTtcclxuICAgICAgaWYgKGNsYXNzTmFtZS5tYXRjaCgvLio/UGlwZS8pID09IG51bGwpIHtcclxuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnUGlwZSc7XHJcbiAgICAgIH1cclxuICAgICAgbmV3UGlwZSA9IG9sZFBpcGUucmVwbGFjZSgvY2xhc3NOYW1lPVwiLio/XCIvZywgJycpO1xyXG4gICAgICBuZXdQaXBlID0gbmV3UGlwZS5yZXBsYWNlKC88cGlwZS9nLCAnPCcgKyBjbGFzc05hbWUpXHJcbiAgICAgICAgLnJlcGxhY2UoLzxcXC9waXBlPi8sICc8LycgKyBjbGFzc05hbWUgKyAnPicpXHJcbiAgICAgIGRvYyA9IGRvYy5yZXBsYWNlKG9sZFBpcGUsIG5ld1BpcGUpO1xyXG4gICAgfSk7XHJcbiAgICBkb2MgPSBkb2MucmVwbGFjZSgvPGxpc3RlbmVyW15dKj9jbGFzc05hbWU9XCIuKj9cIlteXSo/XFwvPi9nLCBmdW5jdGlvbih0eHQpIHtcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gdHh0Lm1hdGNoKC9jbGFzc05hbWU9XCIuKj9cIi8pWzBdLm1hdGNoKC9cXC5bXi5dKj9cIi8pWzBdLnJlcGxhY2UoL1tcIi5dL2csICcnKTtcclxuICAgICAgICB0eHQgPSB0eHQucmVwbGFjZSgvY2xhc3NOYW1lPVwiLio/XCIvZywgJycpO1xyXG4gICAgICAgIHR4dCA9ICc8JyArIHR4dC5yZXBsYWNlKC88Lio/IC9nLCBjbGFzc05hbWUgKyBcIiBcIik7XHJcbiAgICAgICAgcmV0dXJuIHR4dDtcclxuICAgICAgfSlcclxuICAgICAgLnJlcGxhY2UoLzxbXFwvXT9bYS16QS1aXS9nLCBmdW5jdGlvbih0eHQpIHtcclxuICAgICAgICByZXR1cm4gdHh0LnRvVXBwZXJDYXNlKClcclxuICAgICAgfSk7XHJcblxyXG4gICAgZXhpdHMgPSBkb2MubWF0Y2goLzxFeGl0cz5bXl0qPzxcXC9FeGl0cz4vKVswXS5yZXBsYWNlKC88XFwvP0V4aXRzPi9nLCAnJykucmVwbGFjZSgvXFx0LywgJycpO1xyXG4gICAgZG9jID0gZG9jLnJlcGxhY2UoLzxFeGl0cz5bXl0qPzxcXC9FeGl0cz4vZywgJycpXHJcbiAgICAgIC5yZXBsYWNlKC88XFwvUGlwZWxpbmU+L2csIGV4aXRzICsgJ1xcbiBcXHRcXHQ8L1BpcGVsaW5lPicpXHJcbiAgICAgIC5yZXBsYWNlKC9jbGFzc05hbWU9XCIuKj9cIi9nLCBcIlwiKTtcclxuICAgIHJldHVybiBkb2M7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDb2RlTW9kZWwgZnJvbSAnLi4vTW9kZWwvQ29kZU1vZGVsLmpzJztcclxuaW1wb3J0IENvZGVWaWV3IGZyb20gJy4uL1ZpZXcvY29kZVZpZXcvQ29kZVZpZXcuanMnO1xyXG5pbXBvcnQgVG9CZWF1dGlmdWxTeW50YXggZnJvbSAnLi4vVmlldy9jb2RlVmlldy9Ub0JlYXV0aWZ1bFN5bnRheC5qcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvZGVDb250cm9sbGVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IobWFpbkNvbnRyb2xsZXIpIHtcclxuICAgIHRoaXMubWFpbkNvbnRyb2xsZXIgPSBtYWluQ29udHJvbGxlcjtcclxuICAgIHRoaXMuY29kZU1vZGVsID0gbmV3IENvZGVNb2RlbCgpO1xyXG4gICAgdGhpcy5jb2RlVmlldyA9IG5ldyBDb2RlVmlldygpO1xyXG4gICAgdGhpcy5jb2RlVmlldy5hZGRMaXN0ZW5lcih0aGlzKTtcclxuICAgIHRoaXMudG9CZWF1dGlmdWwgPSBuZXcgVG9CZWF1dGlmdWxTeW50YXgoKTtcclxuICAgIHRoaXMubm90aWZ5KHtcclxuICAgICAgdHlwZTogXCJnZXREYXRhXCJcclxuICAgIH0pO1xyXG4gICAgdGhpcy5ub3RpZnkoe1xyXG4gICAgICB0eXBlOiBcInNldEVkaXRvclwiXHJcbiAgICB9KTtcclxuICAgIHRoaXMuZWRpdG9yID0gdGhpcy5jb2RlVmlldy5lZGl0b3I7XHJcbiAgICB0aGlzLmluaXRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlIFwiZ2V0RGF0YVwiOlxyXG4gICAgICAgIHRoaXMuZ2V0WHNkKCk7XHJcbiAgICAgICAgdGhpcy5nZXRJYmlzZG9jKCk7XHJcbiAgICAgICAgdGhpcy5nZXRDb25maWd1cmF0aW9ucygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic2V0RWRpdG9yXCI6XHJcbiAgICAgICAgdGhpcy5jb2RlVmlldy5tYWtlRWRpdG9yKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgaW5pdExpc3RlbmVycygpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgJCgnI2FkYXB0ZXJTZWxlY3QnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBsZXQgYWRhcHRlciA9ICQoJyNhZGFwdGVyU2VsZWN0JykudmFsKCk7XHJcbiAgICAgIGN1ci5lZGl0b3IuZ2V0TW9kZWwoKS5zZXRWYWx1ZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhZGFwdGVyKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjYWRhcHRlclNlbGVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgbGV0IGFkYXB0ZXIgPSAkKCcjYWRhcHRlclNlbGVjdCcpLnZhbCgpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhZGFwdGVyLCBjdXIuZWRpdG9yLmdldE1vZGVsKCkuZ2V0VmFsdWUoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjYmVhdXRpZnknKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgbGV0IHByZXR0eVhNTCA9IGJlYXV0aWZ5LnhtbChjdXIuZWRpdG9yLmdldFZhbHVlKCksIDQpO1xyXG4gICAgICBjdXIuZWRpdG9yLmdldE1vZGVsKCkuc2V0VmFsdWUocHJldHR5WE1MKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGN1ci5lZGl0b3Iub25Nb3VzZURvd24oZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnRhcmdldC5yYW5nZS5zdGFydExpbmVOdW1iZXIgPSAxO1xyXG4gICAgICBlLnRhcmdldC5yYW5nZS5zdGFydENvbHVtbiA9IDE7XHJcbiAgICAgIGxldCB0ZXh0UG9zc2l0aW9uID0gY3VyLmVkaXRvci5nZXRNb2RlbCgpLmdldFZhbHVlSW5SYW5nZShlLnRhcmdldC5yYW5nZSk7XHJcbiAgICAgIGxldCBhZGFwdGVycyA9IHRleHRQb3NzaXRpb24ubWF0Y2goLzxBZGFwdGVyW15dKj9uYW1lPVwiLio/XCI+L2cpO1xyXG4gICAgICBpZiAoYWRhcHRlcnMgIT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBhZGFwdGVyTmFtZSA9IGFkYXB0ZXJzW2FkYXB0ZXJzLmxlbmd0aCAtIDFdLm1hdGNoKC9uYW1lPVwiW15dKj9cIi9nKVswXS5tYXRjaCgvXCJbXl0qP1wiL2cpWzBdLnJlcGxhY2UoL1wiL2csICcnKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRBZGFwdGVyXCIsIGFkYXB0ZXJOYW1lKTtcclxuICAgICAgICBjdXIubWFpbkNvbnRyb2xsZXIuZ2VuZXJhdGVGbG93KCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5lZGl0b3IuZ2V0TW9kZWwoKS5vbkRpZENoYW5nZUNvbnRlbnQoZnVuY3Rpb24oZSkge1xyXG4gICAgICBpZiAoIWN1ci5tYWluQ29udHJvbGxlci5mbG93Q29udHJvbGxlci5mbG93Vmlldy5tb3ZpbmcgJiYgIWN1ci5tYWluQ29udHJvbGxlci5mbG93Q29udHJvbGxlci5mbG93Vmlldy5hZGRpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgJCgnI2NhbnZhcycpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgJCgnLmN1c3RvbUVycm9yTWVzc2FnZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgY3VyLm1haW5Db250cm9sbGVyLmdlbmVyYXRlRmxvdygpO1xyXG4gICAgICAgICAgLy8gaWYoZWRpdG9yLmdldE1vZGVsKCkuZ2V0VmFsdWUoKSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAvLyAgIHVuZG9EZWNvcmF0aW9ucygpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycm9yKTtcclxuICAgICAgICAgIGN1ci5tYWluQ29udHJvbGxlci5mbG93Q29udHJvbGxlci5mbG93Vmlldy5tb2RpZnlGbG93KFwiZXJyb3JcIiwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvL3J1biB0aGUgeHNkIHRvIHRoZSB4bWwgdGhhdCBpcyBjdXJyZW50bHkgaW4gdGhlIGVkaXRvclxyXG4gICAgJCgnI3J1blhzZCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBsZXQgdmFsaWRhdGUgPSBjdXIudmFsaWRhdGVDb25maWd1cmF0aW9uKCksXHJcbiAgICAgICAgbGluZU51bWJlciA9IDA7XHJcbiAgICAgIGN1ci51bmRvRGVjb3JhdGlvbnMoKTtcclxuICAgICAgaWYgKHZhbGlkYXRlLmVycm9ycyAhPT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZhbGlkYXRlLmVycm9ycyk7XHJcbiAgICAgICAgdmFsaWRhdGUuZXJyb3JzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgIGxpbmVOdW1iZXIgPSBpdGVtLm1hdGNoKC86Lio/Oi8pWzBdLnJlcGxhY2UoLzovZywgJycpO1xyXG4gICAgICAgICAgY3VyLmRlY29yYXRlTGluZShsaW5lTnVtYmVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHNlbGVjdFBpcGUobmFtZSkge1xyXG4gICAgdGhpcy5jb2RlVmlldy5zZWxlY3RQaXBlKG5hbWUpO1xyXG4gIH1cclxuICBnZXRUeXBlcygpIHtcclxuICAgIHJldHVybiB0aGlzLmNvZGVWaWV3LmdldFR5cGVzKCk7XHJcbiAgfVxyXG4gIHZhbGlkYXRlQ29uZmlndXJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmNvZGVWaWV3LnZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcudmFsaWRhdGVDb25maWd1cmF0aW9uKCk7XHJcbiAgfVxyXG4gIGRlY29yYXRlTGluZShsaW5lTnVtYmVyKSB7XHJcbiAgICB0aGlzLmNvZGVWaWV3LnZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcuZGVjb3JhdGVMaW5lKGxpbmVOdW1iZXIpO1xyXG4gIH1cclxuICB1bmRvRGVjb3JhdGlvbnMoKSB7XHJcbiAgICB0aGlzLmNvZGVWaWV3LnZhbGlkYXRlQ29uZmlndXJhdGlvblZpZXcudW5kb0RlY29yYXRpb25zKCk7XHJcbiAgfVxyXG4gIGNoYW5nZU5hbWUob2xkV29yZCwgbmV3V29yZCkge1xyXG4gICAgdGhpcy5jb2RlVmlldy5jaGFuZ2VOYW1lKG9sZFdvcmQsIG5ld1dvcmQpO1xyXG4gIH1cclxuICBjaGFuZ2VQb3NzaXRpb24obmFtZSwgbmV3WCwgbmV3WSkge1xyXG4gICAgdGhpcy5jb2RlVmlldy5jaGFuZ2VQb3NzaXRpb24obmFtZSwgbmV3WCwgbmV3WSk7XHJcbiAgfVxyXG4gIGNoYW5nZUV4aXRQb3NzaXRpb24obmFtZSwgbmV3WCwgbmV3WSkge1xyXG4gICAgdGhpcy5jb2RlVmlldy5jaGFuZ2VFeGl0UG9zc2l0aW9uKG5hbWUsIG5ld1gsIG5ld1kpO1xyXG4gIH1cclxuICBjaGFuZ2VBZGRGb3J3YXJkKG5hbWUsIHBhdGgpIHtcclxuICAgIHRoaXMuY29kZVZpZXcuY2hhbmdlQWRkRm9yd2FyZChuYW1lLCBwYXRoKTtcclxuICB9XHJcbiAgZGVsZXRlRm9yd2FyZChuYW1lLCBwYXRoKSB7XHJcbiAgICB0aGlzLmNvZGVWaWV3LmRlbGV0ZUZvcndhcmQobmFtZSwgcGF0aCk7XHJcbiAgfVxyXG4gIGNoYW5nZUFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgY2xhc3NOYW1lKSB7XHJcbiAgICB0aGlzLmNvZGVWaWV3LmNoYW5nZUFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgY2xhc3NOYW1lKTtcclxuICB9XHJcbiAgZ2V0UGlwZXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2RlVmlldy5pYmlzZG9jSnNvbjtcclxuICB9XHJcblxyXG5cclxuICBnZXRJYmlzZG9jKCkge1xyXG4gICAgbGV0IGN1ciA9IHRoaXM7XHJcbiAgICBmZXRjaCgnLi4vcmVzdC9pYmlzZG9jL2liaXNkb2MuanNvbicsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIC8vIFdvcmsgd2l0aCBKU09OIGRhdGEgaGVyZVxyXG4gICAgICAgIGN1ci5jb2RlVmlldy5pYmlzZG9jSnNvbiA9IGRhdGE7XHJcbiAgICAgICAgY3VyLm1haW5Db250cm9sbGVyLnNldFBpcGVzKGRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAvLyBEbyBzb21ldGhpbmcgZm9yIGFuIGVycm9yIGhlcmVcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHRoaXMuZ2V0RGVmYXVsdEliaXNkb2MoKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGdldERlZmF1bHRJYmlzZG9jKCkge1xyXG4gICAgbGV0IGN1ciA9IHRoaXM7XHJcbiAgICBmZXRjaCgnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly9pYmlzNGV4YW1wbGUuaWJpc3NvdXJjZS5vcmcvcmVzdC9pYmlzZG9jL2liaXNkb2MuanNvbicsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgIC8vIFdvcmsgd2l0aCBKU09OIGRhdGEgaGVyZVxyXG4gICAgICAgIGN1ci5jb2RlVmlldy5pYmlzZG9jSnNvbiA9IGRhdGE7XHJcbiAgICAgICAgY3VyLm1haW5Db250cm9sbGVyLnNldFBpcGVzKGRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAvLyBEbyBzb21ldGhpbmcgZm9yIGFuIGVycm9yIGhlcmVcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGdldFhzZCgpIHtcclxuICAgIGZldGNoKCcuLi9yZXN0L2liaXNkb2MvaWJpc2RvYy54c2QnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAvLyBXb3JrIHdpdGggSlNPTiBkYXRhIGhlcmVcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImliaXNkb2NYc2RcIiwgZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ4c2QgaXMgbG9hZGVkISwgaGVyZVwiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJub3QgbG9hZGVkIHhzZFwiLCBlcnIpO1xyXG4gICAgICAgIHRoaXMuZ2V0RGVmYXVsdFhzZCgpO1xyXG4gICAgICAgIC8vIERvIHNvbWV0aGluZyBmb3IgYW4gZXJyb3IgaGVyZVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0RGVmYXVsdFhzZCgpIHtcclxuICAgIGZldGNoKCdodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS9odHRwczovL2liaXM0ZXhhbXBsZS5pYmlzc291cmNlLm9yZy9yZXN0L2liaXNkb2MvaWJpc2RvYy54c2QnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAvLyBXb3JrIHdpdGggSlNPTiBkYXRhIGhlcmVcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImliaXNkb2NYc2RcIiwgZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ4c2QgaXMgbG9hZGVkISwgaGVyZVwiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJub3QgbG9hZGVkIHhzZFwiLCBlcnIpO1xyXG4gICAgICAgIC8vIERvIHNvbWV0aGluZyBmb3IgYW4gZXJyb3IgaGVyZVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlndXJhdGlvbnMoc2Vjb25kVHJ5KSB7XHJcbiAgICBsZXQgY3VyID0gdGhpcyxcclxuICAgIHBhdGggPSAnLi4vaWFmL2FwaS9jb25maWd1cmF0aW9ucyc7XHJcbiAgICBpZihzZWNvbmRUcnkpIHtcclxuICAgICAgcGF0aCA9ICcuLi8nICsgcGF0aDtcclxuICAgIH1cclxuICAgIGZldGNoKHBhdGgsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvbmZpZ3VyYXRpb25zID0gW10sXHJcbiAgICAgICAgICBkb20sIG9iajtcclxuICAgICAgICByZXNwb25zZS5tYXRjaCgvPFtjQ11vbmZpZ3VyYXRpb25bXl0qPz5bXl0qPzxcXC9bY0Ndb25maWd1cmF0aW9uPi9nKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICBjb25maWd1cmF0aW9ucy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgLy8gaXRlbS5tYXRjaCgvPFthQV1kYXB0ZXJbXl0qPz5bXl0qPzxcXC9bYUFdZGFwdGVyPi9nKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAvLyB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBjb25maWd1cmF0aW9ucztcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgIGlmIChpdGVtLm1hdGNoKC88Q29uZmlndXJhdGlvbi9nKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlW2luZGV4XSA9IGN1ci50b0JlYXV0aWZ1bC50b0JlYXV0aWZ1bFN5bnRheChpdGVtKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5kZXgsIGN1ci50b0JlYXV0aWZ1bC50b0JlYXV0aWZ1bFN5bnRheChpdGVtKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpbmRleCwgaXRlbSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgLy8gV29yayB3aXRoIEpTT04gZGF0YSBoZXJlXHJcbiAgICAgICAgY3VyLmNvZGVWaWV3LmFkZE9wdGlvbnMoZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGlmKHNlY29uZFRyeSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb3VsZG50IGxvYWQgY29uZmlndXJhdGlvbnMnLCBlcnIpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjb25maWd1cmF0aW9ucyBwYXRoIHdhcyBpbmNvcnJlY3QsIHRyeWluZyBvdGhlciBwYXRoIG5vdy4uLlwiKTtcclxuICAgICAgICBjdXIuZ2V0Q29uZmlndXJhdGlvbnModHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgfSlcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVzY3JpcHRpb25WaWV3IHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgYWRkRGVzY3JpcHRpb24odGV4dCwgcG9zc2l0aW9ucywgaWQpIHtcclxuICAgIGxldCBjYW52YXMgPSAkKCcjY2FudmFzJyk7XHJcbiAgICBsZXQgZWwgPSAkKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoXCJkZXNjcmlwdGlvblwiKS5hdHRyKCdpZCcsICdkZXNjcmlwdGlvbicgKyBpZCk7XHJcbiAgICBsZXQgZGVzY3JpcHRpb25UZXh0ID0gJCgnPHA+PC9wPicpLnRleHQodGV4dCk7XHJcbiAgICBlbC5hcHBlbmQoZGVzY3JpcHRpb25UZXh0KTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGVzYyBUZXh0OlwiICsgdGV4dCwgcG9zc2l0aW9ucyk7XHJcbiAgICBwb3NzaXRpb25zLnggPSBwYXJzZUludChwb3NzaXRpb25zLngpICsgMzAwO1xyXG4gICAgJChlbCkuY3NzKCdsZWZ0JywgcG9zc2l0aW9ucy54ICsgJ3B4Jyk7XHJcbiAgICAkKGVsKS5jc3MoJ3RvcCcsIHBvc3NpdGlvbnMueSArICdweCcpO1xyXG4gICAgY2FudmFzLmFwcGVuZChlbCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBEZXNjcmlwdGlvblZpZXcgZnJvbSAnLi9EZXNjcmlwdGlvblZpZXcuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlwZVZpZXcge1xyXG5cclxuICBjb25zdHJ1Y3RvcihmbG93Vmlldykge1xyXG4gICAgdGhpcy5mbG93VmlldyA9IGZsb3dWaWV3O1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvblZpZXcgPSBuZXcgRGVzY3JpcHRpb25WaWV3KCk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICMgZnVuY3Rpb24gdG8gbWFudWFsbHkgYWRkIGEgUGlwZVxyXG4gICMgaW5jcmVtZW50IHdpbmRvd3MgYW5kIGNyZWF0ZSBkaXZcclxuICAjIG1ha2UgZWxlbWVudCBhIHNvdXJjZSBhbmQgYSB0YXJnZXRcclxuICAjIGJpbmQgdG8gY29ubmVjdGlvblxyXG4gICovXHJcblxyXG4gIGFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgZXh0cmEsIGlzRXhpdCwgZGVzY1RleHQpIHtcclxuICAgIGxldCBmbG93VmlldyA9IHRoaXMuZmxvd1ZpZXc7XHJcbiAgICBsZXQgaWQgPSBmbG93Vmlldy53aW5kb3dzICs9IDE7XHJcbiAgICBsZXQgY2FudmFzID0gJCgnI2NhbnZhcycpO1xyXG4gICAgbGV0IGVsID0gJChcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwid2luZG93IHNvdXJjZVdpbmRvd1wiKS5hdHRyKFwiaWRcIiwgXCJzb3VyY2VXaW5kb3dcIiArIGlkKTtcclxuICAgIGxldCB0eXBlVGV4dCA9ICQoXCI8c3Ryb25nPjwvc3Ryb25nPlwiKS5hdHRyKFwiaWRcIiwgXCJzdHJvbmdcIikudGV4dChmbG93Vmlldy5nZXRUeXBlcygpW25hbWVdKTtcclxuICAgIGxldCB0eXBlV2luZG93ID0gJCgnPGRpdj48L2Rpdj4nKS5hZGRDbGFzcyhcInR5cGVXaW5kb3dcIikuYXBwZW5kKHRoaXMuZ2V0VHlwZUltYWdlKG5hbWUpLCB0eXBlVGV4dCk7XHJcbiAgICBsZXQgYm90dG9tQ29udGFpbmVyID0gJCgnPGRpdj48L2Rpdj4nKS5hZGRDbGFzcyhcImJvdHRvbUNvbnRhaW5lclwiKTtcclxuICAgIGxldCBuYW1lVGV4dCA9ICQoXCI8c3Ryb25nPjwvc3Ryb25nPlwiKS5hdHRyKFwiaWRcIiwgXCJzdHJvbmdcIikudGV4dChuYW1lKTtcclxuICAgIGxldCBociA9ICQoJzxocj4nKTtcclxuICAgIGxldCBleHRyYVRleHQgPSAkKFwiPHN0cm9uZz48L3N0cm9uZz5cIikuYXR0cihcImlkXCIsIFwic3Ryb25nXCIpLnRleHQoZXh0cmEpO1xyXG4gICAgaXNFeGl0ID8gYm90dG9tQ29udGFpbmVyLmFwcGVuZChuYW1lVGV4dCwgZXh0cmFUZXh0KSA6IGJvdHRvbUNvbnRhaW5lci5hcHBlbmQobmFtZVRleHQsIGhyLCBleHRyYVRleHQpO1xyXG4gICAgZWwuYXBwZW5kKHR5cGVXaW5kb3csIGJvdHRvbUNvbnRhaW5lcik7XHJcbiAgICBpZiAocG9zc2l0aW9ucyAhPSBudWxsKSB7XHJcbiAgICAgICQoZWwpLmNzcygnbGVmdCcsIHBvc3NpdGlvbnMueCArICdweCcpO1xyXG4gICAgICAkKGVsKS5jc3MoJ3RvcCcsIHBvc3NpdGlvbnMueSArICdweCcpO1xyXG4gICAgICBpZihkZXNjVGV4dCkge1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25WaWV3LmFkZERlc2NyaXB0aW9uKGRlc2NUZXh0LCBwb3NzaXRpb25zLCBpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc0V4aXQpIHtcclxuICAgICAgJChlbCkuYWRkQ2xhc3MoJ2V4aXQnKTtcclxuICAgIH1cclxuICAgIGluc3RhbmNlLm1ha2VTb3VyY2UoZWwsIHtcclxuICAgICAgZmlsdGVyOiBcIi5lbmFibGVEaXNhYmxlU291cmNlXCIsXHJcbiAgICAgIGZpbHRlckV4Y2x1ZGU6IHRydWUsXHJcbiAgICAgIG1heENvbm5lY3Rpb25zOiAtMSxcclxuICAgICAgZW5kcG9pbnQ6IFtcIkRvdFwiLCB7XHJcbiAgICAgICAgcmFkaXVzOiA3LFxyXG4gICAgICAgIGNzc0NsYXNzOiBcInNtYWxsLWJsdWVcIlxyXG4gICAgICB9XSxcclxuICAgICAgYW5jaG9yOiBmbG93Vmlldy5zb3VyY2VBbmNob3JzLFxyXG4gICAgICBjb25uZWN0b3I6IFtmbG93Vmlldy5jb25uZWN0b3JUeXBlLCB7XHJcbiAgICAgICAgc3R1YjogWzQwLCA2MF0sXHJcbiAgICAgICAgZ2FwOiAxMCxcclxuICAgICAgICBjb3JuZXJSYWRpdXM6IDUsXHJcbiAgICAgICAgYWx3YXlzUmVzcGVjdFN0dWJzOiB0cnVlLFxyXG4gICAgICAgIG1pZHBvaW50OiAwLjAwMDFcclxuICAgICAgfV1cclxuICAgIH0pO1xyXG5cclxuICAgIGluc3RhbmNlLm1ha2VUYXJnZXQoZWwsIHtcclxuICAgICAgZHJvcE9wdGlvbnM6IHtcclxuICAgICAgICBob3ZlckNsYXNzOiBcImhvdmVyXCJcclxuICAgICAgfSxcclxuICAgICAgYW5jaG9yOiBbXCJMZWZ0XCIsIFwiVG9wXCIsIFwiUmlnaHRcIl0sXHJcbiAgICAgIGVuZHBvaW50OiBbXCJEb3RcIiwge1xyXG4gICAgICAgIHJhZGl1czogMTEsXHJcbiAgICAgICAgY3NzQ2xhc3M6IFwibGFyZ2UtZ3JlZW5cIlxyXG4gICAgICB9XVxyXG4gICAgfSk7XHJcbiAgICBjYW52YXMuYXBwZW5kKGVsKTtcclxuICAgIGlmKGRlc2NUZXh0KSB7XHJcbiAgICBpbnN0YW5jZS5jb25uZWN0KHtzb3VyY2U6IFwic291cmNlV2luZG93XCIgKyBpZCwgdGFyZ2V0OiBcImRlc2NyaXB0aW9uXCIgKyBpZH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWU7XHJcbiAgfVxyXG5cclxuICBnZXRUeXBlSW1hZ2UobmFtZSwgcGFsZXR0ZUltZykge1xyXG4gICAgbGV0IHR5cGVzID0gdGhpcy5mbG93Vmlldy5nZXRUeXBlcygpLFxyXG4gICAgICBpbWcsXHJcbiAgICAgIHRlc3RJbWFnZSA9IG5ldyBJbWFnZSgpLFxyXG4gICAgICB1cmw7XHJcbiAgICAgIGlmKHBhbGV0dGVJbWcpIHtcclxuICAgICAgICB1cmwgPSAnbWVkaWEvJyArIG5hbWUgKyAnLnBuZyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgIHVybCA9ICdtZWRpYS8nICsgdHlwZXNbbmFtZV0gKyAnLnBuZyc7XHJcbiAgICAgIH1cclxuICAgIGlmICh1cmwgIT0gbnVsbCkge1xyXG4gICAgICBpbWcgPSAkKCc8aW1nPjwvaW1nPicpLmF0dHIoe1xyXG4gICAgICAgIHNyYzogdXJsLFxyXG4gICAgICAgIGFsdDogdHlwZXNbbmFtZV0sXHJcbiAgICAgICAgdGl0bGU6IHR5cGVzW25hbWVdXHJcbiAgICAgIH0pLmFkZENsYXNzKFwidHlwZUltZ1wiKTtcclxuICAgICAgdGVzdEltYWdlLnNyYyA9IHVybDtcclxuICAgICAgdGVzdEltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpbWcuYXR0cignc3JjJywgJ21lZGlhL2Jhc2ljUGlwZS5wbmcnKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaW1nO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGlwZVZpZXcgZnJvbSAnLi9QaXBlVmlldy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbG93R2VuZXJhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihmbG93Vmlldykge1xyXG4gICAgdGhpcy5mbG93VmlldyA9IGZsb3dWaWV3O1xyXG4gICAgdGhpcy5waXBlVmlldyA9IG5ldyBQaXBlVmlldyhmbG93Vmlldyk7XHJcbiAgfVxyXG5cclxuICBhZGRQaXBlKG5hbWUgPSBcInBpcGVcIiArICh0aGlzLmZsb3dWaWV3LndpbmRvd3MpLCBwb3NzaXRpb25zLCBleHRyYSA9IFwiXCIsIGlzRXhpdCwgZGVzY1RleHQpIHtcclxuICAgIHJldHVybiB0aGlzLnBpcGVWaWV3LmFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgZXh0cmEsIGlzRXhpdCwgZGVzY1RleHQpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAjIGlmIHRoZSBwaXBlbGluZSBpcyBub3QgbnVsbCBlbXB0eSB0aGUgY2FudmFzXHJcbiAgIyBmb3IgcGlwZSBpcyBub3QgbnVsbCBnZW5lcmF0ZSBlYWNoIHBpcGVcclxuICAjIGlmIHRoZXJlIGlzIG9ubHkgb25lIHBpcGUgb25seSBnZW5lcmF0ZSB0aGF0IG9uZVxyXG4gICMgcHVzaCBhbGwgZm9yd2FyZHMgdG8gdGhlIGZvcndhcmRzIGFycmF5IGFuZCBnZW5lcmF0ZSB0aGUgZm9yd2FyZHNcclxuICAqL1xyXG4gIGdlbmVyYXRlRmxvdyh4bWwsIHdpbmRvd3MpIHtcclxuICAgIHRoaXMuZmxvd1ZpZXcucmVzZXRXaW5kb3dzKCk7XHJcbiAgICBsZXQgcG9zc2l0aW9ucyA9IG51bGw7XHJcbiAgICBsZXQgdHJhbnNmb3JtZWRYbWwgPSB4bWw7XHJcbiAgICBpZiAodHJhbnNmb3JtZWRYbWwgIT0gbnVsbCAmJiB0cmFuc2Zvcm1lZFhtbC5BZGFwdGVyICE9IG51bGwgJiZcclxuICAgICAgdHJhbnNmb3JtZWRYbWwuQWRhcHRlci5QaXBlbGluZSAhPSBudWxsKSB7XHJcbiAgICAgIGluc3RhbmNlLnJlc2V0KCk7XHJcbiAgICAgICQoJyNjYW52YXMnKS5lbXB0eSgpO1xyXG4gICAgICBpZiAodHJhbnNmb3JtZWRYbWwuQWRhcHRlci5QaXBlbGluZS5waXBlICE9IG51bGwpIHtcclxuICAgICAgICAkKCcjY2FudmFzJykudGV4dChcIkFkYXB0ZXI6IFwiICsgdHJhbnNmb3JtZWRYbWwuQWRhcHRlclsnQG5hbWUnXSArICcgJyk7XHJcbiAgICAgICAgbGV0IHBpcGUgPSB0cmFuc2Zvcm1lZFhtbC5BZGFwdGVyLlBpcGVsaW5lLnBpcGU7XHJcbiAgICAgICAgbGV0IGZvcndhcmRzID0gW107XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGlwZSkpIHtcclxuICAgICAgICAgIGZvciAobGV0IHAgaW4gcGlwZSkge1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHBpcGVbcF1bJ0BuYW1lJ10sXHJcbiAgICAgICAgICAgICAgeHBvcyA9IHBpcGVbcF1bJ0B4J10sXHJcbiAgICAgICAgICAgICAgeXBvcyA9IHBpcGVbcF1bJ0B5J10sXHJcbiAgICAgICAgICAgICAgZXh0cmFUZXh0ID0gXCJcIixcclxuICAgICAgICAgICAgICBkZXNjVGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgIHBvc3NpdGlvbnMgPSB0aGlzLmNoZWNrUG9zc2l0aW9ucyh4cG9zLCB5cG9zKTtcclxuICAgICAgICAgICAgaWYgKHBpcGVbcF1bJ0B4cGF0aEV4cHJlc3Npb24nXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgZXh0cmFUZXh0ID0gcGlwZVtwXVsnQHhwYXRoRXhwcmVzc2lvbiddLnNsaWNlKDAsIDE1KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpcGVbcF0uRml4ZWRRdWVyeVNlbmRlciAhPSBudWxsICYmIHBpcGVbcF0uRml4ZWRRdWVyeVNlbmRlclsnQHF1ZXJ5J10gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGV4dHJhVGV4dCA9IHBpcGVbcF0uRml4ZWRRdWVyeVNlbmRlclsnQHF1ZXJ5J10uc2xpY2UoMCwgMTUpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocGlwZVtwXS5kZXNjcmlwdGlvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocGlwZVtwXS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgICAgZGVzY1RleHQgPSBwaXBlW3BdLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgZXh0cmFUZXh0LCBudWxsLCBkZXNjVGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChwaXBlW3BdLkZvcndhcmQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGxldCBmb3J3YXJkRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGlwZVtwXS5Gb3J3YXJkKSkge1xyXG4gICAgICAgICAgICAgICAgcGlwZVtwXS5Gb3J3YXJkLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgZm9yd2FyZERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlUGlwZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRQaXBlOiBpdGVtWydAcGF0aCddLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW1bJ0BuYW1lJ11cclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgZm9yd2FyZHMucHVzaChmb3J3YXJkRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yd2FyZERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgIHNvdXJjZVBpcGU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHRhcmdldFBpcGU6IHBpcGVbcF0uRm9yd2FyZFsnQHBhdGgnXSxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogcGlwZVtwXS5Gb3J3YXJkWydAbmFtZSddXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgZm9yd2FyZHMucHVzaChmb3J3YXJkRGF0YSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxldCBuZXh0UGlwZSA9IHBhcnNlSW50KHApICsgMTtcclxuICAgICAgICAgICAgICBpZiAocGlwZVtuZXh0UGlwZV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZvcndhcmREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICBzb3VyY2VQaXBlOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICB0YXJnZXRQaXBlOiBwaXBlW25leHRQaXBlXVsnQG5hbWUnXSxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogXCJzdWNjZXNzXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvcndhcmRzLnB1c2goZm9yd2FyZERhdGEpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZXQgbmFtZSA9IHBpcGVbJ0BuYW1lJ107XHJcbiAgICAgICAgICB0aGlzLmFkZFBpcGUobmFtZSk7XHJcbiAgICAgICAgICBpZiAocGlwZS5Gb3J3YXJkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGZvcndhcmREYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGlwZS5Gb3J3YXJkKSkge1xyXG4gICAgICAgICAgICAgIHBpcGUuRm9yd2FyZC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBmb3J3YXJkRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgc291cmNlUGlwZTogbmFtZSxcclxuICAgICAgICAgICAgICAgICAgdGFyZ2V0UGlwZTogaXRlbVsnQHBhdGgnXSxcclxuICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbVsnQG5hbWUnXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGZvcndhcmRzLnB1c2goZm9yd2FyZERhdGEpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGZvcndhcmREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgc291cmNlUGlwZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldFBpcGU6IHBpcGUuRm9yd2FyZFsnQHBhdGgnXSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHBpcGUuRm9yd2FyZFsnQG5hbWUnXVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgZm9yd2FyZHMucHVzaChmb3J3YXJkRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZGRFeGl0cyh0cmFuc2Zvcm1lZFhtbC5BZGFwdGVyLlBpcGVsaW5lLkV4aXQpO1xyXG4gICAgICAgIGlmIChwb3NzaXRpb25zID09PSBudWxsKSB7XHJcbiAgICAgICAgICB0aGlzLmZsb3dWaWV3LnNldE9mZnNldHMoZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmZsb3dWaWV3LnNldE9mZnNldHModHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmFuc2Zvcm1lZFhtbC5BZGFwdGVyLlJlY2VpdmVyICE9IG51bGwpIHtcclxuICAgICAgICAgIGxldCBmb3J3YXJkRGF0YSA9IHRoaXMuYWRkUmVjZWl2ZXIodHJhbnNmb3JtZWRYbWwsIGZvcndhcmRzWzBdLnNvdXJjZVBpcGUpO1xyXG4gICAgICAgICAgZm9yd2FyZHMucHVzaChmb3J3YXJkRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVGb3J3YXJkcyhmb3J3YXJkcyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmxvd1ZpZXcuZGlzcGxheUVycm9yKHRyYW5zZm9ybWVkWG1sKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrUG9zc2l0aW9ucyh4cG9zLCB5cG9zKSB7XHJcbiAgICBpZiAoeHBvcyA9PSBudWxsICYmIHlwb3MgIT0gbnVsbCkge1xyXG4gICAgICB4cG9zID0geXBvcztcclxuICAgIH0gZWxzZSBpZiAoeXBvcyA9PSBudWxsICYmIHhwb3MgIT0gbnVsbCkge1xyXG4gICAgICB5cG9zID0geHBvcztcclxuICAgIH1cclxuICAgIGlmICh4cG9zICE9IG51bGwgJiYgeXBvcyAhPSBudWxsKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogeHBvcyxcclxuICAgICAgICB5OiB5cG9zXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkUmVjZWl2ZXIodHJhbnNmb3JtZWRYbWwsIHRhcmdldCkge1xyXG4gICAgdGhpcy5hZGRQaXBlKCcocmVjZWl2ZXIpOiAnICsgdHJhbnNmb3JtZWRYbWwuQWRhcHRlci5SZWNlaXZlclsnQG5hbWUnXSwge1xyXG4gICAgICB4OiBcIjYwMFwiLFxyXG4gICAgICB5OiBcIjQwMFwiXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNvdXJjZVBpcGU6ICcocmVjZWl2ZXIpOiAnICsgdHJhbnNmb3JtZWRYbWwuQWRhcHRlci5SZWNlaXZlclsnQG5hbWUnXSxcclxuICAgICAgdGFyZ2V0UGlwZTogdGFyZ2V0LFxyXG4gICAgICBuYW1lOiAncmVxdWVzdCdcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBhZGRFeGl0cyhleGl0cykge1xyXG4gICAgbGV0IGV4aXQgPSBleGl0cyxcclxuICAgICAgcG9zc2l0aW9ucyxcclxuICAgICAgbmFtZSxcclxuICAgICAgeXBvcyxcclxuICAgICAgeHBvcztcclxuICAgIGlmIChleGl0ID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXhpdCkpIHtcclxuICAgICAgbGV0IGN1ciA9IHRoaXM7XHJcbiAgICAgIGV4aXQuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xyXG4gICAgICAgIG5hbWUgPSBleGl0W2luZGV4XVsnQHBhdGgnXSxcclxuICAgICAgICAgIHhwb3MgPSBleGl0W2luZGV4XVsnQHgnXSxcclxuICAgICAgICAgIHlwb3MgPSBleGl0W2luZGV4XVsnQHknXTtcclxuICAgICAgICBpZiAoeHBvcyAhPSBudWxsICYmIHlwb3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgcG9zc2l0aW9ucyA9IHtcclxuICAgICAgICAgICAgeDogeHBvcyxcclxuICAgICAgICAgICAgeTogeXBvc1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjdXIuYWRkUGlwZShuYW1lLCBwb3NzaXRpb25zLCBcIlwiLCB0cnVlKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYW1lID0gZXhpdFsnQHBhdGgnXSxcclxuICAgICAgICB4cG9zID0gZXhpdFsnQHgnXSxcclxuICAgICAgICB5cG9zID0gZXhpdFsnQHknXTtcclxuICAgICAgaWYgKHhwb3MgIT0gbnVsbCAmJiB5cG9zICE9IG51bGwpIHtcclxuICAgICAgICBwb3NzaXRpb25zID0ge1xyXG4gICAgICAgICAgeDogeHBvcyxcclxuICAgICAgICAgIHk6IHlwb3NcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5hZGRQaXBlKG5hbWUsIHBvc3NpdGlvbnMsIFwiXCIsIHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLypcclxuICAjIGEgZnVuY3Rpb24gdG8gc2VhcmNoIGFsbCBvZiB0aGUgZm9yd2FyZHMgaW4gdGhlIHRyYW5zZm9ybWVkIGpzb24uXHJcbiAgIyBiaW5kIHRvIGVhY2ggY29ubmVjdGlvbiBhbmQgdXBkYXRlIGNvZGUgZWRpdG9yLlxyXG4gICMgY29ubmVjdCBhbGwgb2YgdGhlIHBpcGVzIGFjY29yZGluZyB0byB0aGUgZm9yd2FyZHMgZ2l2ZW4gaW4gdGhpcyBtZXRob2QuXHJcbiAgIyBAcGFyYW0gZm9yd2FyZHM6IGEganNvbiBvYmplY3Qgd2l0aCBhbGwgb2YgdGhlIGZvcndhcmRzLlxyXG4gICovXHJcbiAgZ2VuZXJhdGVGb3J3YXJkcyhmb3J3YXJkcykge1xyXG4gICAgLy93aGVuIGdlbmVyYXRpbmcgc2V0IHRvIHRydWUgYW5kIGFmdGVyIGdlbmVyYXRpbmcgdG8gZmFsc2UuXHJcbiAgICBsZXQgZ2VuZXJhdGVkID0gdHJ1ZTtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG5cclxuICAgIGluc3RhbmNlLmJpbmQoXCJjb25uZWN0aW9uXCIsIGZ1bmN0aW9uKGksIGMpIHtcclxuICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICBpbnN0YW5jZS5nZXRBbGxDb25uZWN0aW9ucygpLmZvckVhY2goZnVuY3Rpb24oY29ubikge1xyXG4gICAgICAgIGlmIChjb25uLnNvdXJjZUlkID09IGkuY29ubmVjdGlvbi5zb3VyY2VJZCAmJiBjb25uLnRhcmdldElkID09IGkuY29ubmVjdGlvbi50YXJnZXRJZCkge1xyXG4gICAgICAgICAgaWYgKGNvdW50ZXIgPCAyKSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgbGV0IHNvdXJjZSA9IGkuc291cmNlRW5kcG9pbnQuZWxlbWVudC5sYXN0Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQ7XHJcbiAgICAgIGxldCB0YXJnZXQgPSBpLnRhcmdldEVuZHBvaW50LmVsZW1lbnQubGFzdENoaWxkLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50O1xyXG4gICAgICBpLmNvbm5lY3Rpb24uYmluZChcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGNvbm4pIHtcclxuICAgICAgICBpbnN0YW5jZS5kZWxldGVDb25uZWN0aW9uKGNvbm4pO1xyXG4gICAgICAgIGN1ci5mbG93Vmlldy5tb2RpZnlGbG93KCdkZWxldGUnLCB7XHJcbiAgICAgICAgICBuYW1lOiBzb3VyY2UsXHJcbiAgICAgICAgICB0YXJnZXQ6IHRhcmdldFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAvL2Nvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMgc28gZGVsZXRlIHRoZSBmaXJzdCBjb25uZWN0aW9uLlxyXG4gICAgICBpZiAoY291bnRlciA+IDEpIHtcclxuICAgICAgICBpbnN0YW5jZS5nZXRBbGxDb25uZWN0aW9ucygpLnNvbWUoZnVuY3Rpb24oY29ubikge1xyXG4gICAgICAgICAgaWYgKGNvbm4uc291cmNlSWQgPT0gaS5jb25uZWN0aW9uLnNvdXJjZUlkICYmIGNvbm4udGFyZ2V0SWQgPT0gaS5jb25uZWN0aW9uLnRhcmdldElkKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRlbGV0ZUNvbm5lY3Rpb24oY29ubik7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFnZW5lcmF0ZWQpIHtcclxuICAgICAgICBjdXIuZmxvd1ZpZXcubW9kaWZ5RmxvdygnY29ubmVjdGlvbicsIHtcclxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxyXG4gICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9sb29wIG92ZXIgYW5kIGNvbm5lY3QgdGhlIGZvcndhcmRzLlxyXG4gICAgbGV0IHNvdXJjZVBpcGUgPSBcIlwiO1xyXG4gICAgbGV0IHRhcmdldFBpcGUgPSBcIlwiO1xyXG4gICAgZ2VuZXJhdGVkID0gdHJ1ZTtcclxuICAgICQoZm9yd2FyZHMpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGYpIHtcclxuICAgICAgc291cmNlUGlwZSA9IFwiXCI7XHJcbiAgICAgIHRhcmdldFBpcGUgPSBcIlwiO1xyXG4gICAgICBpZiAoZi50YXJnZXRQaXBlID09IG51bGwpIHtcclxuICAgICAgICBmLnRhcmdldFBpcGUgPSBmLm5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgJChcIi5zb3VyY2VXaW5kb3dcIikuZWFjaChmdW5jdGlvbihpLCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVswXTtcclxuICAgICAgICBsZXQgcmVmYWN0b3JlZFRleHQgPSAkZWxlbWVudC5sYXN0Q2hpbGQuZmlyc3RDaGlsZC5pbm5lckhUTUw7XHJcbiAgICAgICAgaWYgKHJlZmFjdG9yZWRUZXh0ID09IGYuc291cmNlUGlwZSkge1xyXG4gICAgICAgICAgc291cmNlUGlwZSA9ICQoJGVsZW1lbnQpLmF0dHIoJ2lkJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZWZhY3RvcmVkVGV4dCA9PSBmLnRhcmdldFBpcGUpIHtcclxuICAgICAgICAgIHRhcmdldFBpcGUgPSAkKCRlbGVtZW50KS5hdHRyKCdpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBwYWludFN0eWxlID0ge1xyXG4gICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDNcclxuICAgICAgfVxyXG4gICAgICBpZiAoZi5uYW1lID09ICdmYWlsdXJlJyB8fCBmLm5hbWUgPT0gJ2V4Y2VwdGlvbicpIHtcclxuICAgICAgICBwYWludFN0eWxlLnN0cm9rZSA9IFwiI0ZGMDAwMFwiO1xyXG4gICAgICB9IGVsc2UgaWYgKGYubmFtZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICBwYWludFN0eWxlLnN0cm9rZSA9IFwiIzIyYmIzM1wiXHJcbiAgICAgIH0gZWxzZSBpZiAoZi5uYW1lID09IFwicmVxdWVzdFwiIHx8IGYubmFtZSA9PSAncmVzcG9uc2UnKSB7XHJcbiAgICAgICAgcGFpbnRTdHlsZS5kYXNoc3R5bGUgPSBcIjIgNFwiO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzb3VyY2VQaXBlICE9IFwiXCIgJiYgdGFyZ2V0UGlwZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuY29ubmVjdCh7XHJcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZVBpcGUsXHJcbiAgICAgICAgICB0YXJnZXQ6IHRhcmdldFBpcGUsXHJcbiAgICAgICAgICBwYWludFN0eWxlOiBwYWludFN0eWxlLFxyXG4gICAgICAgICAgb3ZlcmxheXM6IFtcclxuICAgICAgICAgICAgW1wiTGFiZWxcIiwge1xyXG4gICAgICAgICAgICAgIGxhYmVsOiBmLm5hbWUsXHJcbiAgICAgICAgICAgICAgaWQ6IFwibGFiZWxcIixcclxuICAgICAgICAgICAgICBsb2NhdGlvbjogMC4xLFxyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDEwMFxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIGNvbm5lY3RvcjogW3RoaXMuY29ubmVjdG9yVHlwZSwge1xyXG4gICAgICAgICAgICBzdHViOiBbNDAsIDYwXSxcclxuICAgICAgICAgICAgZ2FwOiAxMCxcclxuICAgICAgICAgICAgY29ybmVyUmFkaXVzOiA1LFxyXG4gICAgICAgICAgICBhbHdheXNSZXNwZWN0U3R1YnM6IHRydWUsXHJcbiAgICAgICAgICAgIG1pZHBvaW50OiAwLjAwMDFcclxuICAgICAgICAgIH1dXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZ2VuZXJhdGVkID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBGbG93R2VuZXJhdG9yIGZyb20gJy4vRmxvd0dlbmVyYXRvci5qcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb3dWaWV3IHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRyYW5zZm9ybWVkWG1sID0gbnVsbDtcclxuICAgIHRoaXMudHlwZXMgPSBbXTtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLndpbmRvd3MgPSAwO1xyXG4gICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuYWRkaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RvclR5cGUgPSBcIkZsb3djaGFydFwiO1xyXG4gICAgdGhpcy5ob3Jpem9udGFsQnVpbGQgPSBmYWxzZTtcclxuICAgIHRoaXMuZmxvd0dlbmVyYXRvciA9IG5ldyBGbG93R2VuZXJhdG9yKHRoaXMpO1xyXG4gICAgdGhpcy5nZXRJbnN0YW5jZSgpO1xyXG4gIH1cclxuICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsID0+IGwubm90aWZ5KGRhdGEpKTtcclxuICB9XHJcblxyXG4gIGdldEltYWdlKCkge1xyXG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XHJcblxyXG4gICAgZG9tdG9pbWFnZS50b1N2Zyhub2RlKVxyXG4gICAgICAudGhlbihmdW5jdGlvbihkYXRhVXJsKSB7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7O1xyXG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSAnbG9sLnN2Zyc7XHJcbiAgICAgICAgbGluay5ocmVmID0gZGF0YVVybDtcclxuICAgICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ29vcHMsIHNvbWV0aGluZyB3ZW50IHdyb25nIScsIGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXNldFdpbmRvd3MoKSB7XHJcbiAgICB0aGlzLndpbmRvd3MgPSAwO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICB0aGlzLnNvdXJjZUFuY2hvcnMgPSBbXHJcbiAgICAgICAgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkxlZnRcIixcclxuICAgICAgICBbMC4yNSwgMSwgMCwgMV0sXHJcbiAgICAgICAgWzAuNSwgMSwgMCwgMV0sXHJcbiAgICAgICAgWzAuNzUsIDEsIDAsIDFdLFxyXG4gICAgICAgIFsxLCAxLCAwLCAxXVxyXG4gICAgICBdLFxyXG4gICAgICB0aGlzLmluc3RhbmNlID0gd2luZG93Lmluc3RhbmNlID0ganNQbHVtYi5nZXRJbnN0YW5jZSh7XHJcbiAgICAgICAgLy8gZHJhZyBvcHRpb25zXHJcbiAgICAgICAgRHJhZ09wdGlvbnM6IHtcclxuICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXHJcbiAgICAgICAgICB6SW5kZXg6IDIwMDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIGRlZmF1bHQgdG8gYSBncmFkaWVudCBzdHJva2UgZnJvbSBibHVlIHRvIGdyZWVuLlxyXG4gICAgICAgIFBhaW50U3R5bGU6IHtcclxuICAgICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCIsXHJcbiAgICAgICAgICBzdHJva2VXaWR0aDogM1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy90aGUgYXJyb3cgb3ZlcmxheSBmb3IgdGhlIGNvbm5lY3Rpb25cclxuICAgICAgICBDb25uZWN0aW9uT3ZlcmxheXM6IFtcclxuICAgICAgICAgIFtcIkFycm93XCIsIHtcclxuICAgICAgICAgICAgbG9jYXRpb246IDEsXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgIGlkOiBcIkFSUk9XXCIsXHJcbiAgICAgICAgICAgIHpJbmRleDogMTAwMFxyXG4gICAgICAgICAgfV1cclxuICAgICAgICBdLFxyXG4gICAgICAgIENvbnRhaW5lcjogXCJjYW52YXNcIlxyXG4gICAgICB9KTtcclxuXHJcbiAgICBsZXQgYmFzaWNUeXBlID0ge1xyXG4gICAgICBjb25uZWN0b3I6IFtcIlN0YXRlTWFjaGluZVwiLCB7XHJcbiAgICAgICAgc3R1YjogWzQwLCA2MF0sXHJcbiAgICAgICAgZ2FwOiAxMCxcclxuICAgICAgICBjb3JuZXJSYWRpdXM6IDUsXHJcbiAgICAgICAgYWx3YXlzUmVzcGVjdFN0dWJzOiB0cnVlXHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgICB0aGlzLmluc3RhbmNlLnJlZ2lzdGVyQ29ubmVjdGlvblR5cGUoXCJiYXNpY1wiLCBiYXNpY1R5cGUpO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBvbmUgZnVuY3Rpb24gdG8gbW9kaWZ5IHRoZSBmbG93IGFuZCBjb2RlIGF0IHRoZSBzYW1lIHRpbWUuXHJcbiAgICogQHBhcmFtIGNoYW5nZTogaW5zZXJ0IGhlcmUgdGhlIGFjdGlvbiB5b3Ugd2FudCB0byBkby5cclxuICAgKiBAcGFyYW0gY2FsbGJhY2s6IGluc2VydCBhbiBvYmplY3Qgd2l0aCBuZWNlc3NhcnkgaW5mb3JtYXRpb24uXHJcbiAgICovXHJcbiAgbW9kaWZ5RmxvdyhjaGFuZ2UsIG9iaikge1xyXG4gICAgc3dpdGNoIChjaGFuZ2UpIHtcclxuICAgICAgY2FzZSBcImdlbmVyYXRlXCI6XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUZsb3coKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYWRkJzpcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh0aGlzLmFkZEN1c3RvbVBpcGUob2JqLm5hbWUsIG9iai5jbGFzc05hbWUpKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZWRpdCc6XHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnModGhpcy5lZGl0VGl0bGUob2JqKSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2Nvbm5lY3Rpb24nOlxyXG4gICAgICAgIHRoaXMuYWRkaW5nID0gdHJ1ZTtcclxuICAgICAgICBvYmoudHlwZSA9IFwiY2hhbmdlQWRkRm9yd2FyZFwiO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKG9iaik7XHJcbiAgICAgICAgdGhpcy5hZGRpbmcgPSBmYWxzZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZHJhZyc6XHJcbiAgICAgICAgb2JqID0gdGhpcy5jbGVhblBvc3NpdGlvbnMob2JqKTtcclxuICAgICAgICBvYmoudHlwZSA9IFwiZHJhZ1wiO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKG9iaik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RyYWdFeGl0JzpcclxuICAgICAgICBvYmogPSB0aGlzLmNsZWFuUG9zc2l0aW9ucyhvYmopO1xyXG4gICAgICAgIG9iai50eXBlID0gXCJkcmFnRXhpdFwiO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKG9iaik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RlbGV0ZSc6XHJcbiAgICAgICAgb2JqLnR5cGUgPSBcImRlbGV0ZVwiO1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKG9iaik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJlcnJvclwiOlxyXG4gICAgICAgIHRoaXMuZGlzcGxheUVycm9yKG9iaik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhblBvc3NpdGlvbnMob2JqKSB7XHJcbiAgICBvYmoueCA9IG9iai54LnJlcGxhY2UoL3B4LywgJycpO1xyXG4gICAgb2JqLnkgPSBvYmoueS5yZXBsYWNlKC9weC8sICcnKTtcclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICBlZGl0VGl0bGUocGlwZSkge1xyXG4gICAgbGV0IG9sZFRpdGxlID0gcGlwZS5pbm5lckhUTUw7XHJcbiAgICBsZXQgbmV3VGl0bGUgPSBwcm9tcHQoXCJXaGF0IGlzIHRoZSBuZXcgVGl0bGU/XCIsIG9sZFRpdGxlKTtcclxuICAgIGlmIChuZXdUaXRsZSAhPSBudWxsKSB7XHJcbiAgICAgIHBpcGUuaW5uZXJIVE1MID0gbmV3VGl0bGU7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgb2xkVGl0bGU6IG9sZFRpdGxlLFxyXG4gICAgICAgIG5ld1RpdGxlOiBuZXdUaXRsZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGFkZEN1c3RvbVBpcGUobmFtZSwgY2xhc3NOYW1lKSB7XHJcbiAgICBsZXQgbmV3UGlwZSA9IHRoaXMuYWRkUGlwZShuYW1lLCB7XHJcbiAgICAgIHg6IDEwMCxcclxuICAgICAgeTogMTAwXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiBcImNoYW5nZUFkZFBpcGVcIixcclxuICAgICAgbmFtZTogbmV3UGlwZSxcclxuICAgICAgcG9zc2l0aW9uczoge1xyXG4gICAgICAgIHg6IDEwMCxcclxuICAgICAgICB5OiAxMDBcclxuICAgICAgfSxcclxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZUNvbm5lY3RvclR5cGUoY3VyKSB7XHJcbiAgICBpZiAoY3VyLmNvbm5lY3RvclR5cGUgPT09IFwiRmxvd2NoYXJ0XCIpIHtcclxuICAgICAgY3VyLmNvbm5lY3RvclR5cGUgPSBcIlN0YXRlTWFjaGluZVwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VyLmNvbm5lY3RvclR5cGUgPSBcIkZsb3djaGFydFwiO1xyXG4gICAgfVxyXG4gICAgY3VyLmdlbmVyYXRlRmxvdygpO1xyXG4gIH1cclxuXHJcbiAgYWRkUGlwZShuYW1lLCBwb3NzaXRpb25zLCBleHRyYSwgaXNFeGl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5mbG93R2VuZXJhdG9yLmFkZFBpcGUobmFtZSwgcG9zc2l0aW9ucywgZXh0cmEsIGlzRXhpdCk7XHJcbiAgfVxyXG5cclxuICBnZXRUeXBlcygpIHtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHtcclxuICAgICAgdHlwZTogXCJnZXRUeXBlc1wiXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLnR5cGVzO1xyXG4gIH1cclxuXHJcbiAgLy8gYSBmdW5jdGlvbiB0byBwdXQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgcGlwZXNcclxuICBzZXRPZmZzZXRzKHBvc3NpdGlvbnMpIHtcclxuICAgIGxldCBib3hPZmZzZXQgPSAwO1xyXG4gICAgbGV0IGNvbnRhaW5lciA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy53aW5kb3dzOyBpKyspIHtcclxuICAgICAgYm94T2Zmc2V0ICs9IDI1MDtcclxuICAgICAgaWYgKCFwb3NzaXRpb25zKSB7XHJcbiAgICAgICAgbGV0IGJveCA9ICQoJyNzb3VyY2VXaW5kb3cnICsgaSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhvcml6b250YWxCdWlsZCkge1xyXG4gICAgICAgICAgYm94LmNzcyhcInRvcFwiLCBib3hPZmZzZXQgKyBcInB4XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBib3guY3NzKFwidG9wXCIsIFwiMTAwcHhcIik7XHJcbiAgICAgICAgICBib3guY3NzKFwibGVmdFwiLCBib3hPZmZzZXQgKyBcInB4XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vZGlmeUZsb3coJ2RyYWcnLCB7XHJcbiAgICAgICAgICBuYW1lOiBib3hbMF0ubGFzdENoaWxkLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgeDogYm94LmNzcyhcImxlZnRcIiksXHJcbiAgICAgICAgICB5OiBib3guY3NzKFwidG9wXCIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBsZXQgdG90YWxMZW5ndGgsIHdpbmRvd0xlbmd0aDtcclxuICAgICAgaWYgKCF0aGlzLmhvcml6b250YWxCdWlsZCkge1xyXG4gICAgICAgIHRvdGFsTGVuZ3RoID0gYm94T2Zmc2V0ICsgKCg2NCAqIGkpIC0gMTQ1MCk7XHJcbiAgICAgICAgd2luZG93TGVuZ3RoID0gcGFyc2VJbnQoJCgnI2NhbnZhcycpLmNzcygnaGVpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpO1xyXG4gICAgICAgIGlmICh0b3RhbExlbmd0aCA+IHdpbmRvd0xlbmd0aCkge1xyXG4gICAgICAgICAgJCgnI2NhbnZhcycpLmNzcygnaGVpZ2h0JywgdG90YWxMZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b3RhbExlbmd0aCA9IGJveE9mZnNldCArICgoNjQgKiBpKSAtIDEwMDApO1xyXG4gICAgICAgIHdpbmRvd0xlbmd0aCA9IHBhcnNlSW50KCQoJyNjYW52YXMnKS5jc3MoJ3dpZHRoJykucmVwbGFjZSgncHgnLCAnJykpO1xyXG4gICAgICAgIGlmICh0b3RhbExlbmd0aCA+IHdpbmRvd0xlbmd0aCkge1xyXG4gICAgICAgICAgJCgnI2NhbnZhcycpLmNzcygnd2lkdGgnLCB0b3RhbExlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLm1vdmluZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVGbG93KCkge1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoe1xyXG4gICAgICB0eXBlOiBcImNvbnZlcnRDb25maWd1cmF0aW9uXCJcclxuICAgIH0pO1xyXG4gICAgdGhpcy5mbG93R2VuZXJhdG9yLmdlbmVyYXRlRmxvdyh0aGlzLnRyYW5zZm9ybWVkWG1sLCB0aGlzLndpbmRvd3MpO1xyXG4gIH1cclxuXHJcbiAgZGlzcGxheUVycm9yKGUpIHtcclxuICAgIGluc3RhbmNlLnJlc2V0KCk7XHJcbiAgICAkKCcjY2FudmFzJykuZW1wdHkoKTtcclxuICAgICQoJyNjYW52YXMnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgJCgnLmN1c3RvbUVycm9yTWVzc2FnZScpLnJlbW92ZSgpO1xyXG4gICAgJCgnI2Zsb3dDb250YWluZXInKS5hcHBlbmQoJChcIjxoMT48L2gxPlwiKS50ZXh0KCdFcnJvcicgKyBlKS5hZGRDbGFzcygnY3VzdG9tRXJyb3JNZXNzYWdlJykpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGlwZVZpZXcgZnJvbSAnLi9QaXBlVmlldy5qcyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFsZXR0ZVZpZXcge1xyXG4gIGNvbnN0cnVjdG9yKGZsb3dDb250cm9sbGVyKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5waXBlcyA9IG51bGw7XHJcbiAgICB0aGlzLmZsb3dWaWV3ID0gZmxvd0NvbnRyb2xsZXIuZmxvd1ZpZXc7XHJcbiAgfVxyXG5cclxuICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsID0+IGwubm90aWZ5KGRhdGEpKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlUGFsZXR0ZVBpcGVzKHBpcGVzKSB7XHJcbiAgICBsZXQgcGlwZVZpZXcgPSBuZXcgUGlwZVZpZXcodGhpcy5mbG93VmlldyksXHJcbiAgICAvLyB4bWxCdXR0b24gPSAkKCc8YnV0dG9uPjwvYnV0dG9uPicpLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJykuYWRkQ2xhc3MoJ2NvbGxhcHNpYmxlIGxpc3RJdGVtJykudGV4dChcInhtbCBwaXBlc1wiKSxcclxuICAgIC8vIHhtbENvbGxhcHMgPSAkKCc8ZGl2PjwvZGl2PicpLmFkZENsYXNzKCdjb250ZW50JyksXHJcbiAgICBwYWxldHRlID0gJCgnI3BhbGV0dGUnKTtcclxuICAgIC8vIHBhbGV0dGUuYXBwZW5kKHhtbEJ1dHRvbiwgeG1sQ29sbGFwcyk7XHJcbiAgICBwaXBlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgIGxldCBpbWcsXHJcbiAgICAgIHN0cm9uZyA9ICQoJzxzdHJvbmc+PC9zdHJvbmc+JykudGV4dChpdGVtLm5hbWUpLFxyXG4gICAgICBidXR0b24gPSAkKCc8YnV0dG9uPjwvYnV0dG9uPicpLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJykuYWRkQ2xhc3MoJ2NvbGxhcHNpYmxlIGxpc3RJdGVtJyksXHJcbiAgICAgIGNvbGxhcHNCb3ggPSAkKCc8ZGl2PjwvZGl2PicpLmFkZENsYXNzKCdjb250ZW50JyksXHJcbiAgICAgIGJ1dHRvblRleHQgPSAkKCc8c3Bhbj48L3NwYW4+JykuYWRkQ2xhc3MoJ2J1dHRvblRleHQnKS50ZXh0KGl0ZW0ubmFtZSk7XHJcbiAgICAgIGltZyA9IHBpcGVWaWV3LmdldFR5cGVJbWFnZShpdGVtLm5hbWUsIHRydWUpLmF0dHIoJ2lkJywgaXRlbS5uYW1lICk7XHJcbiAgICAgIGJ1dHRvbi5hcHBlbmQoYnV0dG9uVGV4dCk7XHJcbiAgICAgIGNvbGxhcHNCb3guYXBwZW5kKGltZyk7XHJcbiAgICAgIC8vIGlmKGl0ZW0ubmFtZS5tYXRjaCgvWG1sL2cpICE9IG51bGwpIHtcclxuICAgICAgLy8gICB4bWxDb2xsYXBzLmFwcGVuZChidXR0b24sIGNvbGxhcHNCb3gpO1xyXG4gICAgICAvLyAgIHJldHVybjtcclxuICAgICAgLy8gfVxyXG4gICAgICBwYWxldHRlLmFwcGVuZChidXR0b24sIGNvbGxhcHNCb3gpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNldEhhbmRsZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRIYW5kbGVycygpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgdmFyIGNvbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29sbGFwc2libGVcIik7XHJcbiAgICB2YXIgaTtcclxuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgY29sbC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb2xsW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICBpZiAoY29udGVudC5zdHlsZS5kaXNwbGF5ID09PSBcImJsb2NrXCIpIHtcclxuICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcjY2FudmFzJykub24oJ2RyYWdvdmVyJywgZnVuY3Rpb24oZXYpIHtcclxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgIH0pO1xyXG4gICAgJCgnI2NhbnZhcycpLm9uKCdkcm9wJywgZnVuY3Rpb24oZXYpIHtcclxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGxldCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ryb3BQaXBlJyk7XHJcbiAgICAgIGN1ci5mbG93Vmlldy5tb2RpZnlGbG93KFwiYWRkXCIsIHtcclxuICAgICAgICBuYW1lOiBcIm5ld1wiICsgZGF0YSxcclxuICAgICAgICBjbGFzc05hbWU6IGRhdGFcclxuICAgICAgfSk7XHJcbiAgICAgIC8vaW5zZXJ0IHBpcGUgaW4gZWRpdG9yXHJcbiAgICB9KVxyXG4gICAgJCgnLnR5cGVJbWcnKS5vbignZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZXYpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2RyYWcnKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkcm9wUGlwZVwiLCBldi50YXJnZXQuaWQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBGbG93VmlldyBmcm9tICcuLi9WaWV3L2Zsb3dWaWV3L0Zsb3dWaWV3LmpzJztcclxuaW1wb3J0IFBhbGV0dGVWaWV3IGZyb20gJy4uL1ZpZXcvZmxvd1ZpZXcvUGFsZXR0ZVZpZXcuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxvd0NvbnRyb2xsZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYWluQ29udHJvbGxlcikge1xyXG4gICAgdGhpcy5tYWluQ29udHJvbGxlciA9IG1haW5Db250cm9sbGVyO1xyXG4gICAgdGhpcy5mbG93VmlldyA9IG5ldyBGbG93VmlldygpO1xyXG4gICAgdGhpcy5mbG93Vmlldy5hZGRMaXN0ZW5lcih0aGlzKTtcclxuICAgIHRoaXMucGFsZXR0ZVZpZXcgPSBuZXcgUGFsZXR0ZVZpZXcodGhpcyk7XHJcbiAgICB0aGlzLnBhbGV0dGVWaWV3LmFkZExpc3RlbmVyKHRoaXMpO1xyXG4gICAgdGhpcy5ub3RpZnkoe3R5cGU6IFwiZ2V0UGlwZXNcIn0pO1xyXG4gICAgdGhpcy5ob3ZlclNvdXJjZVdpbmRvdyA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0SGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIG5vdGlmeShkYXRhKSB7XHJcbiAgICBpZiAoZGF0YSA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH07XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlIFwiY29udmVydENvbmZpZ3VyYXRpb25cIjpcclxuICAgICAgICB0aGlzLmZsb3dWaWV3LnRyYW5zZm9ybWVkWG1sID0gdGhpcy5tYWluQ29udHJvbGxlci5jb252ZXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZ2V0VHlwZXNcIjpcclxuICAgICAgICB0aGlzLmZsb3dWaWV3LnR5cGVzID0gdGhpcy5tYWluQ29udHJvbGxlci5tb2RpZnlDb2RlKFwiZ2V0VHlwZXNcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJjaGFuZ2VOYW1lXCI6XHJcbiAgICAgICAgdGhpcy5tYWluQ29udHJvbGxlci5tb2RpZnlDb2RlKFwiY2hhbmdlTmFtZVwiLCBkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImNoYW5nZUFkZFBpcGVcIjpcclxuICAgICAgICB0aGlzLm1haW5Db250cm9sbGVyLm1vZGlmeUNvZGUoXCJjaGFuZ2VBZGRQaXBlXCIsIGRhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiY2hhbmdlQWRkRm9yd2FyZFwiOlxyXG4gICAgICAgIHRoaXMubWFpbkNvbnRyb2xsZXIubW9kaWZ5Q29kZShcImNoYW5nZUFkZEZvcndhcmRcIiwgZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJkcmFnXCI6XHJcbiAgICAgICAgdGhpcy5tYWluQ29udHJvbGxlci5tb2RpZnlDb2RlKFwiY2hhbmdlUG9zc2l0aW9uXCIsIGRhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZHJhZ0V4aXRcIjpcclxuICAgICAgICB0aGlzLm1haW5Db250cm9sbGVyLm1vZGlmeUNvZGUoXCJjaGFuZ2VFeGl0UG9zc2l0aW9uXCIsIGRhdGEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGVsZXRlXCI6XHJcbiAgICAgICAgdGhpcy5tYWluQ29udHJvbGxlci5tb2RpZnlDb2RlKFwiZGVsZXRlRm9yd2FyZFwiLCBkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRIYW5kbGVycygpIHtcclxuICAgIGxldCBjdXIgPSB0aGlzO1xyXG4gICAgJCgnI2FkZFBpcGUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgY3VyLmZsb3dWaWV3Lm1vZGlmeUZsb3coJ2FkZCcsIHtuYW1lOiBcIm5ld1BpcGVcIiwgY2xhc3NOYW1lOiBcImN1c3RvbVBpcGVcIn0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2Rvd25sb2FkTGluaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBjdXIuZmxvd1ZpZXcuZ2V0SW1hZ2UoKTtcclxuICAgIH0pXHJcblxyXG4gICAgJCgnI3NldERhdGEnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgY3VyLmZsb3dWaWV3LmdlbmVyYXRlRmxvdyhjdXIuZmxvd1ZpZXcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2xpbmVDaGFuZ2VzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgIGN1ci5mbG93Vmlldy50b2dnbGVDb25uZWN0b3JUeXBlKGN1ci5mbG93Vmlldyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL3RvZ2dsZSBidWlsZGluZyB0aGUgZmxvdyBpbiBob3Jpem9udGFsIG1vZGUuXHJcbiAgICAkKCcjdG9nZ2xlSCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBsZXQgaG9yaXpvbnRhbEJ1aWxkID0gY3VyLmZsb3dWaWV3Lmhvcml6b250YWxCdWlsZDtcclxuICAgICAgaWYgKCFob3Jpem9udGFsQnVpbGQpIHtcclxuICAgICAgICBjdXIuZmxvd1ZpZXcuaG9yaXpvbnRhbEJ1aWxkID0gdHJ1ZTtcclxuICAgICAgICAkKCcjdG9nZ2xlSCcpLmFkZENsYXNzKCdzZWxlY3RlZEl0ZW0nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdXIuZmxvd1ZpZXcuaG9yaXpvbnRhbEJ1aWxkID0gZmFsc2U7XHJcbiAgICAgICAgJCgnI3RvZ2dsZUgnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWRJdGVtJyk7XHJcbiAgICAgIH1cclxuICAgICAgY3VyLmZsb3dWaWV3LmdlbmVyYXRlRmxvdyhjdXIuZmxvd1ZpZXcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9yZW5hbWUgYSBwaXBlXHJcbiAgICAkKFwiI2NhbnZhc1wiKS5vbignZGJsY2xpY2snLCAnI3N0cm9uZycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgY29uc29sZS5sb2coXCJkYmxjbGljayFcIik7XHJcbiAgICAgIGlmICh0aGlzLmlubmVySFRNTCAhPT0gXCJFWElUXCIpIHtcclxuICAgICAgICBjdXIuZmxvd1ZpZXcubW9kaWZ5RmxvdygnZWRpdCcsIHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBqc1BsdW1iLm9uKCQoJyNjYW52YXMnKSwgXCJtb3VzZW92ZXJcIiwgXCIuc291cmNlV2luZG93XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAkcGFuem9vbS5wYW56b29tKFwiZGlzYWJsZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGpzUGx1bWIub24oJCgnI2NhbnZhcycpLCBcIm1vdXNlb3V0XCIsIFwiLnNvdXJjZVdpbmRvd1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgJHBhbnpvb20ucGFuem9vbShcImVuYWJsZVwiKTtcclxuICAgICAgJCgnI2Zsb3dDb250YWluZXInKS5hdHRyKCdzdHlsZScsICcnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNjYW52YXMnKS5vbihcImNsaWNrXCIsIFwiLnNvdXJjZVdpbmRvd1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY3VyLm1haW5Db250cm9sbGVyLm1vZGlmeUNvZGUoXCJ1bmRvRGVjb3JhdGlvbnNcIik7XHJcbiAgICAgIGN1ci5tYWluQ29udHJvbGxlci5tb2RpZnlDb2RlKFwic2VsZWN0UGlwZVwiLCB7XHJcbiAgICAgICAgbmFtZTogdGhpcy5sYXN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLmlubmVySFRNTFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgLy9tYWtlIHRoZSBib3R0b20gY29udGFpbmVyIGRyYWdnYWJsZSB3aXRoIG1vdXNlb3ZlclxyXG4gICAganNQbHVtYi5vbigkKCcjY2FudmFzJyksIFwibW91c2VvdmVyXCIsIFwiLmJvdHRvbUNvbnRhaW5lclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgbGV0IHNvdXJjZURpdiA9IHRoaXMucGFyZW50RWxlbWVudDtcclxuICAgICAgbGV0IGRyYWdEYXRhID0ge1xyXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcclxuICAgICAgICBjb250YWlubWVudDogJyNjYW52YXMnLFxyXG4gICAgICAgIGRyYWc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhjdXIuZmxvd1ZpZXcubW9kaWZ5Rmxvdyk7XHJcbiAgICAgICAgICBjdXIuZmxvd1ZpZXcubW92aW5nID0gdHJ1ZTtcclxuICAgICAgICAgIGxldCBkcmFnT2JqID0ge1xyXG4gICAgICAgICAgICB4OiAkKHNvdXJjZURpdikuY3NzKCdsZWZ0JyksXHJcbiAgICAgICAgICAgIHk6ICQoc291cmNlRGl2KS5jc3MoJ3RvcCcpLFxyXG4gICAgICAgICAgICBuYW1lOiBzb3VyY2VEaXYubGFzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICgkKHNvdXJjZURpdikuaGFzQ2xhc3MoJ2V4aXQnKSkge1xyXG4gICAgICAgICAgICBjdXIuZmxvd1ZpZXcubW9kaWZ5RmxvdygnZHJhZ0V4aXQnLCBkcmFnT2JqKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1ci5mbG93Vmlldy5tb2RpZnlGbG93KCdkcmFnJywgZHJhZ09iaik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcclxuICAgICAgICAgIGN1ci5mbG93Vmlldy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaW5zdGFuY2UuZHJhZ2dhYmxlKHNvdXJjZURpdiwgZHJhZ0RhdGEpO1xyXG4gICAgICBpZiAoaW5zdGFuY2UuaXNTb3VyY2VFbmFibGVkKHNvdXJjZURpdikpIHtcclxuICAgICAgICBpbnN0YW5jZS50b2dnbGVTb3VyY2VFbmFibGVkKHNvdXJjZURpdik7XHJcbiAgICAgIH1cclxuICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImVsZW1lbnQtZGlzYWJsZWRcIik7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy93aGVuIGxlYXZpbmcgY29udGFpbmVyIG5vdCBkcmFnZ2FibGVcclxuICAgIGpzUGx1bWIub24oJCgnI2NhbnZhcycpLCBcIm1vdXNlb3V0XCIsIFwiLmJvdHRvbUNvbnRhaW5lclwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgbGV0IHNvdXJjZURpdiA9IHRoaXMucGFyZW50RWxlbWVudDtcclxuICAgICAgaW5zdGFuY2UuZHJhZ2dhYmxlKHNvdXJjZURpdiwge1xyXG4gICAgICAgIGRpc2FibGVkOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoIWluc3RhbmNlLmlzU291cmNlRW5hYmxlZChzb3VyY2VEaXYpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UudG9nZ2xlU291cmNlRW5hYmxlZChzb3VyY2VEaXYpO1xyXG4gICAgICB9XHJcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJlbGVtZW50LWRpc2FibGVkXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9jb250YWluIGNhbnZhcyB0byBjb250YWluZXIuXHJcbiAgICB2YXIgbWluU2NhbGVYID0gJCgnI2Zsb3dDb250YWluZXInKS5pbm5lcldpZHRoKCk7XHJcbiAgICB2YXIgbWluU2NhbGVZID0gJCgnI2Zsb3dDb250YWluZXInKS5pbm5lckhlaWdodCgpO1xyXG4gICAgbGV0ICRwYW56b29tID0gJCgnI2NhbnZhcycpLnBhbnpvb20oe1xyXG4gICAgICBtaW5TY2FsZTogMC41LFxyXG4gICAgICBpbmNyZW1lbnQ6IDAuMlxyXG4gICAgfSk7XHJcblxyXG4gICAgLy9tYWtlIHN1cmUgcGFuem9vbSBkb2Vzbid0IGxlYXZlIHRoZSBjb250YWluZXIuXHJcbiAgICAkcGFuem9vbS5vbigncGFuem9vbWVuZCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgdmFyIGN1cnJlbnRfcHVsbFkgPSBwYXJzZUludCgkKCcjY2FudmFzJykuY3NzKCd0cmFuc2Zvcm0nKS5zcGxpdCgnLCcpWzVdKTtcclxuICAgICAgdmFyIGN1cnJlbnRfcHVsbFggPSBwYXJzZUludCgkKCcjY2FudmFzJykuY3NzKCd0cmFuc2Zvcm0nKS5zcGxpdCgnLCcpWzRdKTtcclxuICAgICAgaWYgKGN1cnJlbnRfcHVsbFggPj0gMCkge1xyXG4gICAgICAgICRwYW56b29tLnBhbnpvb20oJ3BhbicsIDAsIGN1cnJlbnRfcHVsbFkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjdXJyZW50X3B1bGxZIDw9IC1NYXRoLmFicygkKCcjY2FudmFzJykuY3NzKCdoZWlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgKyAxMDAwKSB7XHJcbiAgICAgICAgJHBhbnpvb20ucGFuem9vbSgncGFuJywgY3VycmVudF9wdWxsWCwgLU1hdGguYWJzKCQoJyNjYW52YXMnKS5jc3MoJ2hlaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSArIDEwMDApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjdXJyZW50X3B1bGxYIDw9IC0xNTQwKSB7XHJcbiAgICAgICAgJHBhbnpvb20ucGFuem9vbSgncGFuJywgLTE1NDAsIGN1cnJlbnRfcHVsbFkpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjdXJyZW50X3B1bGxZID49IDApIHtcclxuICAgICAgICAkcGFuem9vbS5wYW56b29tKCdwYW4nLCBjdXJyZW50X3B1bGxYLCAwKTtcclxuICAgICAgfVxyXG4gICAgICAkKCcjZmxvd0NvbnRhaW5lcicpLmF0dHIoJ3N0eWxlJywgJycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9tYWtlIHpvb20gcG9zc2libGVcclxuICAgICRwYW56b29tLnBhcmVudCgpLm9uKCdtb3VzZXdoZWVsLmZvY2FsJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICBpZiAoIWUuc2hpZnRLZXkpIHJldHVybjtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZGVsdGEgPSBlLmRlbHRhIHx8IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xyXG4gICAgICB2YXIgem9vbU91dCA9IGRlbHRhID8gZGVsdGEgPCAwIDogZS5vcmlnaW5hbEV2ZW50LmRlbHRhWSA+IDA7XHJcbiAgICAgICRwYW56b29tLnBhbnpvb20oJ3pvb20nLCB6b29tT3V0LCB7XHJcbiAgICAgICAgaW5jcmVtZW50OiAwLjEsXHJcbiAgICAgICAgZm9jYWw6IGVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IENvbmZpZ3VyYXRpb25Db252ZXJ0ZXIgZnJvbSAnLi4vTW9kZWwvQ29uZmlndXJhdGlvbkNvbnZlcnRlci5qcyc7XHJcbmltcG9ydCBDb2RlQ29udHJvbGxlciBmcm9tICcuL0NvZGVDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IEZsb3dDb250cm9sbGVyIGZyb20gJy4vRmxvd0NvbnRyb2xsZXIuanMnO1xyXG5cclxuXHJcbmNsYXNzIE1haW5Db250cm9sbGVyIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb25Db252ZXJ0ZXIgPSBuZXcgQ29uZmlndXJhdGlvbkNvbnZlcnRlcigpO1xyXG4gICAgdGhpcy5jb2RlQ29udHJvbGxlciA9IG5ldyBDb2RlQ29udHJvbGxlcih0aGlzKTtcclxuICAgIHRoaXMuZmxvd0NvbnRyb2xsZXIgPSBuZXcgRmxvd0NvbnRyb2xsZXIodGhpcyk7XHJcbiAgfVxyXG5cclxuICBjb252ZXJ0Q29uZmlndXJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25Db252ZXJ0ZXIuY29udmVydENvbmZpZ3VyYXRpb24odGhpcy5jb2RlQ29udHJvbGxlci5jb2RlVmlldy5lZGl0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVGbG93KCkge1xyXG4gICAgdGhpcy5mbG93Q29udHJvbGxlci5mbG93Vmlldy5tb2RpZnlGbG93KFwiZ2VuZXJhdGVcIik7XHJcbiAgfVxyXG4gIHNldFBpcGVzKGRhdGEpIHtcclxuICAgIHRoaXMuZmxvd0NvbnRyb2xsZXIucGFsZXR0ZVZpZXcuZ2VuZXJhdGVQYWxldHRlUGlwZXMoZGF0YVsyXS5jbGFzc2VzKTtcclxuICB9XHJcblxyXG4gIG1vZGlmeUNvZGUodHlwZSwgb2JqKSB7XHJcbiAgICBsZXQgY29kZUNvbnRyb2xsZXIgPSB0aGlzLmNvZGVDb250cm9sbGVyO1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgXCJnZXRUeXBlc1wiOlxyXG4gICAgICAgIHJldHVybiBjb2RlQ29udHJvbGxlci5nZXRUeXBlcygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwidmFsaWRhdGVDb25maWd1cmF0aW9uXCI6XHJcbiAgICAgICAgcmV0dXJuIGNvZGVDb250cm9sbGVyLnZhbGlkYXRlQ29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGVjb3JhdGVMaW5lXCI6XHJcbiAgICAgICAgY29kZUNvbnRyb2xsZXIuZGVjb3JhdGVMaW5lKG9iai5saW5lKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInVuZG9EZWNvcmF0aW9uc1wiOlxyXG4gICAgICAgIGNvZGVDb250cm9sbGVyLnVuZG9EZWNvcmF0aW9ucygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiY2hhbmdlTmFtZVwiOlxyXG4gICAgICAgIGNvZGVDb250cm9sbGVyLmNoYW5nZU5hbWUob2JqLm9sZFRpdGxlLCBvYmoubmV3VGl0bGUpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiY2hhbmdlUG9zc2l0aW9uXCI6XHJcbiAgICAgICAgY29kZUNvbnRyb2xsZXIuY2hhbmdlUG9zc2l0aW9uKG9iai5uYW1lLCBvYmoueCwgb2JqLnkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiY2hhbmdlRXhpdFBvc3NpdGlvblwiOlxyXG4gICAgICAgIGNvZGVDb250cm9sbGVyLmNoYW5nZUV4aXRQb3NzaXRpb24ob2JqLm5hbWUsIG9iai54LCBvYmoueSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJjaGFuZ2VBZGRGb3J3YXJkXCI6XHJcbiAgICAgICAgY29kZUNvbnRyb2xsZXIuY2hhbmdlQWRkRm9yd2FyZChvYmouc291cmNlLCBvYmoudGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImRlbGV0ZUZvcndhcmRcIjpcclxuICAgICAgICBjb2RlQ29udHJvbGxlci5kZWxldGVGb3J3YXJkKG9iai5uYW1lLCBvYmoudGFyZ2V0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImNoYW5nZUFkZFBpcGVcIjpcclxuICAgICAgICBjb2RlQ29udHJvbGxlci5jaGFuZ2VBZGRQaXBlKG9iai5uYW1lLCBvYmoucG9zc2l0aW9ucywgb2JqLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJzZWxlY3RQaXBlXCI6XHJcbiAgICAgICAgY29kZUNvbnRyb2xsZXIuc2VsZWN0UGlwZShvYmoubmFtZSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5sZXQgbWFpbkNvbnRyb2xsZXIgPSBuZXcgTWFpbkNvbnRyb2xsZXIoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==