{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"ConfigurationConverter\",\"[object Object]\",\"editor\",\"getValue\",\"replace\",\"xml\",\"DOMParser\",\"parseFromString\",\"transformedXml\",\"JSON\",\"parse\",\"this\",\"xml2json\",\"Configuration\",\"Module\",\"Adapter\",\"forEach\",\"item\",\"index\",\"Array\",\"isArray\",\"localStorage\",\"getItem\",\"tab\",\"X\",\"toObj\",\"nodeType\",\"attributes\",\"length\",\"nodeName\",\"nodeValue\",\"toString\",\"firstChild\",\"textChild\",\"cdataChild\",\"hasElementChild\",\"nextSibling\",\"match\",\"removeWhite\",\"escape\",\"innerXml\",\"documentElement\",\"toJson\",\"ind\",\"json\",\"join\",\"arr\",\"node\",\"innerHTML\",\"asXml\",\"txt\",\"e\",\"normalize\",\"nxt\",\"removeChild\",\"CodeModel\",\"initAdapter\",\"adapter\",\"ValidateConfigurationView\",\"xmllint\",\"validateXML\",\"schema\",\"TOTAL_MEMORY\",\"lineNumber\",\"decorations\",\"deltaDecorations\",\"range\",\"monaco\",\"Range\",\"options\",\"glyphMarginClassName\",\"getModel\",\"getAllDecorations\",\"setValue\",\"CodeCompletionView\",\"codeView\",\"schemaNode\",\"stringToXml\",\"childNodes\",\"console\",\"log\",\"languages\",\"registerCompletionItemProvider\",\"getXmlCompletionProvider\",\"text\",\"xmlDoc\",\"window\",\"ActiveXObject\",\"async\",\"loadXML\",\"tags\",\"closingTags\",\"indexOf\",\"push\",\"substring\",\"tagPosition\",\"lastIndexOf\",\"tag\",\"tagName\",\"isAttributeSearch\",\"splice\",\"items\",\"isCompletionAvailable\",\"itemIdx\",\"clearedText\",\"elements\",\"elementName\",\"shouldSkipLevel\",\"child\",\"findElements\",\"children\",\"getElementAttributes\",\"attrs\",\"findAttributes\",\"element\",\"getItemDocumentation\",\"textContent\",\"itemName\",\"maxOccurs\",\"count\",\"parseInt\",\"usedItems\",\"availableItems\",\"elementAttrs\",\"isItemAvailable\",\"label\",\"kind\",\"CompletionItemKind\",\"Field\",\"detail\",\"type\",\"documentation\",\"usedChildTags\",\"Property\",\"cur\",\"triggerCharacters\",\"provideCompletionItems\",\"model\",\"position\",\"textUntilPosition\",\"getValueInRange\",\"startLineNumber\",\"startColumn\",\"endLineNumber\",\"endColumn\",\"column\",\"areaUntilPositionInfo\",\"getAreaInfo\",\"lastOpenedTag\",\"getLastOpenedTag\",\"openedTags\",\"lastChild\",\"lastElementChild\",\"currentItem\",\"getAvailableAttribute\",\"getAvailableElements\",\"CodeView_CodeView\",\"listeners\",\"ibisdocJson\",\"validateConfigurationView\",\"listener\",\"data\",\"notify\",\"document\",\"getElementById\",\"language\",\"theme\",\"glyphMargin\",\"automaticLayout\",\"selectPipe\",\"executeEdits\",\"adapters\",\"option\",\"select\",\"$\",\"attr\",\"append\",\"findMatches\",\"inlineClassName\",\"oldWord\",\"newWord\",\"changeNameCode\",\"newX\",\"newY\",\"pipe\",\"split\",\"find\",\"word\",\"RegExp\",\"str\",\"slice\",\"edit\",\"attributeObjectRegex\",\"exit\",\"firstLine\",\"lastLine\",\"reg\",\"changed\",\"newPipe\",\"path\",\"search\",\"newLineRange\",\"toLowerCase\",\"possitions\",\"className\",\"adapterName\",\"matchString\",\"matches\",\"some\",\"x\",\"y\",\"types\",\"occurences\",\"receiver\",\"charAt\",\"ToBeautifulSyntax\",\"exits\",\"doc\",\"oldPipe\",\"toUpperCase\",\"CodeController_CodeController\",\"mainController\",\"codeModel\",\"addListener\",\"toBeautiful\",\"initListeners\",\"getXsd\",\"getCode\",\"getConfigurations\",\"makeEditor\",\"on\",\"val\",\"setItem\",\"click\",\"prettyXML\",\"beautify\",\"onMouseDown\",\"target\",\"generateFlow\",\"onDidChangeContent\",\"flowController\",\"flowView\",\"moving\",\"adding\",\"css\",\"remove\",\"error\",\"modifyFlow\",\"validate\",\"validateConfiguration\",\"undoDecorations\",\"errors\",\"decorateLine\",\"getTypes\",\"changeName\",\"changePossition\",\"changeExitPossition\",\"changeAddForward\",\"deleteForward\",\"changeAddPipe\",\"fetch\",\"method\",\"then\",\"response\",\"setPipes\",\"catch\",\"err\",\"configurations\",\"toBeautifulSyntax\",\"addOptions\",\"DescriptionView\",\"id\",\"canvas\",\"el\",\"addClass\",\"descriptionText\",\"PipeView_PipeView\",\"descriptionView\",\"extra\",\"isExit\",\"descText\",\"windows\",\"typeText\",\"typeWindow\",\"getTypeImage\",\"bottomContainer\",\"nameText\",\"hr\",\"extraText\",\"addDescription\",\"instance\",\"makeSource\",\"filter\",\"filterExclude\",\"maxConnections\",\"endpoint\",\"radius\",\"cssClass\",\"anchor\",\"sourceAnchors\",\"connector\",\"connectorType\",\"stub\",\"gap\",\"cornerRadius\",\"alwaysRespectStubs\",\"midpoint\",\"makeTarget\",\"dropOptions\",\"hoverClass\",\"connect\",\"source\",\"paletteImg\",\"img\",\"url\",\"testImage\",\"Image\",\"src\",\"alt\",\"title\",\"onerror\",\"FlowGenerator_FlowGenerator\",\"pipeView\",\"addPipe\",\"resetWindows\",\"Pipeline\",\"reset\",\"empty\",\"forwards\",\"xpos\",\"ypos\",\"checkPossitions\",\"FixedQuerySender\",\"description\",\"Forward\",\"forwardData\",\"sourcePipe\",\"targetPipe\",\"nextPipe\",\"addExits\",\"Exit\",\"setOffsets\",\"Receiver\",\"addReceiver\",\"generateForwards\",\"displayError\",\"generated\",\"counter\",\"getAllConnections\",\"conn\",\"sourceId\",\"connection\",\"targetId\",\"sourceEndpoint\",\"firstElementChild\",\"targetEndpoint\",\"deleteConnection\",\"each\",\"f\",\"$element\",\"refactoredText\",\"paintStyle\",\"stroke\",\"strokeWidth\",\"dashstyle\",\"overlays\",\"location\",\"padding\",\"FlowView_FlowView\",\"horizontalBuild\",\"flowGenerator\",\"getInstance\",\"domtoimage\",\"toSvg\",\"dataUrl\",\"link\",\"createElement\",\"download\",\"href\",\"jsPlumb\",\"DragOptions\",\"cursor\",\"zIndex\",\"PaintStyle\",\"ConnectionOverlays\",\"visible\",\"Container\",\"registerConnectionType\",\"change\",\"obj\",\"notifyListeners\",\"addCustomPipe\",\"editTitle\",\"cleanPossitions\",\"oldTitle\",\"newTitle\",\"prompt\",\"boxOffset\",\"box\",\"totalLength\",\"windowLength\",\"PaletteView_PaletteView\",\"pipes\",\"palette\",\"button\",\"collapsBox\",\"buttonText\",\"setHandlers\",\"coll\",\"getElementsByClassName\",\"addEventListener\",\"classList\",\"toggle\",\"content\",\"nextElementSibling\",\"style\",\"display\",\"ev\",\"preventDefault\",\"stopPropagation\",\"FlowController_FlowController\",\"paletteView\",\"hoverSourceWindow\",\"initHandlers\",\"convertConfiguration\",\"modifyCode\",\"getImage\",\"toggleConnectorType\",\"removeClass\",\"$panzoom\",\"panzoom\",\"sourceDiv\",\"parentElement\",\"dragData\",\"disabled\",\"containment\",\"drag\",\"dragObj\",\"hasClass\",\"stop\",\"event\",\"ui\",\"draggable\",\"isSourceEnabled\",\"toggleSourceEnabled\",\"innerWidth\",\"innerHeight\",\"minScale\",\"increment\",\"current_pullY\",\"current_pullX\",\"Math\",\"abs\",\"parent\",\"shiftKey\",\"delta\",\"originalEvent\",\"wheelDelta\",\"zoomOut\",\"deltaY\",\"focal\",\"configurationConverter\",\"codeController\",\"generatePalettePipes\",\"classes\",\"line\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class i{convertConfiguration(e){let t=e.getValue();t=t.replace(/<[^\\/][\\S]*?[^\"\\/]Pipe/g,\"<pipe\"),t=t.replace(/<[\\/][\\S]*?[^\"\\/]Pipe/g,\"</pipe\").replace(/&/g,\"\"),t=t.replace(/<!--[^]*?-->/g,\"\");let n=(new DOMParser).parseFromString(t,\"text/xml\"),i=JSON.parse(this.xml2json(n).replace(\"undefined\",\"\"));return null==i.Configuration.Module&&null!=i.Configuration.Adapter?i.Adapter=i.Configuration.Adapter:i.Configuration.Module.forEach((function(e,t){Array.isArray(e.Adapter)?e.Adapter.forEach((function(e,t){null!=e[\"@name\"]&&e[\"@name\"]==localStorage.getItem(\"currentAdapter\")&&(i.Adapter=e)})):null!=e.Adapter&&null!=e.Adapter[\"@name\"]&&e.Adapter[\"@name\"]==localStorage.getItem(\"currentAdapter\")&&(i=e)})),i}domParse(e){return(new DOMParser).parseFromString(e,\"text/xml\")}xml2json(e,t){var n={toObj:function(e){var t={};if(1==e.nodeType){if(e.attributes.length)for(var i=0;i<e.attributes.length;i++)t[\"@\"+e.attributes[i].nodeName]=(e.attributes[i].nodeValue||\"\").toString();if(e.firstChild){for(var a=0,o=0,r=!1,s=e.firstChild;s;s=s.nextSibling)1==s.nodeType?r=!0:3==s.nodeType&&s.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)?a++:4==s.nodeType&&o++;if(r)if(a<2&&o<2){n.removeWhite(e);for(s=e.firstChild;s;s=s.nextSibling)3==s.nodeType?t[\"#text\"]=n.escape(s.nodeValue):4==s.nodeType?t[\"#cdata\"]=n.escape(s.nodeValue):t[s.nodeName]?t[s.nodeName]instanceof Array?t[s.nodeName][t[s.nodeName].length]=n.toObj(s):t[s.nodeName]=[t[s.nodeName],n.toObj(s)]:t[s.nodeName]=n.toObj(s)}else e.attributes.length?t[\"#text\"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(a)e.attributes.length?t[\"#text\"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(o)if(o>1)t=n.escape(n.innerXml(e));else for(s=e.firstChild;s;s=s.nextSibling)t[\"#cdata\"]=n.escape(s.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType&&(t=n.toObj(e.documentElement));return t},toJson:function(e,t,i){var a=t?'\"'+t+'\"':\"\";if(e instanceof Array){for(var o=0,r=e.length;o<r;o++)e[o]=n.toJson(e[o],\"\",i+\"\\t\");a+=(t?\":[\":\"[\")+(e.length>1?\"\\n\"+i+\"\\t\"+e.join(\",\\n\"+i+\"\\t\")+\"\\n\"+i:e.join(\"\"))+\"]\"}else if(null==e)a+=(t&&\":\")+\"null\";else if(\"object\"==typeof e){var s=[];for(var l in e)s[s.length]=n.toJson(e[l],l,i+\"\\t\");a+=(t?\":{\":\"{\")+(s.length>1?\"\\n\"+i+\"\\t\"+s.join(\",\\n\"+i+\"\\t\")+\"\\n\"+i:s.join(\"\"))+\"}\"}else a+=\"string\"==typeof e?(t&&\":\")+'\"'+e.toString()+'\"':(t&&\":\")+e.toString();return a},innerXml:function(e){var t=\"\";if(\"innerHTML\"in e)t=e.innerHTML;else for(var n=function(e){var t=\"\";if(1==e.nodeType){t+=\"<\"+e.nodeName;for(var i=0;i<e.attributes.length;i++)t+=\" \"+e.attributes[i].nodeName+'=\"'+(e.attributes[i].nodeValue||\"\").toString()+'\"';if(e.firstChild){t+=\">\";for(var a=e.firstChild;a;a=a.nextSibling)t+=n(a);t+=\"</\"+e.nodeName+\">\"}else t+=\"/>\"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+=\"<![CDATA[\"+e.nodeValue+\"]]>\");return t},i=e.firstChild;i;i=i.nextSibling)t+=n(i);return t},escape:function(e){return e.replace(/[\\\\]/g,\"\\\\\\\\\").replace(/[\\\"]/g,'\\\\\"').replace(/[\\n]/g,\"\\\\n\").replace(/[\\r]/g,\"\\\\r\")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1==t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var i=n.toJson(n.toObj(n.removeWhite(e)),e.nodeName,\"\\t\");return\"{\\n\"+t+(t?i.replace(/\\t/g,t):i.replace(/\\t|\\n/g,\"\"))+\"\\n}\"}}class a{constructor(){this.initAdapter()}initAdapter(){this.adapter=[\"<Adapter\",'\\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"','\\txsi:noNamespaceSchemaLocation=\"https://ibis4example.ibissource.org/rest/ibisdoc/ibisdoc.xsd\"','\\tname=\"HelloWorld\" ','\\tdescription=\"Voorbeeld adapter\">','\\t<Receiver name=\"HelloWorld\">','\\t\\t<ApiListener name=\"HelloWorld\"','\\t\\t\\turiPattern=\"helloworld/{inputString}\"','\\t\\t\\tmethod = \"get\"',\"\\t\\t/>\",\"\\t</Receiver>\",'\\t<Pipeline firstPipe=\"SwitchInput\">','\\t\\t<XmlSwitchPipe name=\"SwitchInput\"','\\t\\t\\tgetInputFromFixedValue=\"&lt;dummy/&gt;\"','\\t\\t\\txpathExpression=\"$input\" x=\"436\" y=\"131\">','\\t\\t\\t<Param name=\"input\" sessionKey=\"inputString\"></Param>',\"\\t\\t</XmlSwitchPipe>\\n\\n\",\"\\t\\t<FixedResultPipe\",'\\t\\t\\tname=\"NFHelloWorld\"','\\t\\t\\treturnString=\"Hallo Ricardo !\"','\\t\\t \\tx=\"863\" y=\"228\">','\\t\\t\\t<Forward name=\"success\" path=\"Exit\"/>',\"\\t\\t</FixedResultPipe>\\n\",'\\t\\t<Exit path=\"ServerError\" state=\"error\" code=\"500\"/>','\\t\\t<Exit path=\"Exit\" state=\"success\" code=\"201\"/>',\"\\t</Pipeline>\",\"</Adapter>\"]}}class o{constructor(e){this.editor=e}validateConfiguration(){return xmllint.validateXML({xml:this.editor.getValue().replace(/\\sx=\".*?\"/g,\"\").replace(/\\sy=\".*?\"/g,\"\"),schema:localStorage.getItem(\"ibisdocXsd\"),TOTAL_MEMORY:16777217})}decorateLine(e){this.decorations=this.editor.deltaDecorations([],[{range:new monaco.Range(e,1,e,1),options:{glyphMarginClassName:\"myGlyphMarginClass\"}}])}undoDecorations(){this.decorations=this.editor.deltaDecorations(this.editor.getModel().getAllDecorations(),[{range:new monaco.Range(1,1,1,1),options:{}}]),this.editor.getModel().setValue(this.editor.getModel().getValue())}}class r{constructor(e){this.codeView=e}initProvider(){this.schemaNode=this.stringToXml(localStorage.getItem(\"ibisdocXsd\").replace(/xs\\:/g,\"\")).childNodes[0],console.log(this.schemaNode,\"hoi\"),monaco.languages.registerCompletionItemProvider(\"xml\",this.getXmlCompletionProvider(monaco))}stringToXml(e){var t;window.DOMParser?t=(new DOMParser).parseFromString(e,\"text/xml\"):((t=new ActiveXObject(\"Microsoft.XMLDOM\")).async=!1,t.loadXML(e));return t}getLastOpenedTag(e){var t=e.match(/<\\/*(?=\\S*)([a-zA-Z-]+)/g);if(t)for(var n=[],i=t.length-1;i>=0;i--)if(0===t[i].indexOf(\"</\"))n.push(t[i].substring(\"</\".length));else{var a=e.lastIndexOf(t[i]),o=t[i].substring(\"<\".length);if(-1===e.indexOf(\"/>\",a)){if(!n.length||n[n.length-1]!==o)return{tagName:o,isAttributeSearch:(e=e.substring(a)).indexOf(\"<\")>e.indexOf(\">\")};n.splice(n.length-1,1)}e=e.substring(0,a)}}getAreaInfo(e){var t=['\"',\"'\",\"\\x3c!--\",\"<![CDATA[\"],n=!0;e=e.replace(/\"([^\"\\\\]*(\\\\.[^\"\\\\]*)*)\"|\\'([^\\'\\\\]*(\\\\.[^\\'\\\\]*)*)\\'|<!--([\\s\\S])*?-->|<!\\[CDATA\\[(.*?)\\]\\]>/g,\"\");for(var i=0;i<t.length;i++){var a=e.indexOf(t[i]);a>-1&&(e=e.substring(0,a),n=!1)}return console.log(\"completion available: \",n,e),{isCompletionAvailable:n,clearedText:e}}shouldSkipLevel(e){return\"complexType\"===e||\"all\"===e||\"sequence\"===e}findElements(e,t){for(var n=0;n<e.length;n++)if(\"annotation\"!==e[n].tagName&&\"attribute\"!==e[n].tagName)if(this.shouldSkipLevel(e[n].tagName)){var i=this.findElements(e[n].children,t);if(i)return i}else{if(!t)return e;if(this.getElementAttributes(e[n]).name===t)return e[n]}}findAttributes(e){for(var t=[],n=0;n<e.length;n++)if(\"complexType\"===e[n].tagName){var i=this.findAttributes(e[n].children);if(i)return i}else\"attribute\"===e[n].tagName&&t.push(e[n]);return t}getElementAttributes(e){for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;return t}getItemDocumentation(e){for(var t=0;t<e.children.length;t++){if(\"annotation\"===e.children[t].tagName)return this.getItemDocumentation(e.children[0]);if(\"documentation\"===e.children[t].tagName)return e.children[t].textContent}}isItemAvailable(e,t,n){if((t=t||\"1\")&&\"unbounded\"===t)return!0;for(var i=0,a=0;a<n.length;a++)n[a]===e&&i++;return 0===i||parseInt(t)>i}getAvailableElements(e,t,n){for(var i,a=[],o=0;o<t.length;o++)\"annotation\"!==t[o].tagName&&(i=this.findElements([t[o]]));if(!i)return[];for(o=0;o<i.length;o++){let t=this.getElementAttributes(i[o]);this.isItemAvailable(t.name,t.maxOccurs,n)&&a.push({label:t.name,kind:e.languages.CompletionItemKind.Field,detail:t.type,documentation:this.getItemDocumentation(i[o])})}return a}getAvailableAttribute(e,t,n){for(var i,a=[],o=0;o<t.length;o++)\"annotation\"!==t[o].tagName&&(i=this.findAttributes([t[o]]));if(!i)return[];for(o=0;o<i.length;o++){var r=this.getElementAttributes(i[o]);this.isItemAvailable(r.name,r.maxOccurs,n)&&a.push({label:r.name,kind:e.languages.CompletionItemKind.Property,detail:r.type,documentation:this.getItemDocumentation(i[o])})}return a}getXmlCompletionProvider(e){let t=this;return{triggerCharacters:[\"<\"],provideCompletionItems:function(n,i){var a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}),o=t.getAreaInfo(a);if(console.log(\"position: \",o),!o.isCompletionAvailable)return[];var r=t.getLastOpenedTag(o.clearedText);console.log(\"last opened tag: \",r);var s=[],l=[],c=r&&r.isAttributeSearch;if(r){var d=t.stringToXml(n.getValue()),g=d.lastElementChild;for(console.log(d);g;){if(s.push(g.tagName),g.tagName===r.tagName){if(r.isAttributeSearch)for(var p=g.attributes,h=0;h<p.length;h++)l.push(p[h].nodeName);else{var u=g.children;for(h=0;h<u.length;h++)l.push(u[h].tagName)}break}g=g.lastElementChild}}var m=this.schemaNode;for(h=0;h<s.length;h++)m&&(m=t.findElements(m.children,s[h]));return c?m?t.getAvailableAttribute(e,m.children,l):[]:m?t.getAvailableElements(e,m.children,l):[]}}}}class s{constructor(){this.listeners=[],this.ibisdocJson=null,this.decorations=null,this.decorations=null,this.validateConfigurationView,this.CodeCompletionView=new r(this)}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}makeEditor(e){this.editor=monaco.editor.create(document.getElementById(\"monacoContainer\"),{value:e,language:\"xml\",theme:\"vs-dark\",glyphMargin:!0,automaticLayout:!0}),this.selectPipe(\"SwitchInput\"),this.validateConfigurationView=new o(this.editor)}edit(e,t){this.editor.executeEdits(\"monacoContainer\",[{range:e,text:t}])}addOptions(e){let t,n,i=$(\"#adapterSelect\");e.forEach((function(e,a){n=e.match(/<Configuration[^]*?name=\".*?\"/g),null!=n&&(n=n[0].match(/\".*?\"/g)[0].replace(/\"/g,\"\"),t=$(\"<option></option>\").attr(\"value\",a).text(n),$(i).append(t))})),this.editor.setValue(localStorage.getItem(\"0\"))}selectPipe(e){let t=this,n=null;if(this.editor.getModel().findMatches('<[\\\\S]*?[^\"/][pP]ipe[\\\\s\\\\t\\\\n][^]*?>[^]*?<[/][\\\\S]*?[^\"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){null!==t.editor.getModel().getValueInRange(i.range).match('name=\"'+e+'\"',\"g\")&&(n=i.range)})),null==n)return n;this.decorations=this.editor.deltaDecorations([],[{range:n,options:{inlineClassName:\"myContentClass\"}}])}changeName(e,t){this.changeNameCode('<[\\\\S]*?[^\"/][pP]ipe(\\\\n\\\\t*)?\\\\s?name=\"\\\\w*\"',e,t)&&this.changeNameCode('<forward(\\\\n\\\\t*)?(\\\\s\\\\w*=\"(\\\\s?\\\\S)*\"(\\\\n\\\\t*)?)*\\\\/>',e,t)}changePossition(e,t,n){let i=this;this.editor.getModel().findMatches('<[\\\\S]*?[^\"/][pP]ipe[\\\\s\\\\t\\\\n][^]*?>',!1,!0,!1,!1).forEach((function(a,o){let r=i.editor.getModel().getValueInRange(a.range);if(r.split('\"').find(t=>t===e)){if(r.split(/[\\s=]/).find(e=>\"x\"==e))r=r.replace(new RegExp('x=\"[0-9]*\"',\"g\"),'x=\"'+t+'\"'),r=r.replace(new RegExp('y=\"[0-9]*\"',\"g\"),'y=\"'+n+'\"');else{let e=' x=\"'+t+'\" y=\"'+n+'\"';r=-1!=r.indexOf(\"/>\")?r.slice(0,r.indexOf(\"/\"))+e+r.slice(r.indexOf(\"/\")):r.slice(0,r.indexOf(\">\"))+e+r.slice(r.indexOf(\">\"))}i.edit(a.range,r)}}))}changeExitPossition(e,t,n){let i=this,a=($(\"#canvas\").text().match(/Adapter:\\s.*?\\s/g)[0].replace(/Adapter:\\s/g,\"\").replace(\" \",\"\"),'<Adapter name=\"'+localStorage.getItem(\"currentAdapter\")+'\"[\\\\s\\\\S\\\\n]*?<Exit [^]*?\\\\/>');this.editor.getModel().findMatches(a,!1,!0,!1,!1).forEach((function(a,o){let r=i.editor.getModel().getValueInRange(a.range);if(r=r.match(\"<Exit [^]*?\\\\/>\")[0],-1!=r.indexOf('path=\"'+e+'\"')){if(-1!=r.indexOf('x=\"'))r=r.replace(/x=\"[0-9]*?\"/g,'x=\"'+t+'\"').replace(/y=\"[0-9]*?\"/g,'y=\"'+n+'\"');else{let e=' x=\"'+t+'\" y=\"'+n+'\"';r=r.slice(0,r.indexOf(\"/\"))+e+r.slice(r.indexOf(\"/\"))}a.range.firstLine=a.range.lastLine,i.edit(a.range,r)}}))}changeNameCode(e,t,n){let i=this,a=this.editor,o=!1,r=e;return a.getModel().findMatches(r,!1,!0,!1,!1).forEach((function(e,r){let s=a.getModel().getValueInRange(e.range);if(s.split('\"').find(e=>e===t)){let a=s.replace(new RegExp(t,\"g\"),n);o=!0,i.edit(e.range,a)}})),o}changeAddForward(e,t){let n=this;this.editor.getModel().findMatches('<[\\\\S]*?[^\"/][pP]ipe[\\\\s\\\\t\\\\n][^]*?>[^]*?<[/][\\\\S]*?[^\"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){let o=n.editor.getModel().getValueInRange(i.range);if(o.split(/[\\s>]/).find(t=>t==='name=\"'+e+'\"')){o=o.slice(0,o.search(/<[/][\\S]*?[^\"/]Pipe/))+'\\t<Forward name=\"success\" path=\"'+t+'\"/>';let e={endColumn:1,endLineNumber:i.range.endLineNumber,startColumn:1,startLineNumber:i.range.endLineNumber};n.edit(e,\"\\n\"),n.edit(i.range,o)}}))}deleteForward(e,t){let n=this;this.editor.getModel().findMatches('<[\\\\S]*?[^\"/][pP]ipe[\\\\s\\\\t\\\\n][^]*?>[^]*?<[/][\\\\S]*?[^\"/]Pipe>',!1,!0,!1,!1).forEach((function(i,a){let o=n.editor.getModel().getValueInRange(i.range);if(o.split(/[\\s>]/).find(t=>t==='name=\"'+e+'\"')){t=\"exit\"==t.toLowerCase()?\"Exit\":t;let e=o.replace(new RegExp('<Forward[^/]*?path=\"'+t+'\"[^]*?/>',\"gi\"),\"\");n.edit(i.range,e)}}))}changeAddPipe(e,t,n=\"customPipe\"){let i=this,a=$(\"#canvas\").text().match(/Adapter:\\s.*?\\s/g)[0].replace(/Adapter:\\s/g,\"\").replace(\" \",\"\");console.log(a.length);let o='<Adapter name=\"'+localStorage.getItem(\"currentAdapter\")+'\"[\\\\s\\\\S\\\\n]*?<Exit';console.log(o);let r=this.editor.getModel().getValue().match(o);console.log(r);let s=this.editor.getModel().findMatches(o,!1,!0,!1,!1);console.log(s),s.some((function(a,o){console.log(a.range);let r=a.range;r.startColumn=1,r.endColumn=1,r.startLineNumber=r.endLineNumber,i.edit(r,\"\\n\");let s=\"\\t\\t\\t<\"+n+' name=\"'+e+'\" x=\"'+t.x+'\" y=\"'+t.y+'\">\\n\\n\\t\\t\\t</'+n+\">\\n\";return i.edit(r,s),!0}))}getTypes(){let e,t={},n=this.editor.getValue(),i=n.split(/[<>]/),a=null,o=n.match(/<Receiver[^]*?name=\".*?\"[^]*?>/g);return o=null!=o?o[0].match(/\".*?\"/g)[0].replace(/\"/g,\"\"):\"NO_RECEIVER_FOUND\",t['\"receiver\" '+o]=\"Receiver\",i.forEach((function(n,i){if(n.search(/[^/][\\S]*?[^\"/]Pipe[^]*?name=\".*?\"/)>-1&&\"/\"!=n.charAt(0)){let i=n.slice(n.search(/[^/][\\S]*?[^\"/]Pipe[^]*?name=\".*?\"/));null!=i.match(/name=\".*?\"/)&&(e=i.match(/name=\".*?\"/)[0].match(/\".*?\"/)[0].replace(/\"/g,\"\")),null!=i.match(/[^]*?Pipe/)&&(a=i.match(/[^]*?Pipe/)[0]),null!==a&&null!==e&&(t[e]=a)}})),t}}class l{constructor(){}toBeautifulSyntax(e){let t,n=e.match(/<pipe(\\n\\t*)?(\\s\\w*=\"(\\s?\\S)*\"(\\n\\t*)?)*>[^]*?<\\/pipe>/g),i=e;if(null!=n)return n.forEach((function(e,t){let n=e,a=\"\",o=n.match(/className=\".*?\"/)[0].match(/\\.[^.]*?\"/)[0].replace(/[\".]/g,\"\");null==o.match(/.*?Pipe/)&&(o+=\"Pipe\"),a=n.replace(/className=\".*?\"/g,\"\"),a=a.replace(/<pipe/g,\"<\"+o).replace(/<\\/pipe>/,\"</\"+o+\">\"),i=i.replace(n,a)})),i=i.replace(/<listener[^]*?className=\".*?\"[^]*?\\/>/g,(function(e){let t=e.match(/className=\".*?\"/)[0].match(/\\.[^.]*?\"/)[0].replace(/[\".]/g,\"\");return e=\"<\"+(e=e.replace(/className=\".*?\"/g,\"\")).replace(/<.*? /g,t+\" \")})).replace(/<[\\/]?[a-zA-Z]/g,(function(e){return e.toUpperCase()})),t=i.match(/<Exits>[^]*?<\\/Exits>/)[0].replace(/<\\/?Exits>/g,\"\").replace(/\\t/,\"\"),i=i.replace(/<Exits>[^]*?<\\/Exits>/g,\"\").replace(/<\\/Pipeline>/g,t+\"\\n \\t\\t</Pipeline>\").replace(/className=\".*?\"/g,\"\"),i}}class c{constructor(e){this.mainController=e,this.codeModel=new a,this.codeView=new s,this.codeView.addListener(this),this.toBeautiful=new l,this.notify({type:\"getData\"}),this.notify({type:\"setEditor\"}),this.editor=this.codeView.editor,this.initListeners()}notify(e){switch(e.type){case\"getData\":this.getXsd(),this.getCode(),this.getConfigurations();break;case\"setEditor\":this.codeView.makeEditor()}}initListeners(){let e=this;$(\"#adapterSelect\").on(\"change\",(function(t){let n=$(\"#adapterSelect\").val();e.editor.getModel().setValue(localStorage.getItem(n))})),$(\"#adapterSelect\").on(\"click\",(function(t){let n=$(\"#adapterSelect\").val();localStorage.setItem(n,e.editor.getModel().getValue())})),$(\"#beautify\").click((function(){let t=beautify.xml(e.editor.getValue(),4);e.editor.getModel().setValue(t)})),e.editor.onMouseDown((function(t){t.target.range.startLineNumber=1,t.target.range.startColumn=1;let n=e.editor.getModel().getValueInRange(t.target.range).match(/<Adapter[^]*?name=\".*?\">/g);if(null!=n){let t=n[n.length-1].match(/name=\"[^]*?\"/g)[0].match(/\"[^]*?\"/g)[0].replace(/\"/g,\"\");localStorage.setItem(\"currentAdapter\",t),e.mainController.generateFlow()}})),this.editor.getModel().onDidChangeContent((function(t){if(!e.mainController.flowController.flowView.moving&&!e.mainController.flowController.flowView.adding)try{$(\"#canvas\").css(\"display\",\"block\"),$(\".customErrorMessage\").remove(),e.mainController.generateFlow()}catch(t){console.log(\"error\",t),e.mainController.flowController.flowView.modifyFlow(\"error\",t)}})),$(\"#runXsd\").click((function(){let t=e.validateConfiguration(),n=0;e.undoDecorations(),null!==t.errors&&(console.log(t.errors),t.errors.forEach((function(t,i){n=t.match(/:.*?:/)[0].replace(/:/g,\"\"),e.decorateLine(n)})))}))}selectPipe(e){this.codeView.selectPipe(e)}getTypes(){return this.codeView.getTypes()}validateConfiguration(){return this.codeView.validateConfigurationView.validateConfiguration()}decorateLine(e){this.codeView.validateConfigurationView.decorateLine(e)}undoDecorations(){this.codeView.validateConfigurationView.undoDecorations()}changeName(e,t){this.codeView.changeName(e,t)}changePossition(e,t,n){this.codeView.changePossition(e,t,n)}changeExitPossition(e,t,n){this.codeView.changeExitPossition(e,t,n)}changeAddForward(e,t){this.codeView.changeAddForward(e,t)}deleteForward(e,t){this.codeView.deleteForward(e,t)}changeAddPipe(e,t,n){this.codeView.changeAddPipe(e,t,n)}getPipes(){return this.codeView.ibisdocJson}getCode(){let e=this;fetch(\"../rest/ibisdoc/ibisdoc.json\",{method:\"GET\"}).then(e=>e.json()).then(t=>{e.codeView.ibisdocJson=t,e.mainController.setPipes(t)}).catch(e=>{console.log(e)})}getXsd(){fetch(\"../rest/ibisdoc/ibisdoc.xsd\",{method:\"GET\"}).then(e=>e.text()).then(e=>{localStorage.setItem(\"ibisdocXsd\",e),console.log(\"xsd is loaded!, here\")}).catch(e=>{console.log(\"not loaded xsd\",e)})}getConfigurations(){let e=this;fetch(\"../iaf/api/configurations\",{method:\"GET\"}).then(e=>e.text()).then(e=>{let t=[];return e.match(/<[cC]onfiguration[^]*?>[^]*?<\\/[cC]onfiguration>/g).forEach((function(e,n){t.push(e)})),t}).then(t=>(t.forEach((function(n,i){null==n.match(/<Configuration/g)?(t[i]=e.toBeautiful.toBeautifulSyntax(n),localStorage.setItem(i,e.toBeautiful.toBeautifulSyntax(n))):localStorage.setItem(i,n)})),t)).then(t=>{e.codeView.addOptions(t)}).catch(e=>{console.log(\"couldnt load configurations\",e)})}}class d{constructor(){}addDescription(e,t,n){let i=$(\"#canvas\"),a=$(\"<div></div>\").addClass(\"description\").attr(\"id\",\"description\"+n),o=$(\"<p></p>\").text(e);a.append(o),console.log(\"desc Text:\"+e,t),t.x=parseInt(t.x)+300,$(a).css(\"left\",t.x+\"px\"),$(a).css(\"top\",t.y+\"px\"),i.append(a)}}class g{constructor(e){this.flowView=e,this.descriptionView=new d}addPipe(e,t,n,i,a){let o=this.flowView,r=o.windows+=1,s=$(\"#canvas\"),l=$(\"<div></div>\").addClass(\"window sourceWindow\").attr(\"id\",\"sourceWindow\"+r),c=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(o.getTypes()[e]),d=$(\"<div></div>\").addClass(\"typeWindow\").append(this.getTypeImage(e),c),g=$(\"<div></div>\").addClass(\"bottomContainer\"),p=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(e),h=$(\"<hr>\"),u=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(n);return i?g.append(p,u):g.append(p,h,u),l.append(d,g),null!=t&&($(l).css(\"left\",t.x+\"px\"),$(l).css(\"top\",t.y+\"px\"),a&&this.descriptionView.addDescription(a,t,r)),i&&$(l).addClass(\"exit\"),instance.makeSource(l,{filter:\".enableDisableSource\",filterExclude:!0,maxConnections:-1,endpoint:[\"Dot\",{radius:7,cssClass:\"small-blue\"}],anchor:o.sourceAnchors,connector:[o.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]}),instance.makeTarget(l,{dropOptions:{hoverClass:\"hover\"},anchor:[\"Left\",\"Top\",\"Right\"],endpoint:[\"Dot\",{radius:11,cssClass:\"large-green\"}]}),s.append(l),a&&instance.connect({source:\"sourceWindow\"+r,target:\"description\"+r}),e}getTypeImage(e,t){let n,i,a=this.flowView.getTypes(),o=new Image;if(i=t?\"media/\"+e+\".png\":\"media/\"+a[e]+\".png\",null!=i)return n=$(\"<img></img>\").attr({src:i,alt:a[e],title:a[e]}).addClass(\"typeImg\"),o.src=i,o.onerror=function(){n.attr(\"src\",\"media/basicPipe.png\")},n}}class p{constructor(e){this.flowView=e,this.pipeView=new g(e)}addPipe(e=\"pipe\"+this.flowView.windows,t,n=\"\",i,a){return this.pipeView.addPipe(e,t,n,i,a)}generateFlow(e,t){this.flowView.resetWindows();let n=null,i=e;if(null!=i&&null!=i.Adapter&&null!=i.Adapter.Pipeline){if(instance.reset(),$(\"#canvas\").empty(),null!=i.Adapter.Pipeline.pipe){$(\"#canvas\").text(\"Adapter: \"+i.Adapter[\"@name\"]+\" \");let e=i.Adapter.Pipeline.pipe,t=[];if(Array.isArray(e))for(let i in e){let a=e[i][\"@name\"],o=e[i][\"@x\"],r=e[i][\"@y\"],s=\"\",l=null;if(n=this.checkPossitions(o,r),null!=e[i][\"@xpathExpression\"]?s=e[i][\"@xpathExpression\"].slice(0,15)+\"...\":null!=e[i].FixedQuerySender&&null!=e[i].FixedQuerySender[\"@query\"]&&(s=e[i].FixedQuerySender[\"@query\"].slice(0,15)+\"...\"),null!=e[i].description&&(console.log(e[i].description),l=e[i].description),this.addPipe(a,n,s,null,l),null!=e[i].Forward){let n=null;Array.isArray(e[i].Forward)?e[i].Forward.forEach((function(e,i){n={sourcePipe:a,targetPipe:e[\"@path\"],name:e[\"@name\"]},t.push(n)})):(n={sourcePipe:a,targetPipe:e[i].Forward[\"@path\"],name:e[i].Forward[\"@name\"]},t.push(n))}else{let n=parseInt(i)+1;if(null!=e[n]){let i={sourcePipe:a,targetPipe:e[n][\"@name\"],name:\"success\"};t.push(i)}}}else{let n=e[\"@name\"];if(this.addPipe(n),null!=e.Forward){let i=null;Array.isArray(e.Forward)?e.Forward.forEach((function(e,a){i={sourcePipe:n,targetPipe:e[\"@path\"],name:e[\"@name\"]},t.push(i)})):(i={sourcePipe:n,targetPipe:e.Forward[\"@path\"],name:e.Forward[\"@name\"]},t.push(i))}}if(this.addExits(i.Adapter.Pipeline.Exit),null===n?this.flowView.setOffsets(!1):this.flowView.setOffsets(!0),null!=i.Adapter.Receiver){let e=this.addReceiver(i,t[0].sourcePipe);t.push(e)}this.generateForwards(t)}}else this.flowView.displayError(i)}checkPossitions(e,t){return null==e&&null!=t?e=t:null==t&&null!=e&&(t=e),null!=e&&null!=t?{x:e,y:t}:null}addReceiver(e,t){return this.addPipe(\"(receiver): \"+e.Adapter.Receiver[\"@name\"],{x:\"600\",y:\"400\"}),{sourcePipe:\"(receiver): \"+e.Adapter.Receiver[\"@name\"],targetPipe:t,name:\"request\"}}addExits(e){let t,n,i,a,o=e;if(null!=o)if(Array.isArray(o)){let e=this;o.forEach((function(r,s){n=o[s][\"@path\"],a=o[s][\"@x\"],i=o[s][\"@y\"],null!=a&&null!=i&&(t={x:a,y:i}),e.addPipe(n,t,\"\",!0)}))}else n=o[\"@path\"],a=o[\"@x\"],i=o[\"@y\"],null!=a&&null!=i&&(t={x:a,y:i}),this.addPipe(n,t,\"\",!0)}generateForwards(e){let t=!0,n=this;instance.bind(\"connection\",(function(e,i){let a=0;instance.getAllConnections().forEach((function(t){t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId&&a<2&&a++}));let o=e.sourceEndpoint.element.lastChild.firstElementChild.textContent,r=e.targetEndpoint.element.lastChild.firstElementChild.textContent;e.connection.bind(\"dblclick\",(function(e){instance.deleteConnection(e),n.flowView.modifyFlow(\"delete\",{name:o,target:r})})),a>1?instance.getAllConnections().some((function(t){if(t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId)return instance.deleteConnection(t),!0})):t||n.flowView.modifyFlow(\"connection\",{source:o,target:r})}));let i=\"\",a=\"\";t=!0,$(e).each((function(e,t){i=\"\",a=\"\",null==t.targetPipe&&(t.targetPipe=t.name),$(\".sourceWindow\").each((function(e,n){var o=$(n)[0];let r=o.lastChild.firstChild.innerHTML;r==t.sourcePipe?i=$(o).attr(\"id\"):r==t.targetPipe&&(a=$(o).attr(\"id\"))}));let n={stroke:\"#000000\",strokeWidth:3};\"failure\"==t.name||\"exception\"==t.name?n.stroke=\"#FF0000\":\"success\"==t.name?n.stroke=\"#22bb33\":\"request\"!=t.name&&\"response\"!=t.name||(n.dashstyle=\"2 4\"),\"\"!=i&&\"\"!=a&&instance.connect({source:i,target:a,paintStyle:n,overlays:[[\"Label\",{label:t.name,id:\"label\",location:.1,padding:100}]],connector:[this.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]})})),t=!1}}class h{constructor(){this.transformedXml=null,this.types=[],this.listeners=[],this.windows=0,this.moving=!1,this.adding=!1,this.connectorType=\"Flowchart\",this.horizontalBuild=!1,this.flowGenerator=new p(this),this.getInstance()}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}getImage(){var e=document.getElementById(\"canvas\");domtoimage.toSvg(e).then((function(e){var t=document.createElement(\"a\");t.download=\"lol.svg\",t.href=e,t.click()})).catch((function(e){console.error(\"oops, something went wrong!\",e)}))}resetWindows(){this.windows=0}getInstance(){this.sourceAnchors=[\"Top\",\"Right\",\"Left\",[.25,1,0,1],[.5,1,0,1],[.75,1,0,1],[1,1,0,1]],this.instance=window.instance=jsPlumb.getInstance({DragOptions:{cursor:\"pointer\",zIndex:2e3},PaintStyle:{stroke:\"#000000\",strokeWidth:3},ConnectionOverlays:[[\"Arrow\",{location:1,visible:!0,id:\"ARROW\",zIndex:1e3}]],Container:\"canvas\"});this.instance.registerConnectionType(\"basic\",{connector:[\"StateMachine\",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}]})}modifyFlow(e,t){switch(e){case\"generate\":this.generateFlow();break;case\"add\":this.notifyListeners(this.addCustomPipe(t.name,t.className));break;case\"edit\":this.notifyListeners(this.editTitle(t));break;case\"connection\":this.adding=!0,t.type=\"changeAddForward\",this.notifyListeners(t),this.adding=!1;break;case\"drag\":(t=this.cleanPossitions(t)).type=\"drag\",this.notifyListeners(t);break;case\"dragExit\":(t=this.cleanPossitions(t)).type=\"dragExit\",this.notifyListeners(t);break;case\"delete\":t.type=\"delete\",this.notifyListeners(t);break;case\"error\":this.displayError(t)}}cleanPossitions(e){return e.x=e.x.replace(/px/,\"\"),e.y=e.y.replace(/px/,\"\"),e}editTitle(e){let t=e.innerHTML,n=prompt(\"What is the new Title?\",t);return null!=n?(e.innerHTML=n,{oldTitle:t,newTitle:n}):null}addCustomPipe(e,t){return{type:\"changeAddPipe\",name:this.addPipe(e,{x:100,y:100}),possitions:{x:100,y:100},className:t}}toggleConnectorType(e){\"Flowchart\"===e.connectorType?e.connectorType=\"StateMachine\":e.connectorType=\"Flowchart\",e.generateFlow()}addPipe(e,t,n,i){return this.flowGenerator.addPipe(e,t,n,i)}getTypes(){return this.notifyListeners({type:\"getTypes\"}),this.types}setOffsets(e){let t=0;this.moving=!0;for(let n=1;n<=this.windows;n++){if(t+=250,!e){let e=$(\"#sourceWindow\"+n);this.horizontalBuild?(e.css(\"top\",\"100px\"),e.css(\"left\",t+\"px\")):e.css(\"top\",t+\"px\"),this.modifyFlow(\"drag\",{name:e[0].lastChild.firstElementChild.textContent,x:e.css(\"left\"),y:e.css(\"top\")})}let i,a;this.horizontalBuild?(i=t+(64*n-1e3),a=parseInt($(\"#canvas\").css(\"width\").replace(\"px\",\"\")),i>a&&$(\"#canvas\").css(\"width\",i)):(i=t+(64*n-1450),a=parseInt($(\"#canvas\").css(\"height\").replace(\"px\",\"\")),i>a&&$(\"#canvas\").css(\"height\",i))}this.moving=!1}generateFlow(){this.notifyListeners({type:\"convertConfiguration\"}),this.flowGenerator.generateFlow(this.transformedXml,this.windows)}displayError(e){instance.reset(),$(\"#canvas\").empty(),$(\"#canvas\").css(\"display\",\"none\"),$(\".customErrorMessage\").remove(),$(\"#flowContainer\").append($(\"<h1></h1>\").text(\"Error\"+e).addClass(\"customErrorMessage\"))}}class u{constructor(e){this.listeners=[],this.pipes=null,this.flowView=e.flowView}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}generatePalettePipes(e){let t=new g(this.flowView),n=$(\"#palette\");e.forEach((function(e,i){$(\"<strong></strong>\").text(e.name);let a,o=$(\"<button></button>\").attr(\"type\",\"button\").addClass(\"collapsible listItem\"),r=$(\"<div></div>\").addClass(\"content\"),s=$(\"<span></span>\").addClass(\"buttonText\").text(e.name);a=t.getTypeImage(e.name,!0).attr(\"id\",e.name),o.append(s),r.append(a),n.append(o,r)})),this.setHandlers()}setHandlers(){let e=this;var t,n=document.getElementsByClassName(\"collapsible\");for(t=0;t<n.length;t++)n[t].addEventListener(\"click\",(function(){this.classList.toggle(\"active\");var e=this.nextElementSibling;\"block\"===e.style.display?e.style.display=\"none\":e.style.display=\"block\"}));$(\"#canvas\").on(\"dragover\",(function(e){e.preventDefault(),e.stopPropagation()})),$(\"#canvas\").on(\"drop\",(function(t){t.preventDefault(),t.stopPropagation();let n=localStorage.getItem(\"dropPipe\");e.flowView.modifyFlow(\"add\",{name:\"new\"+n,className:n})})),$(\".typeImg\").on(\"dragstart\",(function(e){console.log(\"drag\"),localStorage.setItem(\"dropPipe\",e.target.id)}))}}class m{constructor(e){this.mainController=e,this.flowView=new h,this.flowView.addListener(this),this.paletteView=new u(this),this.paletteView.addListener(this),this.notify({type:\"getPipes\"}),this.hoverSourceWindow=!1,this.initHandlers()}notify(e){if(null!=e)switch(e.type){case\"convertConfiguration\":this.flowView.transformedXml=this.mainController.convertConfiguration();break;case\"getTypes\":this.flowView.types=this.mainController.modifyCode(\"getTypes\");break;case\"changeName\":this.mainController.modifyCode(\"changeName\",e);break;case\"changeAddPipe\":this.mainController.modifyCode(\"changeAddPipe\",e);break;case\"changeAddForward\":this.mainController.modifyCode(\"changeAddForward\",e);break;case\"drag\":this.mainController.modifyCode(\"changePossition\",e);break;case\"dragExit\":this.mainController.modifyCode(\"changeExitPossition\",e);break;case\"delete\":this.mainController.modifyCode(\"deleteForward\",e)}}initHandlers(){let e=this;$(\"#addPipe\").click((function(){e.flowView.modifyFlow(\"add\",{name:\"newPipe\",className:\"customPipe\"})})),$(\"#downloadLink\").click((function(){e.flowView.getImage()})),$(\"#setData\").click((function(){e.flowView.generateFlow(e.flowView)})),$(\"#lineChanges\").click((function(){e.flowView.toggleConnectorType(e.flowView)})),$(\"#toggleH\").click((function(){e.flowView.horizontalBuild?(e.flowView.horizontalBuild=!1,$(\"#toggleH\").removeClass(\"selectedItem\")):(e.flowView.horizontalBuild=!0,$(\"#toggleH\").addClass(\"selectedItem\")),e.flowView.generateFlow(e.flowView)})),$(\"#canvas\").on(\"dblclick\",\"#strong\",(function(t){t.stopPropagation(),console.log(\"dblclick!\"),\"EXIT\"!==this.innerHTML&&e.flowView.modifyFlow(\"edit\",this)})),jsPlumb.on($(\"#canvas\"),\"mouseover\",\".sourceWindow\",(function(){t.panzoom(\"disable\")})),jsPlumb.on($(\"#canvas\"),\"mouseout\",\".sourceWindow\",(function(){t.panzoom(\"enable\"),$(\"#flowContainer\").attr(\"style\",\"\")})),$(\"#canvas\").on(\"click\",\".sourceWindow\",(function(t){t.preventDefault(),e.mainController.modifyCode(\"undoDecorations\"),e.mainController.modifyCode(\"selectPipe\",{name:this.lastElementChild.firstElementChild.innerHTML})})),jsPlumb.on($(\"#canvas\"),\"mouseover\",\".bottomContainer\",(function(){let t=this.parentElement,n={disabled:!1,containment:\"#canvas\",drag:function(){e.flowView.moving=!0;let n={x:$(t).css(\"left\"),y:$(t).css(\"top\"),name:t.lastElementChild.firstElementChild.innerHTML};$(t).hasClass(\"exit\")?e.flowView.modifyFlow(\"dragExit\",n):e.flowView.modifyFlow(\"drag\",n)},stop:function(t,n){e.flowView.moving=!1}};instance.draggable(t,n),instance.isSourceEnabled(t)&&instance.toggleSourceEnabled(t),$(this).addClass(\"element-disabled\")})),jsPlumb.on($(\"#canvas\"),\"mouseout\",\".bottomContainer\",(function(){let e=this.parentElement;instance.draggable(e,{disabled:!0}),instance.isSourceEnabled(e)||instance.toggleSourceEnabled(e),$(this).removeClass(\"element-disabled\")}));$(\"#flowContainer\").innerWidth(),$(\"#flowContainer\").innerHeight();let t=$(\"#canvas\").panzoom({minScale:.5,increment:.2});t.on(\"panzoomend\",(function(e){var n=parseInt($(\"#canvas\").css(\"transform\").split(\",\")[5]),i=parseInt($(\"#canvas\").css(\"transform\").split(\",\")[4]);i>=0&&t.panzoom(\"pan\",0,n),n<=1e3-Math.abs($(\"#canvas\").css(\"height\").replace(\"px\",\"\"))&&t.panzoom(\"pan\",i,1e3-Math.abs($(\"#canvas\").css(\"height\").replace(\"px\",\"\"))),i<=-1540&&t.panzoom(\"pan\",-1540,n),n>=0&&t.panzoom(\"pan\",i,0),$(\"#flowContainer\").attr(\"style\",\"\")})),t.parent().on(\"mousewheel.focal\",(function(e){if(e.shiftKey){e.preventDefault();var n=e.delta||e.originalEvent.wheelDelta,i=n?n<0:e.originalEvent.deltaY>0;t.panzoom(\"zoom\",i,{increment:.1,focal:e})}}))}}new class{constructor(){this.configurationConverter=new i,this.codeController=new c(this),this.flowController=new m(this)}convertConfiguration(){return this.configurationConverter.convertConfiguration(this.codeController.codeView.editor)}generateFlow(){this.flowController.flowView.modifyFlow(\"generate\")}setPipes(e){this.flowController.paletteView.generatePalettePipes(e[2].classes)}modifyCode(e,t){let n=this.codeController;switch(e){case\"getTypes\":return n.getTypes();case\"validateConfiguration\":return n.validateConfiguration();case\"decorateLine\":n.decorateLine(t.line);break;case\"undoDecorations\":n.undoDecorations();break;case\"changeName\":n.changeName(t.oldTitle,t.newTitle);break;case\"changePossition\":n.changePossition(t.name,t.x,t.y);break;case\"changeExitPossition\":n.changeExitPossition(t.name,t.x,t.y);break;case\"changeAddForward\":n.changeAddForward(t.source,t.target);break;case\"deleteForward\":n.deleteForward(t.name,t.target);break;case\"changeAddPipe\":n.changeAddPipe(t.name,t.possitions,t.className);break;case\"selectPipe\":n.selectPipe(t.name)}}}}]);","extractedComments":[]}