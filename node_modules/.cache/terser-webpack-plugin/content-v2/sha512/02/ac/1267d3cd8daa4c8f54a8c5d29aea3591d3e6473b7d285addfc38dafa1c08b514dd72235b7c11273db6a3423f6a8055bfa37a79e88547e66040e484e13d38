{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"Error\",\"__webpack_exports__\",\"ConfigurationConverter\",\"[object Object]\",\"editor\",\"getValue\",\"replace\",\"xml\",\"DOMParser\",\"parseFromString\",\"transformedXml\",\"JSON\",\"parse\",\"this\",\"xml2json\",\"Configuration\",\"Module\",\"Adapter\",\"Array\",\"isArray\",\"forEach\",\"item\",\"index\",\"localStorage\",\"getItem\",\"tab\",\"X\",\"toObj\",\"nodeType\",\"attributes\",\"length\",\"nodeName\",\"nodeValue\",\"toString\",\"firstChild\",\"textChild\",\"cdataChild\",\"hasElementChild\",\"nextSibling\",\"match\",\"removeWhite\",\"escape\",\"innerXml\",\"documentElement\",\"toJson\",\"ind\",\"json\",\"join\",\"arr\",\"node\",\"innerHTML\",\"asXml\",\"txt\",\"e\",\"normalize\",\"nxt\",\"removeChild\",\"CodeController\",\"CodeController_default\",\"DescriptionView\",\"text\",\"possitions\",\"id\",\"canvas\",\"$\",\"el\",\"addClass\",\"attr\",\"descriptionText\",\"append\",\"console\",\"log\",\"x\",\"parseInt\",\"css\",\"y\",\"PipeView_PipeView\",\"flowView\",\"descriptionView\",\"extra\",\"isExit\",\"descText\",\"windows\",\"typeText\",\"getTypes\",\"typeWindow\",\"getTypeImage\",\"bottomContainer\",\"nameText\",\"hr\",\"extraText\",\"addDescription\",\"instance\",\"makeTarget\",\"dropOptions\",\"hoverClass\",\"anchor\",\"endpoint\",\"radius\",\"cssClass\",\"makeSource\",\"filter\",\"filterExclude\",\"maxConnections\",\"sourceAnchors\",\"connector\",\"connectorType\",\"stub\",\"gap\",\"cornerRadius\",\"alwaysRespectStubs\",\"midpoint\",\"connect\",\"source\",\"target\",\"paletteImg\",\"img\",\"url\",\"types\",\"testImage\",\"Image\",\"src\",\"alt\",\"title\",\"onerror\",\"ConsoleColorPick\",\"FlowGenerator_FlowGenerator\",\"pipeView\",\"consoleColor\",\"addPipe\",\"resetWindows\",\"Pipeline\",\"reset\",\"empty\",\"pipe\",\"forwards\",\"xpos\",\"ypos\",\"checkPossitions\",\"slice\",\"FixedQuerySender\",\"description\",\"Forward\",\"forwardData\",\"sourcePipe\",\"targetPipe\",\"push\",\"nextPipe\",\"addExits\",\"Exit\",\"setOffsets\",\"Receiver\",\"addReceiver\",\"generateForwards\",\"displayError\",\"exits\",\"exit\",\"cur\",\"generated\",\"counter\",\"getAllConnections\",\"conn\",\"sourceId\",\"connection\",\"targetId\",\"sourceEndpoint\",\"element\",\"lastChild\",\"firstElementChild\",\"textContent\",\"targetEndpoint\",\"deleteConnection\",\"modifyFlow\",\"some\",\"each\",\"f\",\"$element\",\"refactoredText\",\"paintStyle\",\"stroke\",\"strokeWidth\",\"dashstyle\",\"overlays\",\"label\",\"location\",\"padding\",\"FlowView_FlowView\",\"listeners\",\"moving\",\"adding\",\"horizontalBuild\",\"flowGenerator\",\"getInstance\",\"listener\",\"data\",\"notify\",\"document\",\"getElementById\",\"domtoimage\",\"toSvg\",\"then\",\"dataUrl\",\"link\",\"createElement\",\"download\",\"href\",\"click\",\"catch\",\"error\",\"window\",\"jsPlumb\",\"DragOptions\",\"cursor\",\"zIndex\",\"PaintStyle\",\"ConnectionOverlays\",\"visible\",\"Container\",\"registerConnectionType\",\"change\",\"obj\",\"generateFlow\",\"notifyListeners\",\"addCustomPipe\",\"className\",\"editTitle\",\"type\",\"cleanPossitions\",\"oldTitle\",\"newTitle\",\"prompt\",\"boxOffset\",\"box\",\"totalLength\",\"windowLength\",\"remove\",\"PaletteView_PaletteView\",\"flowController\",\"pipes\",\"palette\",\"button\",\"collapsBox\",\"buttonText\",\"setHandlers\",\"coll\",\"getElementsByClassName\",\"addEventListener\",\"classList\",\"toggle\",\"content\",\"nextElementSibling\",\"style\",\"display\",\"on\",\"ev\",\"preventDefault\",\"stopPropagation\",\"setItem\",\"FlowController_FlowController\",\"mainController\",\"addListener\",\"paletteView\",\"hoverSourceWindow\",\"initHandlers\",\"convertConfiguration\",\"modifyCode\",\"getImage\",\"toggleConnectorType\",\"removeClass\",\"$panzoom\",\"panzoom\",\"lastElementChild\",\"sourceDiv\",\"parentElement\",\"dragData\",\"disabled\",\"containment\",\"drag\",\"dragObj\",\"hasClass\",\"stop\",\"event\",\"ui\",\"draggable\",\"isSourceEnabled\",\"toggleSourceEnabled\",\"innerWidth\",\"innerHeight\",\"minScale\",\"increment\",\"current_pullY\",\"split\",\"current_pullX\",\"Math\",\"abs\",\"parent\",\"shiftKey\",\"delta\",\"originalEvent\",\"wheelDelta\",\"zoomOut\",\"deltaY\",\"focal\",\"configurationConverter\",\"codeController\",\"a\",\"webkitRequestFileSystem\",\"codeView\",\"generatePalettePipes\",\"classes\",\"validateConfiguration\",\"decorateLine\",\"line\",\"undoDecorations\",\"changeName\",\"changePossition\",\"changeExitPossition\",\"changeAddForward\",\"deleteForward\",\"changeAddPipe\",\"selectPipe\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t){throw new Error(\"Module parse failed: Unexpected token (49:63)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|       reader.onload = function() {\\n|         var dataURL = reader.result;\\n>         cur.editor.setValue(atob(dataURL.replace(/[^]*?,/, ''));\\n|       }\\n|       reader.readAsDataURL(input.files[0]);\")},function(e,t,n){\"use strict\";n.r(t);class i{convertConfiguration(e){let t=e.getValue();t=t.replace(/<[^\\/][\\S]*?[^\"\\/]Pipe/g,\"<pipe\"),t=t.replace(/<[\\/][\\S]*?[^\"\\/]Pipe/g,\"</pipe\").replace(/&/g,\"\"),t=t.replace(/<!--[^]*?-->/g,\"\");let n=(new DOMParser).parseFromString(t,\"text/xml\"),i=JSON.parse(this.xml2json(n).replace(\"undefined\",\"\"));return null==i.Configuration.Module&&null!=i.Configuration.Adapter?i.Adapter=i.Configuration.Adapter:Array.isArray(i.Configuration.Module)?i.Configuration.Module.forEach((function(e,t){Array.isArray(e.Adapter)?e.Adapter.forEach((function(e,t){null!=e[\"@name\"]&&e[\"@name\"]==localStorage.getItem(\"currentAdapter\")&&(i.Adapter=e)})):null!=e.Adapter&&null!=e.Adapter[\"@name\"]&&e.Adapter[\"@name\"]==localStorage.getItem(\"currentAdapter\")&&(i=e)})):i.Adapter=i.Configuration.Module.Adapter,i}domParse(e){return(new DOMParser).parseFromString(e,\"text/xml\")}xml2json(e,t){var n={toObj:function(e){var t={};if(1==e.nodeType){if(e.attributes.length)for(var i=0;i<e.attributes.length;i++)t[\"@\"+e.attributes[i].nodeName]=(e.attributes[i].nodeValue||\"\").toString();if(e.firstChild){for(var o=0,a=0,r=!1,s=e.firstChild;s;s=s.nextSibling)1==s.nodeType?r=!0:3==s.nodeType&&s.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)?o++:4==s.nodeType&&a++;if(r)if(o<2&&a<2){n.removeWhite(e);for(s=e.firstChild;s;s=s.nextSibling)3==s.nodeType?t[\"#text\"]=n.escape(s.nodeValue):4==s.nodeType?t[\"#cdata\"]=n.escape(s.nodeValue):t[s.nodeName]?t[s.nodeName]instanceof Array?t[s.nodeName][t[s.nodeName].length]=n.toObj(s):t[s.nodeName]=[t[s.nodeName],n.toObj(s)]:t[s.nodeName]=n.toObj(s)}else e.attributes.length?t[\"#text\"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(o)e.attributes.length?t[\"#text\"]=n.escape(n.innerXml(e)):t=n.escape(n.innerXml(e));else if(a)if(a>1)t=n.escape(n.innerXml(e));else for(s=e.firstChild;s;s=s.nextSibling)t[\"#cdata\"]=n.escape(s.nodeValue)}e.attributes.length||e.firstChild||(t=null)}else 9==e.nodeType&&(t=n.toObj(e.documentElement));return t},toJson:function(e,t,i){var o=t?'\"'+t+'\"':\"\";if(e instanceof Array){for(var a=0,r=e.length;a<r;a++)e[a]=n.toJson(e[a],\"\",i+\"\\t\");o+=(t?\":[\":\"[\")+(e.length>1?\"\\n\"+i+\"\\t\"+e.join(\",\\n\"+i+\"\\t\")+\"\\n\"+i:e.join(\"\"))+\"]\"}else if(null==e)o+=(t&&\":\")+\"null\";else if(\"object\"==typeof e){var s=[];for(var l in e)s[s.length]=n.toJson(e[l],l,i+\"\\t\");o+=(t?\":{\":\"{\")+(s.length>1?\"\\n\"+i+\"\\t\"+s.join(\",\\n\"+i+\"\\t\")+\"\\n\"+i:s.join(\"\"))+\"}\"}else o+=\"string\"==typeof e?(t&&\":\")+'\"'+e.toString()+'\"':(t&&\":\")+e.toString();return o},innerXml:function(e){var t=\"\";if(\"innerHTML\"in e)t=e.innerHTML;else for(var n=function(e){var t=\"\";if(1==e.nodeType){t+=\"<\"+e.nodeName;for(var i=0;i<e.attributes.length;i++)t+=\" \"+e.attributes[i].nodeName+'=\"'+(e.attributes[i].nodeValue||\"\").toString()+'\"';if(e.firstChild){t+=\">\";for(var o=e.firstChild;o;o=o.nextSibling)t+=n(o);t+=\"</\"+e.nodeName+\">\"}else t+=\"/>\"}else 3==e.nodeType?t+=e.nodeValue:4==e.nodeType&&(t+=\"<![CDATA[\"+e.nodeValue+\"]]>\");return t},i=e.firstChild;i;i=i.nextSibling)t+=n(i);return t},escape:function(e){return e.replace(/[\\\\]/g,\"\\\\\\\\\").replace(/[\\\"]/g,'\\\\\"').replace(/[\\n]/g,\"\\\\n\").replace(/[\\r]/g,\"\\\\r\")},removeWhite:function(e){e.normalize();for(var t=e.firstChild;t;)if(3==t.nodeType)if(t.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1==t.nodeType?(n.removeWhite(t),t=t.nextSibling):t=t.nextSibling;return e}};9==e.nodeType&&(e=e.documentElement);var i=n.toJson(n.toObj(n.removeWhite(e)),e.nodeName,\"\\t\");return\"{\\n\"+t+(t?i.replace(/\\t/g,t):i.replace(/\\t|\\n/g,\"\"))+\"\\n}\"}}var o=n(0),a=n.n(o);class r{constructor(){}addDescription(e,t,n){let i=$(\"#canvas\"),o=$(\"<div></div>\").addClass(\"description\").attr(\"id\",\"description\"+n),a=$(\"<p></p>\").text(e);o.append(a),console.log(\"desc Text:\"+e,t),t.x=parseInt(t.x)+300,$(o).css(\"left\",t.x+\"px\"),$(o).css(\"top\",t.y+\"px\"),i.append(o)}}class s{constructor(e){this.flowView=e,this.descriptionView=new r}addPipe(e,t,n,i,o){let a=this.flowView,r=a.windows+=1,s=$(\"#canvas\"),l=$(\"<div></div>\").addClass(\"window sourceWindow\").attr(\"id\",\"sourceWindow\"+r),c=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(a.getTypes()[e]),d=$(\"<div></div>\").addClass(\"typeWindow\").append(this.getTypeImage(e),c),p=$(\"<div></div>\").addClass(\"bottomContainer\"),u=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(e),f=$(\"<hr>\"),h=$(\"<strong></strong>\").attr(\"id\",\"strong\").text(n);return i?p.append(u,h):p.append(u,f,h),l.append(d,p),null!=t&&($(l).css(\"left\",t.x+\"px\"),$(l).css(\"top\",t.y+\"px\"),o&&this.descriptionView.addDescription(o,t,r)),instance.makeTarget(l,{dropOptions:{hoverClass:\"hover\"},anchor:[\"Left\",\"Top\",\"Right\"],endpoint:[\"Dot\",{radius:11,cssClass:\"large-green\"}]}),i?$(l).addClass(\"exit\"):instance.makeSource(l,{filter:\".enableDisableSource\",filterExclude:!0,maxConnections:-1,endpoint:[\"Dot\",{radius:7,cssClass:\"small-blue\"}],anchor:a.sourceAnchors,connector:[a.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]}),s.append(l),o&&instance.connect({source:\"sourceWindow\"+r,target:\"description\"+r}),e}getTypeImage(e,t){let n,i,o=this.flowView.getTypes(),a=new Image;if(i=t?\"media/\"+e+\".png\":\"media/\"+o[e]+\".png\",null!=i)return n=$(\"<img></img>\").attr({src:i,alt:o[e],title:o[e]}).addClass(\"typeImg\"),a.src=i,a.onerror=function(){n.attr(\"src\",\"media/basicPipe.png\")},n}}class l{constructor(){}getRedColor(){return\"color: #FF0000\"}getDefaultColor(){return\"background: #222; color: #bada55\"}}class c{constructor(e){this.flowView=e,this.pipeView=new s(e),this.consoleColor=new l}addPipe(e=\"pipe\"+this.flowView.windows,t,n=\"\",i,o){return this.pipeView.addPipe(e,t,n,i,o)}generateFlow(e,t){this.flowView.resetWindows();let n=null,i=e;if(null!=i&&null!=i.Adapter&&null!=i.Adapter.Pipeline){if(instance.reset(),$(\"#canvas\").empty(),null!=i.Adapter.Pipeline.pipe){$(\"#canvas\").text(\"Adapter: \"+i.Adapter[\"@name\"]+\" \");let e=i.Adapter.Pipeline.pipe,t=[];if(Array.isArray(e))for(let i in e){let o=e[i][\"@name\"],a=e[i][\"@x\"],r=e[i][\"@y\"],s=\"\",l=null;if(n=this.checkPossitions(a,r),null!=e[i][\"@xpathExpression\"]?s=e[i][\"@xpathExpression\"].slice(0,15)+\"...\":null!=e[i].FixedQuerySender&&null!=e[i].FixedQuerySender[\"@query\"]&&(s=e[i].FixedQuerySender[\"@query\"].slice(0,15)+\"...\"),null!=e[i].description&&(console.log(e[i].description),l=e[i].description),this.addPipe(o,n,s,null,l),null!=e[i].Forward){let n=null;Array.isArray(e[i].Forward)?e[i].Forward.forEach((function(e,i){n={sourcePipe:o,targetPipe:e[\"@path\"],name:e[\"@name\"]},t.push(n)})):(n={sourcePipe:o,targetPipe:e[i].Forward[\"@path\"],name:e[i].Forward[\"@name\"]},t.push(n))}else{let n=parseInt(i)+1;if(null!=e[n]){let i={sourcePipe:o,targetPipe:e[n][\"@name\"],name:\"success\"};t.push(i)}}}else{let n=e[\"@name\"];if(this.addPipe(n),null!=e.Forward){let i=null;Array.isArray(e.Forward)?e.Forward.forEach((function(e,o){i={sourcePipe:n,targetPipe:e[\"@path\"],name:e[\"@name\"]},t.push(i)})):(i={sourcePipe:n,targetPipe:e.Forward[\"@path\"],name:e.Forward[\"@name\"]},t.push(i))}}if(this.addExits(i.Adapter.Pipeline.Exit),null===n?this.flowView.setOffsets(!1):this.flowView.setOffsets(!0),null!=i.Adapter.Receiver){let e=this.addReceiver(i,t[0].sourcePipe);t.push(e)}this.generateForwards(t)}}else this.flowView.displayError(i)}checkPossitions(e,t){return null==e&&null!=t?e=t:null==t&&null!=e&&(t=e),null!=e&&null!=t?{x:e,y:t}:null}addReceiver(e,t){return this.addPipe(\"(receiver): \"+e.Adapter.Receiver[\"@name\"],{x:\"600\",y:\"400\"}),{sourcePipe:\"(receiver): \"+e.Adapter.Receiver[\"@name\"],targetPipe:t,name:\"request\"}}addExits(e){let t,n,i,o,a=e;if(null!=a)if(Array.isArray(a)){let e=this;a.forEach((function(r,s){n=a[s][\"@path\"],o=a[s][\"@x\"],i=a[s][\"@y\"],null!=o&&null!=i&&(t={x:o,y:i}),e.addPipe(n,t,\"\",!0)}))}else n=a[\"@path\"],o=a[\"@x\"],i=a[\"@y\"],null!=o&&null!=i&&(t={x:o,y:i}),this.addPipe(n,t,\"\",!0)}generateForwards(e){let t=!0,n=this;instance.bind(\"connection\",(function(e,i){let o=0;instance.getAllConnections().forEach((function(t){t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId&&o<2&&o++}));let a=e.sourceEndpoint.element.lastChild.firstElementChild.textContent,r=e.targetEndpoint.element.lastChild.firstElementChild.textContent;e.connection.bind(\"dblclick\",(function(e){instance.deleteConnection(e),n.flowView.modifyFlow(\"delete\",{name:a,target:r})})),o>1?instance.getAllConnections().some((function(t){if(t.sourceId==e.connection.sourceId&&t.targetId==e.connection.targetId)return instance.deleteConnection(t),!0})):t||n.flowView.modifyFlow(\"connection\",{source:a,target:r})}));let i=\"\",o=\"\";t=!0,$(e).each((function(e,t){i=\"\",o=\"\",null==t.targetPipe&&(t.targetPipe=t.name),$(\".sourceWindow\").each((function(e,n){var a=$(n)[0];let r=a.lastChild.firstChild.innerHTML;r==t.sourcePipe?i=$(a).attr(\"id\"):r==t.targetPipe&&(o=$(a).attr(\"id\"))}));let n={stroke:\"#000000\",strokeWidth:3};\"failure\"==t.name||\"exception\"==t.name?n.stroke=\"#FF0000\":\"success\"==t.name?n.stroke=\"#22bb33\":\"request\"!=t.name&&\"response\"!=t.name||(n.dashstyle=\"2 4\"),\"\"!=i&&\"\"!=o&&instance.connect({source:i,target:o,paintStyle:n,overlays:[[\"Label\",{label:t.name,id:\"label\",location:.1,padding:100}]],connector:[this.connectorType,{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0,midpoint:1e-4}]})})),t=!1}}class d{constructor(){this.transformedXml=null,this.types=[],this.listeners=[],this.windows=0,this.moving=!1,this.adding=!1,this.connectorType=\"Flowchart\",this.horizontalBuild=!1,this.flowGenerator=new c(this),this.getInstance()}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}getImage(){var e=document.getElementById(\"canvas\");domtoimage.toSvg(e).then((function(e){var t=document.createElement(\"a\");t.download=localStorage.getItem(\"currentAdapter\")+\".svg\",t.href=e,t.click()})).catch((function(e){console.error(\"oops, something went wrong!\",e)}))}resetWindows(){this.windows=0}getInstance(){this.sourceAnchors=[\"Top\",\"Right\",\"Left\",[.25,1,0,1],[.5,1,0,1],[.75,1,0,1],[1,1,0,1]],this.instance=window.instance=jsPlumb.getInstance({DragOptions:{cursor:\"pointer\",zIndex:2e3},PaintStyle:{stroke:\"#000000\",strokeWidth:3},ConnectionOverlays:[[\"Arrow\",{location:1,visible:!0,id:\"ARROW\",zIndex:1e3}]],Container:\"canvas\"});this.instance.registerConnectionType(\"basic\",{connector:[\"StateMachine\",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}]})}modifyFlow(e,t){switch(e){case\"generate\":this.generateFlow();break;case\"add\":this.notifyListeners(this.addCustomPipe(t.name,t.className));break;case\"edit\":this.notifyListeners(this.editTitle(t));break;case\"connection\":this.adding=!0,t.type=\"changeAddForward\",this.notifyListeners(t),this.adding=!1;break;case\"drag\":(t=this.cleanPossitions(t)).type=\"drag\",this.notifyListeners(t);break;case\"dragExit\":(t=this.cleanPossitions(t)).type=\"dragExit\",this.notifyListeners(t);break;case\"delete\":t.type=\"delete\",this.notifyListeners(t);break;case\"error\":this.displayError(t)}}cleanPossitions(e){return e.x=e.x.replace(/px/,\"\"),e.y=e.y.replace(/px/,\"\"),e}editTitle(e){let t=e.innerHTML,n=prompt(\"What is the new Title?\",t);return null!=n?(e.innerHTML=n,{oldTitle:t,newTitle:n}):null}addCustomPipe(e,t){return{type:\"changeAddPipe\",name:this.addPipe(e,{x:100,y:100}),possitions:{x:100,y:100},className:t}}toggleConnectorType(e){\"Flowchart\"===e.connectorType?e.connectorType=\"StateMachine\":e.connectorType=\"Flowchart\",e.generateFlow()}addPipe(e,t,n,i){return this.flowGenerator.addPipe(e,t,n,i)}getTypes(){return this.notifyListeners({type:\"getTypes\"}),this.types}setOffsets(e){let t=0;this.moving=!0;for(let n=1;n<=this.windows;n++){if(t+=250,!e){let e=$(\"#sourceWindow\"+n);this.horizontalBuild?(e.css(\"top\",\"100px\"),e.css(\"left\",t+\"px\")):e.css(\"top\",t+\"px\"),this.modifyFlow(\"drag\",{name:e[0].lastChild.firstElementChild.textContent,x:e.css(\"left\"),y:e.css(\"top\")})}let i,o;this.horizontalBuild?(i=t+(64*n-1e3),o=parseInt($(\"#canvas\").css(\"width\").replace(\"px\",\"\")),i>o&&$(\"#canvas\").css(\"width\",i)):(i=t+(64*n-1450),o=parseInt($(\"#canvas\").css(\"height\").replace(\"px\",\"\")),i>o&&$(\"#canvas\").css(\"height\",i))}this.moving=!1}generateFlow(){this.notifyListeners({type:\"convertConfiguration\"}),this.flowGenerator.generateFlow(this.transformedXml,this.windows)}displayError(e){instance.reset(),$(\"#canvas\").empty(),$(\"#canvas\").css(\"display\",\"none\"),$(\".customErrorMessage\").remove(),$(\"#flowContainer\").append($(\"<h1></h1>\").text(\"Error\"+e).addClass(\"customErrorMessage\"))}}class p{constructor(e){this.listeners=[],this.pipes=null,this.flowView=e.flowView}addListener(e){this.listeners.push(e)}notifyListeners(e){this.listeners.forEach(t=>t.notify(e))}generatePalettePipes(e){let t=new s(this.flowView),n=$(\"#palette\");e.forEach((function(e,i){$(\"<strong></strong>\").text(e.name);let o,a=$(\"<button></button>\").attr(\"type\",\"button\").addClass(\"collapsible listItem\"),r=$(\"<div></div>\").addClass(\"content\"),s=$(\"<span></span>\").addClass(\"buttonText\").text(e.name);o=t.getTypeImage(e.name,!0).attr(\"id\",e.name),a.append(s),r.append(o),n.append(a,r)})),this.setHandlers()}setHandlers(){let e=this;var t,n=document.getElementsByClassName(\"collapsible\");for(t=0;t<n.length;t++)n[t].addEventListener(\"click\",(function(){this.classList.toggle(\"active\");var e=this.nextElementSibling;\"block\"===e.style.display?e.style.display=\"none\":e.style.display=\"block\"}));$(\"#canvas\").on(\"dragover\",(function(e){e.preventDefault(),e.stopPropagation()})),$(\"#canvas\").on(\"drop\",(function(t){t.preventDefault(),t.stopPropagation();let n=localStorage.getItem(\"dropPipe\");e.flowView.modifyFlow(\"add\",{name:\"new\"+n,className:n})})),$(\".typeImg\").on(\"dragstart\",(function(e){console.log(\"drag\"),localStorage.setItem(\"dropPipe\",e.target.id)}))}}class u{constructor(e){this.mainController=e,this.flowView=new d,this.flowView.addListener(this),this.paletteView=new p(this),this.paletteView.addListener(this),this.notify({type:\"getPipes\"}),this.hoverSourceWindow=!1,this.initHandlers()}notify(e){if(null!=e)switch(e.type){case\"convertConfiguration\":this.flowView.transformedXml=this.mainController.convertConfiguration();break;case\"getTypes\":this.flowView.types=this.mainController.modifyCode(\"getTypes\");break;case\"changeName\":this.mainController.modifyCode(\"changeName\",e);break;case\"changeAddPipe\":this.mainController.modifyCode(\"changeAddPipe\",e);break;case\"changeAddForward\":this.mainController.modifyCode(\"changeAddForward\",e);break;case\"drag\":this.mainController.modifyCode(\"changePossition\",e);break;case\"dragExit\":this.mainController.modifyCode(\"changeExitPossition\",e);break;case\"delete\":this.mainController.modifyCode(\"deleteForward\",e)}}initHandlers(){let e=this;$(\"#addPipe\").click((function(){e.flowView.modifyFlow(\"add\",{name:\"newPipe\",className:\"customPipe\"})})),$(\"#downloadLink\").click((function(){e.flowView.getImage()})),$(\"#setData\").click((function(){e.flowView.generateFlow(e.flowView)})),$(\"#lineChanges\").click((function(){e.flowView.toggleConnectorType(e.flowView)})),$(\"#toggleH\").click((function(){e.flowView.horizontalBuild?(e.flowView.horizontalBuild=!1,$(\"#toggleH\").removeClass(\"selectedItem\")):(e.flowView.horizontalBuild=!0,$(\"#toggleH\").addClass(\"selectedItem\")),e.flowView.generateFlow(e.flowView)})),$(\"#canvas\").on(\"dblclick\",\"#strong\",(function(t){t.stopPropagation(),console.log(\"dblclick!\"),\"EXIT\"!==this.innerHTML&&e.flowView.modifyFlow(\"edit\",this)})),jsPlumb.on($(\"#canvas\"),\"mouseover\",\".sourceWindow\",(function(){t.panzoom(\"disable\")})),jsPlumb.on($(\"#canvas\"),\"mouseout\",\".sourceWindow\",(function(){t.panzoom(\"enable\"),$(\"#flowContainer\").attr(\"style\",\"\")})),$(\"#canvas\").on(\"click\",\".sourceWindow\",(function(t){t.preventDefault(),e.mainController.modifyCode(\"undoDecorations\"),e.mainController.modifyCode(\"selectPipe\",{name:this.lastElementChild.firstElementChild.innerHTML})})),jsPlumb.on($(\"#canvas\"),\"mouseover\",\".bottomContainer\",(function(){let t=this.parentElement,n={disabled:!1,containment:\"#canvas\",drag:function(){e.flowView.moving=!0;let n={x:$(t).css(\"left\"),y:$(t).css(\"top\"),name:t.lastElementChild.firstElementChild.innerHTML};$(t).hasClass(\"exit\")?e.flowView.modifyFlow(\"dragExit\",n):e.flowView.modifyFlow(\"drag\",n)},stop:function(t,n){e.flowView.moving=!1}};instance.draggable(t,n),instance.isSourceEnabled(t)&&instance.toggleSourceEnabled(t),$(this).addClass(\"element-disabled\")})),jsPlumb.on($(\"#canvas\"),\"mouseout\",\".bottomContainer\",(function(){let e=this.parentElement;instance.draggable(e,{disabled:!0}),instance.isSourceEnabled(e)||instance.toggleSourceEnabled(e),$(this).removeClass(\"element-disabled\")}));$(\"#flowContainer\").innerWidth(),$(\"#flowContainer\").innerHeight();let t=$(\"#canvas\").panzoom({minScale:.5,increment:.2});t.on(\"panzoomend\",(function(e){var n=parseInt($(\"#canvas\").css(\"transform\").split(\",\")[5]),i=parseInt($(\"#canvas\").css(\"transform\").split(\",\")[4]);i>=0&&t.panzoom(\"pan\",0,n),n<=1e3-Math.abs($(\"#canvas\").css(\"height\").replace(\"px\",\"\"))&&t.panzoom(\"pan\",i,1e3-Math.abs($(\"#canvas\").css(\"height\").replace(\"px\",\"\"))),i<=-1540&&t.panzoom(\"pan\",-1540,n),n>=0&&t.panzoom(\"pan\",i,0),$(\"#flowContainer\").attr(\"style\",\"\")})),t.parent().on(\"mousewheel.focal\",(function(e){if(e.shiftKey){e.preventDefault();var n=e.delta||e.originalEvent.wheelDelta,i=n?n<0:e.originalEvent.deltaY>0;t.panzoom(\"zoom\",i,{increment:.1,focal:e})}}))}}new class{constructor(){this.configurationConverter=new i,this.codeController=new a.a(this),this.flowController=new u(this),console.log(window.webkitRequestFileSystem)}convertConfiguration(){return this.configurationConverter.convertConfiguration(this.codeController.codeView.editor)}generateFlow(){this.flowController.flowView.modifyFlow(\"generate\")}setPipes(e){this.flowController.paletteView.generatePalettePipes(e[2].classes)}modifyCode(e,t){let n=this.codeController;switch(e){case\"getTypes\":return n.getTypes();case\"validateConfiguration\":return n.validateConfiguration();case\"decorateLine\":n.decorateLine(t.line);break;case\"undoDecorations\":n.undoDecorations();break;case\"changeName\":n.changeName(t.oldTitle,t.newTitle);break;case\"changePossition\":n.changePossition(t.name,t.x,t.y);break;case\"changeExitPossition\":n.changeExitPossition(t.name,t.x,t.y);break;case\"changeAddForward\":n.changeAddForward(t.source,t.target);break;case\"deleteForward\":n.deleteForward(t.name,t.target);break;case\"changeAddPipe\":n.changeAddPipe(t.name,t.possitions,t.className);break;case\"selectPipe\":n.selectPipe(t.name)}}}}]);","extractedComments":[]}